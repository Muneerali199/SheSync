exports.id=820,exports.ids=[820],exports.modules={363:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},3064:e=>{"use strict";let t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),i=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),n=(e,t,s,o=new WeakMap)=>{if(s={deep:!1,target:{},...s},o.has(e))return o.get(e);o.set(e,s.target);let{target:a}=s;delete s.target;let l=e=>e.map(e=>i(e)?n(e,t,s,o):e);if(Array.isArray(e))return l(e);for(let[u,c]of Object.entries(e)){let h=t(u,c,e);if(h===r)continue;let[d,f,{shouldRecurse:p=!0}={}]=h;"__proto__"!==d&&(s.deep&&p&&i(f)&&(f=Array.isArray(f)?l(f):n(f,t,s,o)),a[d]=f)}return a};e.exports=(e,r,i)=>{if(!t(e))throw TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return n(e,r,i)},e.exports.mapObjectSkip=r},3119:(e,t,r)=>{"use strict";Object.defineProperty(t,"r",{enumerable:!0,get:function(){return u}});let i=r(63033),n=r(29294),s=r(54717),o=r(14768),a=r(7797),l=r(22113);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,i.throwForMissingRequestStore)("draftMode"),t.type){case"request":return c(t.draftMode,e);case"cache":case"unstable-cache":let r=(0,i.getDraftModeProviderForCacheScope)(e,t);if(r)return c(r,e);case"prerender":case"prerender-ppr":case"prerender-legacy":return d(null);default:return t}}function c(e,t){let r,i=h.get(u);return i||(r=d(e),h.set(e,r),r)}let h=new WeakMap;function d(e){let t=new f(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get:()=>t.isEnabled,set(e){Object.defineProperty(r,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}class f{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){m("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){m("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}let p=(0,o.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});function m(e){let t=n.workAsyncStorage.getStore(),r=i.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});else if("after"===r.phase)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type){let i=Object.defineProperty(Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,i,r)}else if("prerender-ppr"===r.type)(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let i=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw t.dynamicUsageDescription=e,t.dynamicUsageStack=i.stack,i}}}}},3900:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]])},4160:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},6727:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},6918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return n}});let i=r(83717);class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return i.ReflectAdapter.get(t,r,n);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==o)return i.ReflectAdapter.get(t,o,n)},set(t,r,n,s){if("symbol"==typeof r)return i.ReflectAdapter.set(t,r,n,s);let o=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===o);return i.ReflectAdapter.set(t,a??r,n,s)},has(t,r){if("symbol"==typeof r)return i.ReflectAdapter.has(t,r);let n=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==s&&i.ReflectAdapter.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return i.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===s||i.ReflectAdapter.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return n.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,i]of this.entries())e.call(t,i,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},7044:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});let i="undefined"!=typeof window},8407:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return d},ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return l},appendMutableCookies:function(){return h},areCookiesMutableInCurrentPhase:function(){return p},getModifiedCookieValues:function(){return c},responseCookiesToRequestCookies:function(){return y},wrapWithMutableAccessCheck:function(){return f}});let i=r(8568),n=r(83717),s=r(29294),o=r(63033);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new a}}class l{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}let u=Symbol.for("next.mutated.cookies");function c(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}function h(e,t){let r=c(t);if(0===r.length)return!1;let n=new i.ResponseCookies(e),s=n.getAll();for(let e of r)n.set(e);for(let e of s)n.set(e);return!0}class d{static wrap(e,t){let r=new i.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let o=[],a=new Set,l=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),o=r.getAll().filter(e=>a.has(e.name)),t){let e=[];for(let t of o){let r=new i.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},c=new Proxy(r,{get(e,t,r){switch(t){case u:return o;case"delete":return function(...t){a.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),c}finally{l()}};case"set":return function(...t){a.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),c}finally{l()}};default:return n.ReflectAdapter.get(e,t,r)}}});return c}}function f(e){let t=new Proxy(e,{get(e,r,i){switch(r){case"delete":return function(...r){return m("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return m("cookies().set"),e.set(...r),t};default:return n.ReflectAdapter.get(e,r,i)}}});return t}function p(e){return"action"===e.phase}function m(e){if(!p((0,o.getExpectedRequestStore)(e)))throw new a}function y(e){let t=new i.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},8568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return i.RequestCookies},ResponseCookies:function(){return i.ResponseCookies},stringifyCookie:function(){return i.stringifyCookie}});let i=r(55697)},9277:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__esModule:()=>i.B,cookies:()=>i.U,draftMode:()=>s.r,headers:()=>n.b});var i=r(95303),n=r(39526),s=r(3119)},10818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return n},normalizeNextQueryParam:function(){return l},splitCookiesString:function(){return s},toNodeOutgoingHttpHeaders:function(){return o},validateURL:function(){return a}});let i=r(13985);function n(e){let t=new Headers;for(let[r,i]of Object.entries(e))for(let e of Array.isArray(i)?i:[i])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function s(e){var t,r,i,n,s,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,s=!1;l();)if(","===(r=e.charAt(a))){for(i=a,a+=1,l(),n=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(s=!0,a=n,o.push(e.substring(t,i)),t=a):a=i+1}else a+=1;(!s||a>=e.length)&&o.push(e.substring(t,e.length))}return o}function o(e){let t={},r=[];if(e)for(let[i,n]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...s(n)),t[i]=1===r.length?r[0]:r):t[i]=n;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function l(e){for(let t of[i.NEXT_QUERY_PARAM_PREFIX,i.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},11076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return s}});let i=r(43210),n=r(69148);function s(){return(0,i.useContext)(n.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},11860:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},12157:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});let i=(0,r(43210).createContext)({})},12941:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},14952:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},15124:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var i=r(43210);let n=r(7044).B?i.useLayoutEffect:i.useEffect},21134:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},21279:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});let i=(0,r(43210).createContext)(null)},23026:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},25226:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("AppWindowMac",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M14 8h.01",key:"1primd"}]])},26293:(e,t,r)=>{e.exports=r(11076)},26919:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return i.ImageResponse},NextRequest:function(){return n.NextRequest},NextResponse:function(){return s.NextResponse},URLPattern:function(){return a.URLPattern},after:function(){return l.after},connection:function(){return u.connection},unstable_rootParams:function(){return c.unstable_rootParams},userAgent:function(){return o.userAgent},userAgentFromString:function(){return o.userAgentFromString}});let i=r(75704),n=r(32042),s=r(89992),o=r(28200),a=r(28509),l=r(54327),u=r(54910),c=r(71257)},27351:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},27928:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]])},28200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return n},userAgent:function(){return o},userAgentFromString:function(){return s}});let i=function(e){return e&&e.__esModule?e:{default:e}}(r(60831));function n(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function s(e){return{...(0,i.default)(e),isBot:void 0!==e&&n(e)}}function o({headers:e}){return s(e.get("user-agent")||void 0)}},28509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},29089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return i},RemovedUAError:function(){return n}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class n extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},32042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return a},NextRequest:function(){return l}});let i=r(45362),n=r(10818),s=r(29089),o=r(8568),a=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,n.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let s=new i.NextURL(r,{headers:(0,n.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[a]={cookies:new o.RequestCookies(this.headers),nextUrl:s,url:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[a].cookies}get nextUrl(){return this[a].nextUrl}get page(){throw new s.RemovedPageError}get ua(){throw new s.RemovedUAError}get url(){return this[a].url}}},32192:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},32582:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});let i=(0,r(43210).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},34834:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>l});var i=r(37222);function n(e){return e.toLowerCase()}var s=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function a(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(e,t){return e.replace(t,r)},e)}function l(e,t){var r;return void 0===t&&(t={}),void 0===(r=(0,i.Cl)({delimiter:"_"},t))&&(r={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,i=t.stripRegexp,l=t.transform,u=t.delimiter,c=a(a(e,void 0===r?s:r,"$1\0$2"),void 0===i?o:i,"\0"),h=0,d=c.length;"\0"===c.charAt(h);)h++;for(;"\0"===c.charAt(d-1);)d--;return c.slice(h,d).split("\0").map(void 0===l?n:l).join(void 0===u?" ":u)}(e,(0,i.Cl)({delimiter:"."},r))}},35347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(78434),n=r(73024),s=r(76760);r(37067),r(44708),r(16141),r(57075),r(4573),r(57975),r(73136),r(77030);let{stat:o}=n.promises,a=(e,t,r="")=>new i._Blob([new u({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),l=(e,t,r="")=>new i.File([new u({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],s.basename(t),{type:r,lastModified:e.mtimeMs});class u{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified,this.originalSize=void 0===e.originalSize?e.size:e.originalSize}slice(e,t){return new u({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:t-e,start:this.#t+e})}async *stream(){let{mtimeMs:e,size:t}=await o(this.#e);if(e>this.lastModified||this.originalSize!==t)throw new i.nodeDomexception("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*n.createReadStream(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}let c=globalThis.fetch||i.fetch,h=globalThis.Blob||i._Blob,d=globalThis.File||i.File,f=globalThis.FormData||i.FormData,p=globalThis.Headers||i.Headers,m=globalThis.Request||i.Request,y=globalThis.Response||i.Response,g=globalThis.AbortController||i.AbortController;t.AbortError=i.AbortError,t.FetchError=i.FetchError,t.isRedirect=i.isRedirect,t.AbortController=g,t.Blob=h,t.File=d,t.FormData=f,t.Headers=p,t.Request=m,t.Response=y,t.blobFrom=(e,t)=>o(e).then(r=>a(r,e,t)),t.blobFromSync=(e,t)=>a(n.statSync(e),e,t),t.default=c,t.fetch=c,t.fileFrom=(e,t)=>o(e).then(r=>l(r,e,t)),t.fileFromSync=(e,t)=>l(n.statSync(e),e,t)},37222:(e,t,r)=>{"use strict";r.d(t,{Cg:()=>n,Cl:()=>i});var i=function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}Object.create;Object.create},37912:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]])},38313:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]])},39526:(e,t,r)=>{"use strict";Object.defineProperty(t,"b",{enumerable:!0,get:function(){return h}});let i=r(6918),n=r(29294),s=r(63033),o=r(54717),a=r(7797),l=r(18238),u=r(14768),c=(r(52825),r(8681));function h(){let e=n.workAsyncStorage.getStore(),t=s.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic)return f(i.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type){var r=e.route,u=t;let i=d.get(u);if(i)return i;let n=(0,l.makeHangingPromise)(u.renderSignal,"`headers()`");return d.set(u,n),Object.defineProperties(n,{append:{value:function(){let e=`\`headers().append(${p(arguments[0])}, ...)\``,t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},delete:{value:function(){let e=`\`headers().delete(${p(arguments[0])})\``,t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},get:{value:function(){let e=`\`headers().get(${p(arguments[0])})\``,t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},has:{value:function(){let e=`\`headers().has(${p(arguments[0])})\``,t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},set:{value:function(){let e=`\`headers().set(${p(arguments[0])}, ...)\``,t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},getSetCookie:{value:function(){let e="`headers().getSetCookie()`",t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},forEach:{value:function(){let e="`headers().forEach(...)`",t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},keys:{value:function(){let e="`headers().keys()`",t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},values:{value:function(){let e="`headers().values()`",t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},entries:{value:function(){let e="`headers().entries()`",t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},[Symbol.iterator]:{value:function(){let e="`headers()[Symbol.iterator]()`",t=y(r,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}}}),n}else"prerender-ppr"===t.type?(0,o.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,o.throwToInterruptStaticGeneration)("headers",e,t);(0,o.trackDynamicDataInDynamicRender)(e,t)}return f((0,s.getExpectedRequestStore)("headers").headers)}let d=new WeakMap;function f(e){let t=d.get(e);if(t)return t;let r=Promise.resolve(e);return d.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function p(e){return"string"==typeof e?`'${e}'`:"..."}let m=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(y);function y(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}},45362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return c}});let i=r(99090),n=r(87331),s=r(4160),o=r(32532),a=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(a,"localhost"),t&&String(t).replace(a,"localhost"))}let u=Symbol("NextURLInternal");class c{constructor(e,t,r){let i,n;"object"==typeof t&&"pathname"in t||"string"==typeof t?(i=t,n=r||{}):n=r||t||{},this[u]={url:l(e,i??n.base),options:n,basePath:""},this.analyze()}analyze(){var e,t,r,n,a;let l=(0,o.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=(0,s.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):(0,i.detectDomainLocale)(null==(t=this[u].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,c);let h=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(a=this[u].options.nextConfig)||null==(n=a.i18n)?void 0:n.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=h,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??h,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,n.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[u].options)}}},47151:e=>{"use strict";var t=function(e){var t,i,n;return!!(t=e)&&"object"==typeof t&&(i=e,"[object RegExp]"!==(n=Object.prototype.toString.call(i))&&"[object Date]"!==n&&i.$$typeof!==r)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function n(e,t,r){return e.concat(t).map(function(e){return i(e,r)})}function s(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[])}function o(e,t){try{return t in e}catch(e){return!1}}function a(e,r,l){(l=l||{}).arrayMerge=l.arrayMerge||n,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var u,c,h=Array.isArray(r);return h!==Array.isArray(e)?i(r,l):h?l.arrayMerge(e,r,l):(c={},(u=l).isMergeableObject(e)&&s(e).forEach(function(t){c[t]=i(e[t],u)}),s(r).forEach(function(t){o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))||(o(e,t)&&u.isMergeableObject(r[t])?c[t]=(function(e,t){if(!t.customMerge)return a;var r=t.customMerge(e);return"function"==typeof r?r:a})(t,u)(e[t],r[t],u):c[t]=i(r[t],u))}),c)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return a(e,r,t)},{})},e.exports=a},48605:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i8});var i,n,s,o,a,l={};r.r(l),r.d(l,{Any:()=>eq,BaseBlock:()=>q,BaseStringBlock:()=>$,BitString:()=>en,BmpString:()=>ek,Boolean:()=>ee,CharacterString:()=>eI,Choice:()=>e$,Constructed:()=>G,DATE:()=>eL,DateTime:()=>ej,Duration:()=>eD,EndOfContent:()=>Y,Enumerated:()=>el,GeneralString:()=>eN,GeneralizedTime:()=>eK,GraphicString:()=>eR,HexBlock:()=>K,IA5String:()=>eB,Integer:()=>ea,Null:()=>Z,NumericString:()=>e_,ObjectIdentifier:()=>eh,OctetString:()=>er,Primitive:()=>F,PrintableString:()=>eP,RawData:()=>eF,RelativeObjectIdentifier:()=>ep,Repeated:()=>eH,Sequence:()=>em,Set:()=>ey,TIME:()=>eV,TeletexString:()=>eT,TimeOfDay:()=>eM,UTCTime:()=>eU,UniversalString:()=>ex,Utf8String:()=>eS,ValueBlock:()=>M,VideotexString:()=>eC,ViewWriter:()=>_,VisibleString:()=>eO,compareSchema:()=>ez,fromBER:()=>W,verifySchema:()=>eW});class u{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=u.toUint8Array(e),i=u.toUint8Array(t);if(r.length!==i.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==i[e])return!1;return!0}static concat(...e){let t;t=!Array.isArray(e[0])||e[1]instanceof Function?Array.isArray(e[0])&&e[1]instanceof Function?e[0]:e[e.length-1]instanceof Function?e.slice(0,e.length-1):e:e[0];let r=0;for(let e of t)r+=e.byteLength;let i=new Uint8Array(r),n=0;for(let e of t){let t=this.toUint8Array(e);i.set(t,n),n+=t.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}}let c="string",h=/^[0-9a-f\s]+$/i,d=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,f=/^[a-zA-Z0-9-_]+$/;class p{static fromString(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){let t=u.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class m{static toString(e,t=!1){let r=u.toArrayBuffer(e),i=new DataView(r),n="";for(let e=0;e<r.byteLength;e+=2)n+=String.fromCharCode(i.getUint16(e,t));return n}static fromString(e,t=!1){let r=new ArrayBuffer(2*e.length),i=new DataView(r);for(let r=0;r<e.length;r++)i.setUint16(2*r,e.charCodeAt(r),t);return r}}class y{static isHex(e){return typeof e===c&&h.test(e)}static isBase64(e){return typeof e===c&&d.test(e)}static isBase64Url(e){return typeof e===c&&f.test(e)}static ToString(e,t="utf8"){let r=u.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return m.toString(r,!0);case"utf16":case"utf16be":return m.toString(r);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return m.fromString(e,!0);case"utf16":case"utf16be":return m.fromString(e);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=u.toUint8Array(e);return"undefined"!=typeof btoa?btoa(this.ToString(t,"binary")):Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!y.isBase64(t))throw TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!y.isBase64Url(t))throw TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=y.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return p.fromString(e);case"utf16":case"utf16be":return m.fromString(e);case"utf16le":case"usc2":return m.fromString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=y.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return p.toString(e);case"utf16":case"utf16be":return m.toString(e);case"utf16le":case"usc2":return m.toString(e,!0);default:throw Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r.buffer}static ToBinary(e){let t=u.toUint8Array(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){let t=u.toUint8Array(e),r="",i=t.length;for(let e=0;e<i;e++){let i=t[e];i<16&&(r+="0"),r+=i.toString(16)}return r}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!y.isHex(t))throw TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){let i=t.slice(e,e+2);r[e/2]=parseInt(i,16)}return r.buffer}static ToUtf16String(e,t=!1){return m.toString(e,t)}static FromUtf16String(e,t=!1){return m.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}function g(...e){let t=new Uint8Array(e.map(e=>e.byteLength).reduce((e,t)=>e+t)),r=0;return e.map(e=>new Uint8Array(e)).forEach(e=>{for(let i of e)t[r++]=i}),t.buffer}function b(e,t){let r=0;if(1===e.length)return e[0];for(let i=e.length-1;i>=0;i--)r+=e[e.length-1-i]*Math.pow(2,t*i);return r}function v(e,t,r=-1){let i=e,n=0,s=Math.pow(2,t);for(let o=1;o<8;o++){if(e<s){let e;if(r<0)e=new ArrayBuffer(o),n=o;else{if(r<o)return new ArrayBuffer(0);e=new ArrayBuffer(r),n=r}let s=new Uint8Array(e);for(let e=o-1;e>=0;e--){let r=Math.pow(2,e*t);s[n-e-1]=Math.floor(i/r),i-=s[n-e-1]*r}return e}s*=Math.pow(2,t)}return new ArrayBuffer(0)}function w(...e){let t=0,r=0;for(let r of e)t+=r.length;let i=new Uint8Array(new ArrayBuffer(t));for(let t of e)i.set(t,r),r+=t.length;return i}function S(){let e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let t=255===e[0]&&128&e[1],r=0===e[0]&&(128&e[1])==0;(t||r)&&this.warnings.push("Needlessly long format")}let t=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let e=0;e<this.valueHex.byteLength;e++)t[e]=0;t[0]=128&e[0];let r=b(t,8),i=new Uint8Array(new ArrayBuffer(this.valueHex.byteLength));for(let t=0;t<this.valueHex.byteLength;t++)i[t]=e[t];return i[0]&=127,b(i,8)-r}function A(e,t){let r=e.toString(10);if(t<r.length)return"";let i=t-r.length,n=Array(i);for(let e=0;e<i;e++)n[e]="0";return n.join("").concat(r)}y.DEFAULT_UTF8_ENCODING="utf8";function k(){if("undefined"==typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function E(e){let t=0,r=0;for(let r=0;r<e.length;r++)t+=e[r].byteLength;let i=new Uint8Array(t);for(let t=0;t<e.length;t++){let n=e[t];i.set(new Uint8Array(n),r),r+=n.byteLength}return i.buffer}function x(e,t,r,i){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):i<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-i<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class _{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return E(this.items)}}let P=[new Uint8Array([1])],T="0123456789",C="name",B="valueHexView",R=new ArrayBuffer(0),O=new Uint8Array(0),N="EndOfContent",I="OCTET STRING",U="BIT STRING";function K(e){var t;return(t=class extends e{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}constructor(...e){var t;super(...e);let r=e[0]||{};this.isHexOnly=null!=(t=r.isHexOnly)&&t,this.valueHexView=r.valueHex?u.toUint8Array(r.valueHex):O}fromBER(e,t,r){let i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!x(this,i,t,r))return -1;let n=t+r;return(this.valueHexView=i.subarray(t,n),this.valueHexView.length)?(this.blockLength=r,n):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",R)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:y.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class L{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:i=O}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=u.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:y.ToHex(this.valueBeforeDecodeView)}}}L.NAME="baseBlock";class M extends L{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}M.NAME="valueBlock";class j extends K(L){constructor({idBlock:e={}}={}){var t,r,i,n;super(),e?(this.isHexOnly=null!=(t=e.isHexOnly)&&t,this.valueHexView=e.valueHex?u.toUint8Array(e.valueHex):O,this.tagClass=null!=(r=e.tagClass)?r:-1,this.tagNumber=null!=(i=e.tagNumber)?i:-1,this.isConstructed=null!=(n=e.isConstructed)&&n):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",R}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){let r=v(this.tagNumber,7),i=new Uint8Array(r),n=r.byteLength,s=new Uint8Array(n+1);if(s[0]=31|t,!e){for(let e=0;e<n-1;e++)s[e+1]=128|i[e];s[n]=i[n-1]}return s.buffer}let r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){let e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){let i=u.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;switch(192&n[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(32&n[0])==32,this.isHexOnly=!1;let s=31&n[0];if(31!==s)this.tagNumber=s,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&n[e];){if(t[e-1]=127&n[e],++e>=n.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){let e=new Uint8Array(r+=255);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&n[e];let i=new Uint8Array(e);for(let r=0;r<e;r++)i[r]=t[r];(t=this.valueHexView=new Uint8Array(e)).set(i),this.blockLength<=9?this.tagNumber=b(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}j.NAME="identificationBlock";class D extends L{constructor({lenBlock:e={}}={}){var t,r,i;super(),this.isIndefiniteForm=null!=(t=e.isIndefiniteForm)&&t,this.longFormUsed=null!=(r=e.longFormUsed)&&r,this.length=null!=(i=e.length)?i:0}fromBER(e,t,r){let i=u.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);if(0===n.length)return this.error="Zero buffer length",-1;if(255===n[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===n[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&n[0]),!1===this.longFormUsed)return this.length=n[0],this.blockLength=1,t+this.blockLength;let s=127&n[0];if(s>8)return this.error="Too big integer",-1;if(s+1>n.length)return this.error="End of input reached before message was fully decoded",-1;let o=t+1,a=i.subarray(o,o+s);return 0===a[s-1]&&this.warnings.push("Needlessly long encoded length"),this.length=b(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=128),t;if(this.longFormUsed){let i=v(this.length,8);if(i.byteLength>127)return this.error="Too big length",R;if(t=new ArrayBuffer(i.byteLength+1),e)return t;let n=new Uint8Array(i);(r=new Uint8Array(t))[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=n[e];return t}return t=new ArrayBuffer(1),!1===e&&((r=new Uint8Array(t))[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}D.NAME="lengthBlock";let V={};class q extends L{constructor({name:e="",optional:t=!1,primitiveSchema:r,...i}={},n){super(i),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new j(i),this.lenBlock=new D(i),this.valueBlock=n?new n(i):new M(i)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}toBER(e,t){let r=t||new _;t||function e(t){var r;if(t instanceof V.Constructed)for(let r of t.valueBlock.value)e(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!(null==(r=t.lenBlock)?void 0:r.isIndefiniteForm)}(this);let i=this.idBlock.toBER(e);if(r.write(i),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{let t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;let i=this.lenBlock.toBER(e);r.write(i),r.write(t)}return t?R:r.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():y.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,t=y.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${t}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let t=this.toBER(),r=e.toBER();if(t.byteLength!==r.byteLength)return!1;let i=new Uint8Array(t),n=new Uint8Array(r);for(let e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0}}q.NAME="BaseBlock";class $ extends q{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}fromBER(e,t,r){let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}$.NAME="BaseStringBlock";class H extends K(M){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}H.NAME="PrimitiveValueBlock";class F extends q{constructor(e={}){super(e,H),this.idBlock.isConstructed=!1}}function z(e,t=0,r=e.length){let i=t,n=new q({},M),s=new L;if(!x(s,e,t,r))return n.error=s.error,{offset:-1,result:n};if(!e.subarray(t,t+r).length)return n.error="Zero buffer length",{offset:-1,result:n};let o=n.idBlock.fromBER(e,t,r);if(n.idBlock.warnings.length&&n.warnings.concat(n.idBlock.warnings),-1===o)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=o,r-=n.idBlock.blockLength,o=n.lenBlock.fromBER(e,t,r),n.lenBlock.warnings.length&&n.warnings.concat(n.lenBlock.warnings),-1===o)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=o,r-=n.lenBlock.blockLength,!n.idBlock.isConstructed&&n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let a=q;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};a=V.EndOfContent;break;case 1:a=V.Boolean;break;case 2:a=V.Integer;break;case 3:a=V.BitString;break;case 4:a=V.OctetString;break;case 5:a=V.Null;break;case 6:a=V.ObjectIdentifier;break;case 10:a=V.Enumerated;break;case 12:a=V.Utf8String;break;case 13:a=V.RelativeObjectIdentifier;break;case 14:a=V.TIME;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:a=V.Sequence;break;case 17:a=V.Set;break;case 18:a=V.NumericString;break;case 19:a=V.PrintableString;break;case 20:a=V.TeletexString;break;case 21:a=V.VideotexString;break;case 22:a=V.IA5String;break;case 23:a=V.UTCTime;break;case 24:a=V.GeneralizedTime;break;case 25:a=V.GraphicString;break;case 26:a=V.VisibleString;break;case 27:a=V.GeneralString;break;case 28:a=V.UniversalString;break;case 29:a=V.CharacterString;break;case 30:a=V.BmpString;break;case 31:a=V.DATE;break;case 32:a=V.TimeOfDay;break;case 33:a=V.DateTime;break;case 34:a=V.Duration;break;default:{let e=n.idBlock.isConstructed?new V.Constructed:new V.Primitive;e.idBlock=n.idBlock,e.lenBlock=n.lenBlock,e.warnings=n.warnings,n=e}}}else a=n.idBlock.isConstructed?V.Constructed:V.Primitive;return o=(n=function(e,t){if(e instanceof t)return e;let r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(n,a)).fromBER(e,t,n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecodeView=e.subarray(i,i+n.blockLength),{offset:o,result:n}}function W(e){if(!e.byteLength){let e=new q({},M);return e.error="Input buffer has zero length",{offset:-1,result:e}}return z(u.toUint8Array(e).slice(),0,e.byteLength)}V.Primitive=F,F.NAME="PRIMITIVE";class J extends M{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){var i,n;let s=u.toUint8Array(e);if(!x(this,s,t,r))return -1;if(this.valueBeforeDecodeView=s.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let o=t;for(;i=this.isIndefiniteForm,n=r,(i?1:n)>0;){let e=z(s,o,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(o=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===N)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===N?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,t){let r=t||new _;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?R:r.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}}J.NAME="ConstructedValueBlock";class G extends q{constructor(e={}){super(e,J),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return -1===i?this.error=this.valueBlock.error:(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength)),i}onAsciiEncoding(){let e=[];for(let t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map(e=>`  ${e}`).join("\n"));let t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join("\n")}`:`${t} :`}}V.Constructed=G,G.NAME="CONSTRUCTED";class X extends M{fromBER(e,t,r){return t}toBER(e){return R}}X.override="EndOfContentValueBlock";class Y extends q{constructor(e={}){super(e,X),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}V.EndOfContent=Y,Y.NAME=N;class Z extends q{constructor(e={}){super(e,M),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return(this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength)?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){let r=new ArrayBuffer(2);if(!e){let e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}V.Null=Z,Z.NAME="NULL";class Q extends K(M){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=255*!!e}constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=u.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,t,r){let i=u.toUint8Array(e);return x(this,i,t,r)?(this.valueHexView=i.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,S.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}Q.NAME="BooleanValueBlock";class ee extends q{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,Q),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}V.Boolean=ee,ee.NAME="BOOLEAN";class et extends K(J){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,-1===(i=J.prototype.fromBER.call(this,e,t,r)))return i;for(let e=0;e<this.value.length;e++){let t=this.value[e].constructor.NAME;if(t===N)if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;else break;if(t!==I)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,t,r),this.blockLength=r;return i}toBER(e,t){return this.isConstructed?J.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}et.NAME="OctetStringValueBlock";class er extends q{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!=r.isConstructed||(r.isConstructed=!!(null==(n=r.value)?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},et),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(i.byteLength){let e=z(i,0,i.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch{}}return super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return G.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,t=y.ToHex(this.valueBlock.valueHexView);return`${e} : ${t}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof i&&e.push(t.valueBlock.valueHexView);return u.concat(e)}}V.OctetString=i=er,er.NAME=I;class ei extends K(J){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let i=-1;if(this.isConstructed){if(-1===(i=J.prototype.fromBER.call(this,e,t,r)))return i;for(let e of this.value){let t=e.constructor.NAME;if(t===N)if(!this.isIndefiniteForm)return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;else break;if(t!==U)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return i}let n=u.toUint8Array(e);if(!x(this,n,t,r))return -1;let s=n.subarray(t,t+r);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let e=s.subarray(1);try{if(e.byteLength){let t=z(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+r}toBER(e,t){if(this.isConstructed)return J.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return R;let r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}ei.NAME="BitStringValueBlock";class en extends q{constructor({idBlock:e={},lenBlock:t={},...r}={}){var i,n;null!=r.isConstructed||(r.isConstructed=!!(null==(n=r.value)?void 0:n.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},ei),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return G.prototype.onAsciiEncoding.call(this);{let e=[];for(let t of this.valueBlock.valueHexView)e.push(t.toString(2).padStart(8,"0"));let t=e.join(""),r=this.constructor.NAME,i=t.substring(0,t.length-this.valueBlock.unusedBits);return`${r} : ${i}`}}}function es(e){if(e>=P.length)for(let t=P.length;t<=e;t++){let e=new Uint8Array([0]),r=P[t-1].slice(0);for(let t=r.length-1;t>=0;t--){let i=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=i[0]/10,r[t]=i[0]%10}e[0]>0&&(r=w(e,r)),P.push(r)}return P[e]}V.BitString=en,en.NAME=U;class eo extends K(M){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=S.call(this)))}constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){let t=e<0?-1*e:e,r=128;for(let i=1;i<8;i++){if(t<=r){if(e<0){let e=v(r-t,8,i),n=new Uint8Array(e);return n[0]|=128,e}let n=v(t,8,i),s=new Uint8Array(n);if(128&s[0]){let e=n.slice(0),t=new Uint8Array(e);s=new Uint8Array(n=new ArrayBuffer(n.byteLength+1));for(let r=0;r<e.byteLength;r++)s[r+1]=t[r];s[0]=0}return n}r*=256}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,i=0){let n=this.fromBER(e,t,r);if(-1===n)return n;let s=this.valueHexView;return 0===s[0]&&(128&s[1])!=0?this.valueHexView=s.subarray(1):0!==i&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),n}toDER(e=!1){let t=this.valueHexView;switch(!0){case(128&t[0])!=0:{let e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&(128&t[1])==0:this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){let i=super.fromBER(e,t,r);return -1===i||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e,t=8*this.valueHexView.length-1,r=new Uint8Array(8*this.valueHexView.length/3),i=0,n=this.valueHexView,s="",o=!1;for(let o=n.byteLength-1;o>=0;o--){e=n[o];for(let n=0;n<8;n++)(1&e)==1&&(i===t?(r=function(e,t){let r,i=0,n=new Uint8Array(e),s=new Uint8Array(t),o=n.slice(0),a=o.length-1,l=s.slice(0),u=l.length-1,c=0;for(let e=u;e>=0;e--,c++)!0==(r=o[a-c]-l[u-c]-i)<0?(i=1,o[a-c]=r+10):(i=0,o[a-c]=r);if(i>0)for(let e=a-u+1;e>=0;e--,c++)if((r=o[a-c]-i)<0)i=1,o[a-c]=r+10;else{i=0,o[a-c]=r;break}return o.slice()}(es(i),r),s="-"):r=function(e,t){let r=new Uint8Array([0]),i=new Uint8Array(e),n=new Uint8Array(t),s=i.slice(0),o=s.length-1,a=n.slice(0),l=a.length-1,u=0,c=l<o?o:l,h=0;for(let e=c;e>=0;e--,h++)u=!0==h<a.length?s[o-h]+a[l-h]+r[0]:s[o-h]+r[0],r[0]=u/10,!0==h>=s.length?s=w(new Uint8Array([u%10]),s):s[o-h]=u%10;return r[0]>0&&(s=w(r,s)),s}(r,es(i))),i++,e>>=1}for(let e=0;e<r.length;e++)r[e]&&(o=!0),o&&(s+=T.charAt(r[e]));return!1===o&&(s+=T.charAt(0)),s}}eo.NAME="IntegerValueBlock",Object.defineProperty(eo.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class ea extends q{constructor(e={}){super(e,eo),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return k(),BigInt(this.valueBlock.toString())}static fromBigInt(e){k();let t=BigInt(e),r=new _,i=t.toString(16).replace(/^-/,""),s=new Uint8Array(y.FromHex(i));if(t<0){let e=new Uint8Array(s.length+(128&s[0]?1:0));e[0]|=128;let i=BigInt(`0x${y.ToHex(e)}`)+t,n=u.toUint8Array(y.FromHex(i.toString(16)));n[0]|=128,r.write(n)}else 128&s[0]&&r.write(new Uint8Array([0])),r.write(s);return new n({valueHex:r.final()})}convertToDER(){let e=new n({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new n({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}V.Integer=n=ea,ea.NAME="INTEGER";class el extends ea{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}V.Enumerated=el,el.NAME="ENUMERATED";class eu extends K(M){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;let i=u.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];return(this.valueHexView=s,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=b(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){k();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+128*(e+1<r.length);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=v(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",R;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r}toString(){let e="";if(this.isHexOnly)e=y.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}eu.NAME="sidBlock";class ec extends M{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new eu;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e){let t=[];for(let r=0;r<this.value.length;r++){let i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,R;t.push(i)}return E(t)}fromString(e){this.value=[];let t=0,r=0,i="",n=!1;do if(i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1,n){let e=this.value[0],t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:this.value=[];return}let r=parseInt(i,10);if(isNaN(r))return;e.valueDec=r+t,n=!1}else{let e=new eu;if(i>Number.MAX_SAFE_INTEGER)k(),e.valueBigInt=BigInt(i);else if(e.valueDec=parseInt(i,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,n=!0),this.value.push(e)}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?(i=`{${i}}`,this.value[r].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}ec.NAME="ObjectIdentifierValueBlock";class eh extends q{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,ec),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}V.ObjectIdentifier=eh,eh.NAME="OBJECT IDENTIFIER";class ed extends K(L){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;let i=u.toUint8Array(e);if(!x(this,i,t,r))return -1;let n=i.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&n[e],this.blockLength++,(128&n[e])!=0);e++);let s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];return(this.valueHexView=s,(128&n[this.blockLength-1])!=0)?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=b(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}let t=v(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",R;let r=new Uint8Array(t.byteLength);if(!e){let e=new Uint8Array(t),i=t.byteLength-1;for(let t=0;t<i;t++)r[t]=128|e[t];r[i]=e[i]}return r.buffer}toString(){let e="";return this.isHexOnly?y.ToHex(this.valueHexView):this.valueDec.toString()}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}ed.NAME="relativeSidBlock";class ef extends M{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let i=t;for(;r>0;){let t=new ed;if(-1===(i=t.fromBER(e,i,r))){this.blockLength=0,this.error=t.error;break}this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return i}toBER(e,t){let r=[];for(let t=0;t<this.value.length;t++){let i=this.value[t].toBER(e);if(0===i.byteLength)return this.error=this.value[t].error,R;r.push(i)}return E(r)}fromString(e){this.value=[];let t=0,r=0,i="";do{i=-1===(r=e.indexOf(".",t))?e.substring(t):e.substring(t,r),t=r+1;let n=new ed;if(n.valueDec=parseInt(i,10),isNaN(n.valueDec))break;this.value.push(n)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let i=this.value[r].toString();0!==r&&(e=`${e}.`),t?e+=i=`{${i}}`:e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}ef.NAME="RelativeObjectIdentifierValueBlock";class ep extends q{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,ef),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}V.RelativeObjectIdentifier=ep,ep.NAME="RelativeObjectIdentifier";class em extends G{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}V.Sequence=em,em.NAME="SEQUENCE";class ey extends G{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}V.Set=ey,ey.NAME="SET";class eg extends K(M){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}eg.NAME="StringValueBlock";class eb extends eg{}eb.NAME="SimpleStringValueBlock";class ev extends ${constructor({...e}={}){super(e,eb)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,u.toUint8Array(e))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);this.valueBlock.value=e}}ev.NAME="SIMPLE STRING";class ew extends ev{fromBuffer(e){this.valueBlock.valueHexView=u.toUint8Array(e);try{this.valueBlock.value=y.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=y.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(y.FromUtf8String(e)),this.valueBlock.value=e}}ew.NAME="Utf8StringValueBlock";class eS extends ew{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}V.Utf8String=eS,eS.NAME="UTF8String";class eA extends ev{fromBuffer(e){this.valueBlock.value=y.ToUtf16String(e),this.valueBlock.valueHexView=u.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(y.FromUtf16String(e))}}eA.NAME="BmpStringValueBlock";class ek extends eA{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}V.BmpString=ek,ek.NAME="BMPString";class eE extends ev{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let i=0;i<t;i++){let t=new Uint8Array(v(e.charCodeAt(i),8));if(t.length>4)continue;let n=4-t.length;for(let e=t.length-1;e>=0;e--)r[4*i+e+n]=t[e]}this.valueBlock.value=e}}eE.NAME="UniversalStringValueBlock";class ex extends eE{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}V.UniversalString=ex,ex.NAME="UniversalString";class e_ extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}V.NumericString=e_,e_.NAME="NumericString";class eP extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}V.PrintableString=eP,eP.NAME="PrintableString";class eT extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}V.TeletexString=eT,eT.NAME="TeletexString";class eC extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}V.VideotexString=eC,eC.NAME="VideotexString";class eB extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}V.IA5String=eB,eB.NAME="IA5String";class eR extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}V.GraphicString=eR,eR.NAME="GraphicString";class eO extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}V.VisibleString=eO,eO.NAME="VisibleString";class eN extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}V.GeneralString=eN,eN.NAME="GeneralString";class eI extends ev{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}V.CharacterString=eI,eI.NAME="CharacterString";class eU extends eO{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,u.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(null===t){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){let e=Array(7);return e[0]=A(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=A(this.month,2),e[2]=A(this.day,2),e[3]=A(this.hour,2),e[4]=A(this.minute,2),e[5]=A(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}V.UTCTime=eU,eU.NAME="UTCTime";class eK extends eU{constructor(e={}){var t;super(e),null!=this.millisecond||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,i="",n="",s=0,o=0,a=0;if("Z"===e[e.length-1])i=e.substring(0,e.length-1),r=!0;else{if(isNaN(new Number(e[e.length-1]).valueOf()))throw Error("Wrong input string for conversion");i=e}if(r){if(-1!==i.indexOf("+")||-1!==i.indexOf("-"))throw Error("Wrong input string for conversion")}else{let e=1,t=i.indexOf("+"),r="";if(-1===t&&(t=i.indexOf("-"),e=-1),-1!==t){if(r=i.substring(t+1),i=i.substring(0,t),2!==r.length&&4!==r.length)throw Error("Wrong input string for conversion");let n=parseInt(r.substring(0,2),10);if(isNaN(n.valueOf()))throw Error("Wrong input string for conversion");if(o=e*n,4===r.length){if(isNaN((n=parseInt(r.substring(2,4),10)).valueOf()))throw Error("Wrong input string for conversion");a=e*n}}}let l=i.indexOf(".");if(-1===l&&(l=i.indexOf(",")),-1!==l){let e=new Number(`0${i.substring(l)}`);if(isNaN(e.valueOf()))throw Error("Wrong input string for conversion");s=e.valueOf(),n=i.substring(0,l)}else n=i;switch(!0){case 8===n.length:if(t=/(\d{4})(\d{2})(\d{2})/ig,-1!==l)throw Error("Wrong input string for conversion");break;case 10===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*s;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=60*s;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===n.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,-1!==l){let e=1e3*s;this.millisecond=Math.floor(e)}break;default:throw Error("Wrong input string for conversion")}let u=t.exec(n);if(null===u)throw Error("Wrong input string for conversion");for(let e=1;e<u.length;e++)switch(e){case 1:this.year=parseInt(u[e],10);break;case 2:this.month=parseInt(u[e],10);break;case 3:this.day=parseInt(u[e],10);break;case 4:this.hour=parseInt(u[e],10)+o;break;case 5:this.minute=parseInt(u[e],10)+a;break;case 6:this.second=parseInt(u[e],10);break;default:throw Error("Wrong input string for conversion")}if(!1===r){let e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){let e=[];return e.push(A(this.year,4)),e.push(A(this.month,2)),e.push(A(this.day,2)),e.push(A(this.hour,2)),e.push(A(this.minute,2)),e.push(A(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(A(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}V.GeneralizedTime=eK,eK.NAME="GeneralizedTime";class eL extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}V.DATE=eL,eL.NAME="DATE";class eM extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}V.TimeOfDay=eM,eM.NAME="TimeOfDay";class ej extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}V.DateTime=ej,ej.NAME="DateTime";class eD extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}V.Duration=eD,eD.NAME="Duration";class eV extends eS{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}V.TIME=eV,eV.NAME="TIME";class eq{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class e$ extends eq{constructor({value:e=[],...t}={}){super(t),this.value=e}}class eH extends eq{constructor({value:e=new eq,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class eF{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=u.toUint8Array(e)}constructor({data:e=O}={}){this.dataView=u.toUint8Array(e)}fromBER(e,t,r){let i=t+r;return this.dataView=u.toUint8Array(e).subarray(t,i),i}toBER(e){return this.dataView.slice().buffer}}function ez(e,t,r){if(r instanceof e$){for(let i of r.value)if(ez(e,t,i).verified)return{verified:!0,result:e};{let e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(C)&&(e.name=r.name),e}}if(r instanceof eq)return r.hasOwnProperty(C)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1||"idBlock"in r==!1||"fromBER"in r.idBlock==!1||"toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(B in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=r.idBlock.valueHexView,n=t.idBlock.valueHexView;if(i.length!==n.length)return{verified:!1,result:e};for(let t=0;t<i.length;t++)if(i[t]!==n[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(e[r.name]=t)),r instanceof V.Constructed){let i=0,n={verified:!1,result:{error:"Unknown error"}},s=r.valueBlock.value.length;if(s>0&&r.valueBlock.value[0]instanceof eH&&(s=t.valueBlock.value.length),0===s)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let o=0;o<s;o++)if(o-i>=t.valueBlock.value.length){if(!1===r.valueBlock.value[o].optional){let t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof eH){if(!1===(n=ez(e,t.valueBlock.value[o],r.valueBlock.value[0].value)).verified)if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;else i++;if(C in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let i={};void 0===(i="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(i[r.valueBlock.value[0].name]=[]),i[r.valueBlock.value[0].name].push(t.valueBlock.value[o])}}else if(!1===(n=ez(e,t.valueBlock.value[o-i],r.valueBlock.value[o])).verified)if(!r.valueBlock.value[o].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&delete e[r.name]),n;else i++;if(!1===n.verified){let t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&B in t.valueBlock){let i=z(t.valueBlock.valueHexView);if(-1===i.offset){let t={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name&&(delete e[r.name],t.name=r.name)),t}return ez(e,i.result,r.primitiveSchema)}return{verified:!0,result:e}}function eW(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=z(u.toUint8Array(e));return -1===r.offset?{verified:!1,result:r.result}:ez(r.result,r.result,t)}!function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(s||(s={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(o||(o={}));let eJ={fromASN:e=>e instanceof Z?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new Z;let t=W(e);if(t.result.error)throw Error(t.result.error);return t.result}},eG={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new ea({value:+e})},eX={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new el({value:e})},eY={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new en({valueHex:e})},eZ={fromASN:e=>e.valueBlock.toString(),toASN:e=>new eh({value:e})},eQ={fromASN:e=>e.valueBlock.value,toASN:e=>new ee({value:e})},e0={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new er({valueHex:e})};function e1(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}let e2=e1(eS),e8=e1(ek),e3=e1(ex),e6=e1(e_),e5=e1(eP),e4=e1(eT),e9=e1(eC),e7=e1(eB),te=e1(eR),tt=e1(eO),tr=e1(eN),ti=e1(eI),tn={fromASN:e=>e.toDate(),toASN:e=>new eU({valueDate:e})},ts={fromASN:e=>e.toDate(),toASN:e=>new eK({valueDate:e})},to={fromASN:()=>null,toASN:()=>new Z};function ta(e){switch(e){case o.Any:return eJ;case o.BitString:return eY;case o.BmpString:return e8;case o.Boolean:return eQ;case o.CharacterString:return ti;case o.Enumerated:return eX;case o.GeneralString:return tr;case o.GeneralizedTime:return ts;case o.GraphicString:return te;case o.IA5String:return e7;case o.Integer:return eG;case o.Null:return to;case o.NumericString:return e6;case o.ObjectIdentifier:return eZ;case o.OctetString:return e0;case o.PrintableString:return e5;case o.TeletexString:return e4;case o.UTCTime:return tn;case o.UniversalString:return e3;case o.Utf8String:return e2;case o.VideotexString:return e9;case o.VisibleString:return tt;default:return null}}function tl(e){return"function"==typeof e&&e.prototype?!!e.prototype.toASN&&!!e.prototype.fromASN||tl(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}class tu{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let r=this.items.get(e);if(!r)throw Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:s.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,t){let r=this.items.get(e)||this.createDefault(e),i=[];for(let e in r.items){let n,a=r.items[e],u=t?e:"";if("number"==typeof a.type){let e=o[a.type],t=l[e];if(!t)throw Error(`Cannot get ASN1 class by name '${e}'`);n=new t({name:u})}else tl(a.type)?n=new a.type().toSchema(u):a.optional?this.get(a.type).type===s.Choice?n=new eq({name:u}):(n=this.create(a.type,!1)).name=u:n=new eq({name:u});let c=!!a.optional||void 0!==a.defaultValue;if(a.repeated&&(n.name="",n=new("set"===a.repeated?ey:em)({name:"",value:[new eH({name:u,value:n})]})),null!==a.context&&void 0!==a.context)if(a.implicit)if("number"==typeof a.type||tl(a.type)){let e=a.repeated?G:F;i.push(new e({name:u,optional:c,idBlock:{tagClass:3,tagNumber:a.context}}))}else{this.cache(a.type);let e=!!a.repeated,t=e?n:this.get(a.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,i.push(new G({name:e?"":u,optional:c,idBlock:{tagClass:3,tagNumber:a.context},value:t}))}else i.push(new G({optional:c,idBlock:{tagClass:3,tagNumber:a.context},value:[n]}));else n.optional=c,i.push(n)}switch(r.type){case s.Sequence:return new em({value:i,name:""});case s.Set:return new ey({value:i,name:""});case s.Choice:return new e$({value:i,name:""});default:throw Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}}let tc=new tu,th=e=>t=>{let r;tc.has(t)?r=tc.get(t):(r=tc.createDefault(t),tc.set(t,r)),Object.assign(r,e)},td=e=>(t,r)=>{let i;tc.has(t.constructor)?i=tc.get(t.constructor):(i=tc.createDefault(t.constructor),tc.set(t.constructor,i));let n=Object.assign({},e);if("number"==typeof n.type&&!n.converter){let i=ta(e.type);if(!i)throw Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);n.converter=i}i.items[r]=n};class tf extends Error{constructor(){super(...arguments),this.schemas=[]}}class tp{static parse(e,t){let r=W(e);if(r.result.error)throw Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,t){var r;try{if(tl(t))return new t().fromASN(e);let i=tc.get(t);tc.cache(t);let n=i.schema;if(e.constructor===G&&i.type!==s.Choice)for(let t in n=new G({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:i.schema.valueBlock.value}),i.items)delete e[t];let a=ez({},e,n);if(!a.verified)throw new tf(`Data does not match to ${t.name} ASN1 schema. ${a.result.error}`);let u=new t;if(function e(t){var r;if(t){let i=Object.getPrototypeOf(t);return(null==(r=null==i?void 0:i.prototype)?void 0:r.constructor)===Array||e(i)}return!1}(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let r=i.itemType;if("number"!=typeof r)return t.from(e.valueBlock.value,e=>this.fromASN(e,r));{let i=ta(r);if(!i)throw Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,e=>i.fromASN(e))}}for(let e in i.items){let t=a.result[e];if(!t)continue;let n=i.items[e],s=n.type;if("number"==typeof s||tl(s)){let i=null!=(r=n.converter)?r:tl(s)?new s:null;if(!i)throw Error("Converter is empty");if(n.repeated)if(n.implicit){let r=new("sequence"===n.repeated?em:ey);r.valueBlock=t.valueBlock;let s=W(r.toBER(!1));if(-1===s.offset)throw Error(`Cannot parse the child item. ${s.result.error}`);if(!("value"in s.result.valueBlock&&Array.isArray(s.result.valueBlock.value)))throw Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let o=s.result.valueBlock.value;u[e]=Array.from(o,e=>i.fromASN(e))}else u[e]=Array.from(t,e=>i.fromASN(e));else{let r=t;if(n.implicit){let e;if(tl(s))e=new s().toSchema("");else{let t=o[s],r=l[t];if(!r)throw Error(`Cannot get '${t}' class from asn1js module`);e=new r}e.valueBlock=r.valueBlock,r=W(e.toBER(!1)).result}u[e]=i.fromASN(r)}}else if(n.repeated){if(!Array.isArray(t))throw Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");u[e]=Array.from(t,e=>this.fromASN(e,s))}else u[e]=this.fromASN(t,s)}return u}catch(e){throw e instanceof tf&&e.schemas.push(t.name),e}}}class tm{static serialize(e){return e instanceof q?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){let t;if(e&&"object"==typeof e&&tl(e))return e.toASN();if(!(e&&"object"==typeof e))throw TypeError("Parameter 1 should be type of Object.");let r=e.constructor,i=tc.get(r);tc.cache(r);let n=[];if(i.itemType){if(!Array.isArray(e))throw TypeError("Parameter 1 should be type of Array.");if("number"==typeof i.itemType){let t=ta(i.itemType);if(!t)throw Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);n=e.map(e=>t.toASN(e))}else n=e.map(e=>this.toAsnItem({type:i.itemType},"[]",r,e))}else for(let t in i.items){let s=i.items[t],o=e[t];if(void 0===o||s.defaultValue===o||"object"==typeof s.defaultValue&&"object"==typeof o&&function(e,t){if(!(e&&t)||e.byteLength!==t.byteLength)return!1;let r=new Uint8Array(e),i=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==i[t])return!1;return!0}(this.serialize(s.defaultValue),this.serialize(o)))continue;let a=tm.toAsnItem(s,t,r,o);if("number"==typeof s.context)if(s.implicit)if(!s.repeated&&("number"==typeof s.type||tl(s.type))){let e={};e.valueHex=a instanceof Z?a.valueBeforeDecodeView:a.valueBlock.toBER(),n.push(new F({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},...e}))}else n.push(new G({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:a.valueBlock.value}));else n.push(new G({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:[a]}));else s.repeated?n=n.concat(a):n.push(a)}switch(i.type){case s.Sequence:t=new em({value:n});break;case s.Set:t=new ey({value:n});break;case s.Choice:if(!n[0])throw Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);t=n[0]}return t}static toAsnItem(e,t,r,i){let n;if("number"==typeof e.type){let s=e.converter;if(!s)throw Error(`Property '${t}' doesn't have converter for type ${o[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>s.toASN(e));n=new("sequence"===e.repeated?em:ey)({value:t})}else n=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw TypeError("Parameter 'objProp' should be type of Array.");let t=Array.from(i,e=>this.toASN(e));n=new("sequence"===e.repeated?em:ey)({value:t})}else n=this.toASN(i);return n}}class ty{static serialize(e){return tm.serialize(e)}static parse(e,t){return tp.parse(e,t)}static toString(e){let t=W(u.isBufferSource(e)?u.toArrayBuffer(e):ty.serialize(e));if(-1===t.offset)throw Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}function tg(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}Object.create;Object.create,"function"==typeof SuppressedError&&SuppressedError;class tb extends Error{constructor(e,t){super(t?`${e}. See the inner exception for more details.`:e),this.message=e,this.innerError=t}}class tv extends tb{constructor(e,t,r){super(t,r),this.schema=e}}class tw extends tv{constructor(e,t,r){super(e,`JSON doesn't match to '${e.target.name}' schema. ${t}`,r)}}class tS extends tb{}class tA extends tb{constructor(e,t,r){super(`Cannot serialize by '${e}' schema. ${t}`,r),this.schemaName=e}}class tk extends tw{constructor(e,t,r={}){super(e,"Some keys doesn't match to schema"),this.keys=t,this.errors=r}}function tE(e,t){if(!function(e,t){switch(t){case a.Boolean:return"boolean"==typeof e;case a.Number:return"number"==typeof e;case a.String:return"string"==typeof e}return!0}(e,t))throw TypeError(`Value must be ${a[t]}`)}function tx(e){return e&&e.prototype?!!e.prototype.toJSON&&!!e.prototype.fromJSON||tx(e.prototype):!!(e&&e.toJSON&&e.fromJSON)}!function(e){e[e.Any=0]="Any",e[e.Boolean=1]="Boolean",e[e.Number=2]="Number",e[e.String=3]="String"}(a||(a={}));class t_{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let t=this.items.get(e)||this.findParentSchema(e);if(!t)throw Error("Cannot get schema for current target");return t}create(e){let t={names:{}},r=this.findParentSchema(e);if(r)for(let e in Object.assign(t,r),t.names={},r.names)t.names[e]=Object.assign({},r.names[e]);return t.target=e,t}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=e.__proto__;return t?this.items.get(t)||this.findParentSchema(t):null}}let tP="default",tT=new t_;class tC{constructor(e){this.pattern=new RegExp(e)}validate(e){let t=new RegExp(this.pattern.source,this.pattern.flags);if("string"!=typeof e)throw new tS("Incoming value must be string");if(!t.exec(e))throw new tS(`Value doesn't match to pattern '${t.toString()}'`)}}class tB{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(tE(e,a.Number),!(this.min<=e&&e<=this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new tS(`Value doesn't match to diapason [${e},${t}]`)}}}class tR{constructor(e=Number.MIN_VALUE,t=Number.MAX_VALUE){this.min=e,this.max=t}validate(e){if(tE(e,a.Number),!(this.min<e&&e<this.max)){let e=this.min===Number.MIN_VALUE?"MIN":this.min,t=this.max===Number.MAX_VALUE?"MAX":this.max;throw new tS(`Value doesn't match to diapason (${e},${t})`)}}}class tO{constructor(e,t,r){this.length=e,this.minLength=t,this.maxLength=r}validate(e){if(void 0!==this.length){if(e.length!==this.length)throw new tS(`Value length must be exactly ${this.length}.`);return}if(void 0!==this.minLength&&e.length<this.minLength)throw new tS(`Value length must be more than ${this.minLength}.`);if(void 0!==this.maxLength&&e.length>this.maxLength)throw new tS(`Value length must be less than ${this.maxLength}.`)}}class tN{constructor(e){this.enumeration=e}validate(e){if(tE(e,a.String),!this.enumeration.includes(e))throw new tS(`Value must be one of ${this.enumeration.map(e=>`'${e}'`).join(", ")}`)}}class tI{static checkValues(e,t){for(let r of Array.isArray(e)?e:[e])for(let i of t.validations)i instanceof tO&&t.repeated?i.validate(e):i.validate(r)}static checkTypes(e,t){if(t.repeated&&!Array.isArray(e))throw TypeError("Value must be Array");if("number"==typeof t.type)for(let r of Array.isArray(e)?e:[e])tE(r,t.type)}static getSchemaByName(e,t=tP){return{...e.names[tP],...e.names[t]}}}class tU extends tI{static serialize(e,t,r,i){return JSON.stringify(this.toJSON(e,t),r,i)}static toJSON(e,t={}){let r,i=t.targetSchema,n=t.schemaName||tP;if(tx(e))return e.toJSON();if(Array.isArray(e))for(let i of(r=[],e))r.push(this.toJSON(i,t));else if("object"==typeof e){if(i&&!tT.has(i))throw new tb("Cannot get schema for `targetSchema` param");if(i=i||e.constructor,tT.has(i)){let t=tT.get(i);r={};let s=this.getSchemaByName(t,n);for(let o in s)try{let t,a=s[o],l=e[o];if(a.optional&&void 0===l||void 0!==a.defaultValue&&l===a.defaultValue)continue;if(!a.optional&&void 0===l)throw new tA(i.name,`Property '${o}' is required.`);t="number"==typeof a.type?a.converter?a.repeated?l.map(t=>a.converter.toJSON(t,e)):a.converter.toJSON(l,e):l:a.repeated?l.map(e=>this.toJSON(e,{schemaName:n})):this.toJSON(l,{schemaName:n}),this.checkTypes(t,a),this.checkValues(t,a),r[a.name||o]=t}catch(e){if(e instanceof tA)throw e;throw new tA(t.target.name,`Property '${o}' is wrong. ${e.message}`,e)}}else for(let t in r={},e)r[t]=this.toJSON(e[t],{schemaName:n})}else r=e;return r}}class tK extends tI{static parse(e,t){let r=JSON.parse(e);return this.fromJSON(r,t)}static fromJSON(e,t){let r=t.targetSchema,i=t.schemaName||tP,n=new r;if(tx(n))return n.fromJSON(e);let s=tT.get(r),o=this.getSchemaByName(s,i),a={};for(let r in t.strictProperty&&!Array.isArray(e)&&tK.checkStrictProperty(e,o,s),o)try{let a=o[r],l=a.name||r,u=e[l];if(void 0===u&&(a.optional||void 0!==a.defaultValue))continue;if(!a.optional&&void 0===u)throw new tw(s,`Property '${l}' is required.`);if(this.checkTypes(u,a),this.checkValues(u,a),"number"==typeof a.type)a.converter?a.repeated?n[r]=u.map(e=>a.converter.fromJSON(e,n)):n[r]=a.converter.fromJSON(u,n):n[r]=u;else{let e={...t,targetSchema:a.type,schemaName:i};a.repeated?n[r]=u.map(t=>this.fromJSON(t,e)):n[r]=this.fromJSON(u,e)}}catch(e){if(e instanceof tw||(e=new tw(s,`Property '${r}' is wrong. ${e.message}`,e)),t.strictAllKeys)a[r]=e;else throw e}let l=Object.keys(a);if(l.length)throw new tk(s,l,a);return n}static checkStrictProperty(e,t,r){let i=Object.keys(e),n=Object.keys(t),s=[];for(let e of i)-1===n.indexOf(e)&&s.push(e);if(s.length)throw new tk(r,s)}}let tL=(e={})=>(t,r)=>{let i,n,s=`Cannot set type for ${r} property of ${t.constructor.name} schema`;tT.has(t.constructor)?(i=tT.get(t.constructor)).target!==t.constructor&&(i=tT.create(t.constructor),tT.set(t.constructor,i)):(i=tT.create(t.constructor),tT.set(t.constructor,i));let o=Object.assign({type:a.Any,validations:[]},e);if(o.validations=function(e){let t=[];return e.pattern&&t.push(new tC(e.pattern)),(e.type===a.Number||e.type===a.Any)&&((void 0!==e.minInclusive||void 0!==e.maxInclusive)&&t.push(new tB(e.minInclusive,e.maxInclusive)),(void 0!==e.minExclusive||void 0!==e.maxExclusive)&&t.push(new tR(e.minExclusive,e.maxExclusive)),void 0!==e.enumeration&&t.push(new tN(e.enumeration))),(e.type===a.String||e.repeated||e.type===a.Any)&&(void 0!==e.length||void 0!==e.minLength||void 0!==e.maxLength)&&t.push(new tO(e.length,e.minLength,e.maxLength)),t}(o),"number"!=typeof o.type&&!tT.has(o.type)&&!tx(o.type))throw Error(`${s}. Assigning type doesn't have schema.`);for(let t of Array.isArray(e.schema)?e.schema:[e.schema||tP])i.names[t]||(i.names[t]={}),i.names[t][r]=o};class tM extends Error{}class tj extends tM{}class tD extends tM{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}}class tV extends tM{}class tq extends tM{constructor(e){super(`${e}: Missing required property`)}}class t${async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,t){this.checkAlgorithmName(e)}async onDigest(e,t){throw new tD("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,t,r,...i){let n;if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(r&&r.length))throw TypeError("Usages cannot be empty when creating a key.");n=Array.isArray(this.usages)?this.usages:this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(r,n)}checkGenerateKeyParams(e){}async onGenerateKey(e,t,r,...i){throw new tD("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,t,r,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"sign")}async onSign(e,t,r,...i){throw new tD("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,t,r,i,...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,"verify")}async onVerify(e,t,r,i,...n){throw new tD("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,t,r,i={},...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"encrypt":void 0)}async onEncrypt(e,t,r,...i){throw new tD("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,t,r,i={},...n){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"decrypt":void 0)}async onDecrypt(e,t,r,...i){throw new tD("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,t,r,i={},...n){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(t,i.keyUsage?"deriveBits":void 0),r%8!=0)throw new tV("length: Is not multiple of 8")}async onDeriveBits(e,t,r,...i){throw new tD("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,t,...r){if(this.checkKeyFormat(e),this.checkCryptoKey(t),!t.extractable)throw new tM("key: Is not extractable")}async onExportKey(e,t,...r){throw new tD("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,t,r,i,n,...s){this.checkKeyFormat(e),this.checkKeyData(e,t),this.checkAlgorithmName(r),this.checkImportParams(r),Array.isArray(this.usages)&&this.checkKeyUsages(n,this.usages)}async onImportKey(e,t,r,i,n,...s){throw new tD("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new tj("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,t){for(let r of e)if(-1===t.indexOf(r))throw TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,t){if(this.checkAlgorithmName(e.algorithm),t&&-1===e.usages.indexOf(t))throw new tM("key does not match that of operation")}checkRequiredProperty(e,t){if(!(t in e))throw new tq(t)}checkHashAlgorithm(e,t){for(let r of t)if(r.toLowerCase()===e.name.toLowerCase())return;throw new tV(`hash: Must be one of ${t.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,t){if(!t)throw TypeError("keyData: Cannot be empty on empty on key importing");if("jwk"===e){if(!("object"==typeof t&&"kty"in t))throw TypeError("keyData: Is not JsonWebToken")}else if(!u.isBufferSource(t))throw TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return u.toArrayBuffer(e)}}class tH extends t${checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tF extends tH{constructor(){super(...arguments),this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.iv.byteLength)throw TypeError("iv: Must have length 16 bytes")}}class tz extends tH{constructor(){super(...arguments),this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tV("length: Must be more than 0")}}class tW extends tH{constructor(){super(...arguments),this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(16!==e.counter.byteLength)throw TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw new tV("length: Must be more than 0")}}class tJ extends tH{constructor(){super(...arguments),this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}}class tG extends tH{constructor(){super(...arguments),this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){var t;if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new tV("iv: Must have length more than 0 and less than 2^64 - 1");switch(null!=e.tagLength||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new tV("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}}class tX extends tH{constructor(){super(...arguments),this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}}class tY extends t${constructor(){super(...arguments),this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),"number"!=typeof e.length)throw TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new tV(`algorithm.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}}class tZ extends t${constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=y.ToBase64(e.publicExponent);if("Aw=="!==t&&"AQAB"!==t)throw TypeError("publicExponent: Must be [3] or [1,0,1]");if(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength%8||e.modulusLength<256||e.modulusLength>16384)throw TypeError("The modulus length must be a multiple of 8 bits and >= 256 and <= 16384")}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class tQ extends tZ{constructor(){super(...arguments),this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}}class t0 extends tZ{constructor(){super(...arguments),this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),"number"!=typeof e.saltLength)throw TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw RangeError("saltLength: Must be positive number")}}class t1 extends tZ{constructor(){super(...arguments),this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}}class t2 extends t${checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let t of this.namedCurves)if(t.toLowerCase()===e.toLowerCase())return;throw new tV(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}}class t8 extends t2{constructor(){super(...arguments),this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}let t3=["secret","private","public"];class t6{static create(e,t,r,i){let n=new this;return n.algorithm=e,n.type=t,n.extractable=r,n.usages=i,n}static isKeyType(e){return -1!==t3.indexOf(e)}get[Symbol.toStringTag](){return"CryptoKey"}}class t5 extends t2{constructor(){super(...arguments),this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof t6))throw TypeError("public: Is not a CryptoKey");if("public"!==e.public.type)throw new tV("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new tV(`public: Is not ${this.name} key`)}}class t4 extends t5{constructor(){super(...arguments),this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}}class t9 extends t2{constructor(){super(...arguments),this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}}let t7=class{constructor(e){e&&(this.value=e)}};tg([td({type:o.ObjectIdentifier})],t7.prototype,"value",void 0),t7=tg([th({type:s.Choice})],t7);class re{constructor(e){Object.assign(this,e)}}tg([td({type:o.ObjectIdentifier})],re.prototype,"algorithm",void 0),tg([td({type:o.Any,optional:!0})],re.prototype,"parameters",void 0);class rt{constructor(){this.version=0,this.privateKeyAlgorithm=new re,this.privateKey=new ArrayBuffer(0)}}tg([td({type:o.Integer})],rt.prototype,"version",void 0),tg([td({type:re})],rt.prototype,"privateKeyAlgorithm",void 0),tg([td({type:o.OctetString})],rt.prototype,"privateKey",void 0),tg([td({type:o.Any,optional:!0})],rt.prototype,"attributes",void 0);class rr{constructor(){this.publicKeyAlgorithm=new re,this.publicKey=new ArrayBuffer(0)}}tg([td({type:re})],rr.prototype,"publicKeyAlgorithm",void 0),tg([td({type:o.BitString})],rr.prototype,"publicKey",void 0);let ri={fromJSON:e=>y.FromBase64Url(e),toJSON:e=>y.ToBase64Url(new Uint8Array(e))},rn={fromASN:e=>new Uint8Array(e.valueBlock.valueHex)[0]?e.valueBlock.valueHex:e.valueBlock.valueHex.slice(1),toASN:e=>new ea({valueHex:new Uint8Array(e)[0]>127?g(new Uint8Array([0]).buffer,e):e})};class rs{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}}tg([td({type:o.Integer,converter:eG})],rs.prototype,"version",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"n",converter:ri})],rs.prototype,"modulus",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"e",converter:ri})],rs.prototype,"publicExponent",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"d",converter:ri})],rs.prototype,"privateExponent",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"p",converter:ri})],rs.prototype,"prime1",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"q",converter:ri})],rs.prototype,"prime2",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"dp",converter:ri})],rs.prototype,"exponent1",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"dq",converter:ri})],rs.prototype,"exponent2",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"qi",converter:ri})],rs.prototype,"coefficient",void 0),tg([td({type:o.Any,optional:!0})],rs.prototype,"otherPrimeInfos",void 0);class ro{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}}tg([td({type:o.Integer,converter:rn}),tL({name:"n",converter:ri})],ro.prototype,"modulus",void 0),tg([td({type:o.Integer,converter:rn}),tL({name:"e",converter:ri})],ro.prototype,"publicExponent",void 0);let ra=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(4!==e[0])throw new tM("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");let t=(e=new Uint8Array(this.value.slice(1))).length/2;return{x:y.ToBase64Url(e.buffer.slice(0,0+t)),y:y.ToBase64Url(e.buffer.slice(0+t,0+t+t))}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");if(!("y"in e))throw Error("y: Missing required property");let t=y.FromBase64Url(e.x),r=y.FromBase64Url(e.y),i=g(new Uint8Array([4]).buffer,t,r);return this.value=new Uint8Array(i).buffer,this}};tg([td({type:o.OctetString})],ra.prototype,"value",void 0),ra=tg([th({type:s.Choice})],ra);class rl{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw Error("d: Missing required property");if(this.privateKey=y.FromBase64Url(e.d),"x"in e){let t=new ra;t.fromJSON(e);let r=tm.toASN(t);"valueHex"in r.valueBlock&&(this.publicKey=r.valueBlock.valueHex)}return this}toJSON(){let e={};return e.d=y.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new ra(this.publicKey).toJSON()),e}}tg([td({type:o.Integer,converter:eG})],rl.prototype,"version",void 0),tg([td({type:o.OctetString})],rl.prototype,"privateKey",void 0),tg([td({context:0,type:o.Any,optional:!0})],rl.prototype,"parameters",void 0),tg([td({context:1,type:o.BitString,optional:!0})],rl.prototype,"publicKey",void 0);let ru={fromASN:e=>{let t=new Uint8Array(e.valueBlock.valueHex);return 0===t[0]?t.buffer.slice(1):t.buffer},toASN:e=>{let t=new Uint8Array(e);if(t[0]>127){let e=new Uint8Array(t.length+1);return e.set(t,1),new ea({valueHex:e.buffer})}return new ea({valueHex:e})}};var rc=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:ru});class rh{static decodePoint(e,t){let r=u.toUint8Array(e);if(0===r.length||4!==r[0])throw Error("Only uncompressed point format supported");let i=(r.length-1)/2;if(i!==Math.ceil(t/8))throw Error("Point does not match field size");return{x:r.slice(1,i+1),y:r.slice(i+1,i+1+i)}}static encodePoint(e,t){let r=Math.ceil(t/8);if(e.x.byteLength!==r||e.y.byteLength!==r)throw Error("X,Y coordinates don't match point size criteria");let i=u.toUint8Array(e.x),n=u.toUint8Array(e.y),s=new Uint8Array(2*r+1);return s[0]=4,s.set(i,1),s.set(n,r+1),s}static getSize(e){return Math.ceil(e/8)}static encodeSignature(e,t){let r=this.getSize(t),i=u.toUint8Array(e.r),n=u.toUint8Array(e.s),s=new Uint8Array(2*r);return s.set(this.padStart(i,r)),s.set(this.padStart(n,r),r),s}static decodeSignature(e,t){let r=this.getSize(t),i=u.toUint8Array(e);if(i.length!==2*r)throw Error("Incorrect size of the signature");let n=i.slice(0,r),s=i.slice(r);return{r:this.trimStart(n),s:this.trimStart(s)}}static trimStart(e){let t=0;for(;t<e.length-1&&0===e[t];)t++;return 0===t?e:e.slice(t,e.length)}static padStart(e,t){if(t===e.length)return e;let r=new Uint8Array(t);return r.set(e,t-e.length),r}}class rd{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let t=e.byteLength/2,r=rh.decodeSignature(e,8*t),i=new rd;return i.r=u.toArrayBuffer(r.r),i.s=u.toArrayBuffer(r.s),i}toWebCryptoSignature(e){if(!e){let t=Math.max(this.r.byteLength,this.s.byteLength);e=t<=32?256:t<=48?384:521}return rh.encodeSignature(this,e).buffer}}tg([td({type:o.Integer,converter:ru})],rd.prototype,"r",void 0),tg([td({type:o.Integer,converter:ru})],rd.prototype,"s",void 0);class rf extends rt{}tg([td({context:1,implicit:!0,type:o.BitString,optional:!0})],rf.prototype,"publicKey",void 0);let rp=class{constructor(){this.value=new ArrayBuffer(0)}fromJSON(e){if(!e.d)throw Error("d: Missing required property");return this.value=y.FromBase64Url(e.d),this}toJSON(){return{d:y.ToBase64Url(this.value)}}};tg([td({type:o.OctetString})],rp.prototype,"value",void 0),rp=tg([th({type:s.Choice})],rp);let rm=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){return{x:y.ToBase64Url(this.value)}}fromJSON(e){if(!("x"in e))throw Error("x: Missing required property");return this.value=y.FromBase64Url(e.x),this}};tg([td({type:o.BitString})],rm.prototype,"value",void 0),rm=tg([th({type:s.Choice})],rm);let ry=class{};tg([td({type:o.OctetString}),tL({type:a.String,converter:ri})],ry.prototype,"d",void 0),ry=tg([th({type:s.Choice})],ry);let rg="1.2.840.10045.3.1.7",rb="1.3.132.0",rv=`${rb}.34`,rw=`${rb}.35`,rS=`${rb}.10`,rA="1.3.36.3.3.2.8.1.1",rk=`${rA}.1`,rE=`${rA}.2`,rx=`${rA}.3`,r_=`${rA}.4`,rP=`${rA}.5`,rT=`${rA}.6`,rC=`${rA}.7`,rB=`${rA}.8`,rR=`${rA}.9`,rO=`${rA}.10`,rN=`${rA}.11`,rI=`${rA}.12`,rU=`${rA}.13`,rK=`${rA}.14`;var rL=Object.freeze({__proto__:null,AlgorithmIdentifier:re,get CurvePrivateKey(){return ry},EcDsaSignature:rd,EcPrivateKey:rl,get EcPublicKey(){return ra},get EdPrivateKey(){return rp},get EdPublicKey(){return rm},get ObjectIdentifier(){return t7},OneAsymmetricKey:rf,PrivateKeyInfo:rt,PublicKeyInfo:rr,RsaPrivateKey:rs,RsaPublicKey:ro,converters:rc,idBrainpoolP160r1:rk,idBrainpoolP160t1:rE,idBrainpoolP192r1:rx,idBrainpoolP192t1:r_,idBrainpoolP224r1:rP,idBrainpoolP224t1:rT,idBrainpoolP256r1:rC,idBrainpoolP256t1:rB,idBrainpoolP320r1:rR,idBrainpoolP320t1:rO,idBrainpoolP384r1:rN,idBrainpoolP384t1:rI,idBrainpoolP512r1:rU,idBrainpoolP512t1:rK,idEd25519:"1.3.101.112",idEd448:"1.3.101.113",idEllipticCurve:rb,idSecp256k1:rS,idSecp256r1:rg,idSecp384r1:rv,idSecp521r1:rw,idVersionOne:rA,idX25519:"1.3.101.110",idX448:"1.3.101.111"});class rM{constructor(){}static register(e){let t=new t7;t.value=e.id;let r=ty.serialize(t);this.items.push({...e,raw:r}),this.names.push(e.name)}static find(e){for(let t of(e=e.toUpperCase(),this.items))if(t.name.toUpperCase()===e||t.id.toUpperCase()===e)return t;return null}static get(e){let t=this.find(e);if(!t)throw Error(`Unsupported EC named curve '${e}'`);return t}}rM.items=[],rM.names=[],rM.register({name:"P-256",id:rg,size:256}),rM.register({name:"P-384",id:rv,size:384}),rM.register({name:"P-521",id:rw,size:521}),rM.register({name:"K-256",id:rS,size:256}),rM.register({name:"brainpoolP160r1",id:rk,size:160}),rM.register({name:"brainpoolP160t1",id:rE,size:160}),rM.register({name:"brainpoolP192r1",id:rx,size:192}),rM.register({name:"brainpoolP192t1",id:r_,size:192}),rM.register({name:"brainpoolP224r1",id:rP,size:224}),rM.register({name:"brainpoolP224t1",id:rT,size:224}),rM.register({name:"brainpoolP256r1",id:rC,size:256}),rM.register({name:"brainpoolP256t1",id:rB,size:256}),rM.register({name:"brainpoolP320r1",id:rR,size:320}),rM.register({name:"brainpoolP320t1",id:rO,size:320}),rM.register({name:"brainpoolP384r1",id:rN,size:384}),rM.register({name:"brainpoolP384t1",id:rI,size:384}),rM.register({name:"brainpoolP512r1",id:rU,size:512}),rM.register({name:"brainpoolP512t1",id:rK,size:512});class rj extends t${constructor(){super(...arguments),this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if("number"!=typeof e.length)throw TypeError("length: Is not a Number");if(e.length<1)throw RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}}class rD extends t${constructor(){super(...arguments),this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),"number"!=typeof e.iterations)throw TypeError("iterations: Is not a Number");if(e.iterations<1)throw TypeError("iterations: Is less than 1")}checkImportKey(e,t,r,i,n,...s){if(super.checkImportKey(e,t,r,i,n,...s),i)throw SyntaxError("extractable: Must be 'false'")}}class rV extends t${constructor(){super(...arguments),this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!u.isBufferSource(e.salt)||(this.checkRequiredProperty(e,"info"),!u.isBufferSource(e.info)))throw TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,t,r,i,n,...s){if(super.checkImportKey(e,t,r,i,n,...s),i)throw SyntaxError("extractable: Must be 'false'")}}class rq extends t${constructor(){super(...arguments),this.usages=[],this.defaultLength=0}digest(...e){return e[0]={length:this.defaultLength,...e[0]},super.digest.apply(this,e)}checkDigest(e,t){super.checkDigest(e,t);let r=e.length||0;if("number"!=typeof r)throw TypeError("length: Is not a Number");if(r<0)throw TypeError("length: Is negative")}}class r$ extends rq{constructor(){super(...arguments),this.name="shake128",this.defaultLength=16}}class rH extends rq{constructor(){super(...arguments),this.name="shake256",this.defaultLength=32}}class rF{get[Symbol.toStringTag](){return"Crypto"}randomUUID(){let e=this.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=y.ToHex(e).toLowerCase();return`${t.substring(0,8)}-${t.substring(8,12)}-${t.substring(12,16)}-${t.substring(16,20)}-${t.substring(20)}`}}class rz{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let t=this.get(e.toLowerCase());return t&&delete this.items[e],t}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let t in this.items){let r=this.items[t];e.push(r.name)}return e.sort()}}let rW={jwk:["private","public","secret"],pkcs8:["private"],spki:["public"],raw:["secret","public"]},rJ=["pkcs8","spki","raw"];class rG{constructor(){this.providers=new rz}static isHashedAlgorithm(e){return!!e&&"object"==typeof e&&"name"in e&&"hash"in e}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[t,r,...i]=e,n=this.prepareAlgorithm(t),s=u.toArrayBuffer(r),o=this.getProvider(n.name);return await o.digest(n,s,...i)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[t,r,i,...n]=e,s=this.prepareAlgorithm(t),o=this.getProvider(s.name);return await o.generateKey({...s,name:o.name},r,i,...n)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[t,r,i,...n]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=u.toArrayBuffer(i),a=this.getProvider(s.name);return await a.sign({...s,name:a.name},r,o,...n)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[t,r,i,n,...s]=e;this.checkCryptoKey(r);let o=this.prepareAlgorithm(t),a=u.toArrayBuffer(n),l=u.toArrayBuffer(i),c=this.getProvider(o.name);return await c.verify({...o,name:c.name},r,l,a,...s)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[t,r,i,...n]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=u.toArrayBuffer(i),a=this.getProvider(s.name);return await a.encrypt({...s,name:a.name},r,o,{keyUsage:!0},...n)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[t,r,i,...n]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=u.toArrayBuffer(i),a=this.getProvider(s.name);return await a.decrypt({...s,name:a.name},r,o,{keyUsage:!0},...n)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[t,r,i,...n]=e;this.checkCryptoKey(r);let s=this.prepareAlgorithm(t),o=this.getProvider(s.name);return await o.deriveBits({...s,name:o.name},r,i,{keyUsage:!0},...n)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[t,r,i,n,s,...o]=e,a=this.prepareAlgorithm(i);this.getProvider(a.name).checkDerivedKeyParams(a);let l=this.prepareAlgorithm(t),u=this.getProvider(l.name);u.checkCryptoKey(r,"deriveKey");let c=await u.deriveBits({...l,name:u.name},r,i.length||512,{keyUsage:!1},...o);return this.importKey("raw",c,i,n,s,...o)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[t,r,...i]=e;if(this.checkCryptoKey(r),!rW[t])throw TypeError("Invalid keyFormat argument");if(!rW[t].includes(r.type))throw new DOMException("The key is not of the expected type");let n=this.getProvider(r.algorithm.name);return await n.exportKey(t,r,...i)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[t,r,i,n,s,...o]=e,a=this.prepareAlgorithm(i),l=this.getProvider(a.name);if("jwk"===t){if("object"!=typeof r||!r.kty)throw TypeError("Key data must be an object for JWK import")}else if(rJ.includes(t)){if(!u.isBufferSource(r))throw TypeError("Key data must be a BufferSource for non-JWK formats")}else throw TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView or JsonWebKey)'");return l.importKey(t,r,{...a,name:l.name},n,s,...o)}async wrapKey(e,t,r,i,...n){let s=await this.exportKey(e,t,...n);if("jwk"===e){let e=JSON.stringify(s);s=y.FromUtf8String(e)}let o=this.prepareAlgorithm(i),a=u.toArrayBuffer(s),l=this.getProvider(o.name);return l.encrypt({...o,name:l.name},r,a,{keyUsage:!1},...n)}async unwrapKey(e,t,r,i,n,s,o,...a){let l=this.prepareAlgorithm(i),c=u.toArrayBuffer(t),h=this.getProvider(l.name),d=await h.decrypt({...l,name:h.name},r,c,{keyUsage:!1},...a);if("jwk"===e)try{d=JSON.parse(y.ToUtf8String(d))}catch(t){let e=TypeError("wrappedKey: Is not a JSON");throw e.internal=t,e}return this.importKey(e,d,n,s,o,...a)}checkRequiredArguments(e,t,r){if(e.length<t)throw TypeError(`Failed to execute '${r}' on 'SubtleCrypto': ${t} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if("string"==typeof e)return{name:e};if(rG.isHashedAlgorithm(e)){let t={...e};return t.hash=this.prepareAlgorithm(e.hash),t}return{...e}}getProvider(e){let t=this.providers.get(e);if(!t)throw new tj("Unrecognized name");return t}checkCryptoKey(e){if(!(e instanceof t6))throw TypeError("Key is not of type 'CryptoKey'")}}var rX=r(55511),rY=r.n(rX),rZ=r(19771),rQ=r(37222);let r0={fromJSON:e=>Buffer.from(y.FromBase64Url(e)),toJSON:e=>y.ToBase64Url(e)};class r1 extends t6{constructor(){super(...arguments),this.data=Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}}(0,rQ.Cg)([tL({name:"ext",type:a.Boolean,optional:!0})],r1.prototype,"extractable",void 0),(0,rQ.Cg)([tL({name:"key_ops",type:a.String,repeated:!0,optional:!0})],r1.prototype,"usages",void 0),(0,rQ.Cg)([tL({type:a.String})],r1.prototype,"kty",void 0),(0,rQ.Cg)([tL({type:a.String,optional:!0})],r1.prototype,"alg",void 0);class r2 extends r1{constructor(){super(...arguments),this.kty="oct",this.type="secret"}}class r8 extends r1{}class r3 extends r2{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new tj("Unsupported algorithm name")}}set alg(e){}}(0,rQ.Cg)([tL({name:"k",converter:r0})],r3.prototype,"data",void 0);let r6=new WeakMap;function r5(e){let t=r6.get(e);if(!t)throw new tV("Cannot get CryptoKey from secure storage");return t}function r4(e){let t=t6.create(e.algorithm,e.type,e.extractable,e.usages);return Object.freeze(t),r6.set(t,e),t}class r9{static async generateKey(e,t,r){let i=new r3;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=rY().randomBytes(e.length>>3),i}static async exportKey(e,t){if(!(t instanceof r3))throw Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tV("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,i,n){let s;switch(e.toLowerCase()){case"jwk":s=tK.fromJSON(t,{targetSchema:r3});break;case"raw":(s=new r3).data=Buffer.from(t);break;default:throw new tV("format: Must be 'jwk' or 'raw'")}switch(s.algorithm=r,s.algorithm.length=s.data.length<<3,s.extractable=i,s.usages=n,s.algorithm.length){case 128:case 192:case 256:break;default:throw new tV("keyData: Is wrong key length")}return s}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.encryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.encryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.encryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.encryptAesECB(e,t,Buffer.from(r));default:throw new tV("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof r3))throw Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,t,Buffer.from(r));case"AES-CTR":return this.decryptAesCTR(e,t,Buffer.from(r));case"AES-GCM":return this.decryptAesGCM(e,t,Buffer.from(r));case"AES-KW":return this.decryptAesKW(e,t,Buffer.from(r));case"AES-ECB":return this.decryptAesECB(e,t,Buffer.from(r));default:throw new tV("algorithm: Is not recognized")}}static async encryptAesCBC(e,t,r){let i=rY().createCipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async decryptAesCBC(e,t,r){let i=rY().createDecipheriv(`aes-${t.algorithm.length}-cbc`,t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async encryptAesCTR(e,t,r){let i=rY().createCipheriv(`aes-${t.algorithm.length}-ctr`,t.data,Buffer.from(e.counter)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async decryptAesCTR(e,t,r){let i=rY().createDecipheriv(`aes-${t.algorithm.length}-ctr`,t.data,new Uint8Array(e.counter)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async encryptAesGCM(e,t,r){let i=rY().createCipheriv(`aes-${t.algorithm.length}-gcm`,t.data,Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&i.setAAD(Buffer.from(e.additionalData));let n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final(),i.getAuthTag()])).buffer}static async decryptAesGCM(e,t,r){let i=rY().createDecipheriv(`aes-${t.algorithm.length}-gcm`,t.data,new Uint8Array(e.iv)),n=(e.tagLength||128)>>3,s=r.slice(0,r.length-n),o=r.slice(r.length-n);e.additionalData&&i.setAAD(Buffer.from(e.additionalData)),i.setAuthTag(o);let a=i.update(s);return new Uint8Array(a=Buffer.concat([a,i.final()])).buffer}static async encryptAesKW(e,t,r){let i=rY().createCipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async decryptAesKW(e,t,r){let i=rY().createDecipheriv(`id-aes${t.algorithm.length}-wrap`,t.data,this.AES_KW_IV),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async encryptAesECB(e,t,r){let i=rY().createCipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async decryptAesECB(e,t,r){let i=rY().createDecipheriv(`aes-${t.algorithm.length}-ecb`,t.data,new Uint8Array(0)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}}r9.AES_KW_IV=Buffer.from("A6A6A6A6A6A6A6A6","hex");class r7 extends tF{async onGenerateKey(e,t,r){return r4(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r5(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await r9.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}let ie=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),it=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]);function ir(e){let t=Buffer.alloc(e.length),r=e.length-1;for(let i=0;i<r;i++)t[i]=e[i]<<1,128&e[i+1]&&(t[i]+=1);return t[r]=e[r]<<1,t}function ii(e,t){let r=Math.min(e.length,t.length),i=Buffer.alloc(r);for(let n=0;n<r;n++)i[n]=e[n]^t[n];return i}function is(e,t){let r=rX.createCipheriv(`aes${e.length<<3}`,e,ie),i=r.update(t);return r.final(),i}function io(e,t){let r=Buffer.alloc(16),i=16*t;return e.copy(r,0,i,i+16),r}class ia extends tz{async onGenerateKey(e,t,r){return r4(await r9.generateKey({name:this.name,length:e.length},t,r))}async onSign(e,t,r){return new Uint8Array(function(e,t){let r,i,n,s=function(e){let t=is(e,ie),r=ir(t);128&t[0]&&(r=ii(r,it));let i=ir(r);return 128&r[0]&&(i=ii(i,it)),{subkey1:r,subkey2:i}}(e),o=Math.ceil(t.length/16);0===o?(o=1,r=!1):r=t.length%16==0;let a=o-1;i=r?ii(io(t,a),s.subkey1):ii(function(e,t){let r=Buffer.alloc(16),i=16*t,n=e.length;return r.fill(0),e.copy(r,0,i,n),r[n-i]=128,r}(t,a),s.subkey2);let l=ie;for(let r=0;r<a;r++)l=is(e,ii(l,io(t,r)));return is(e,ii(i,l))}(r5(t).data,Buffer.from(r))).buffer}async onVerify(e,t,r,i){let n=await this.sign(e,t,i);return 0===Buffer.from(r).compare(Buffer.from(n))}async onExportKey(e,t){return r9.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await r9.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class il extends tW{async onGenerateKey(e,t,r){return r4(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r5(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await r9.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class iu extends tG{async onGenerateKey(e,t,r){return r4(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r5(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await r9.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class ic extends tX{async onGenerateKey(e,t,r){return r4(await r9.generateKey({name:this.name,length:e.length},t,r))}async onExportKey(e,t){return r9.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await r9.importKey(e,t,{name:r.name},i,n))}async onEncrypt(e,t,r){return r9.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r5(t),new Uint8Array(r))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class ih extends tJ{async onGenerateKey(e,t,r){return r4(await r9.generateKey({name:this.name,length:e.length},t,r))}async onEncrypt(e,t,r){return r9.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return r9.decrypt(e,r5(t),new Uint8Array(r))}async onExportKey(e,t){return r9.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await r9.importKey(e,t,{name:r.name},i,n))}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof r3))throw TypeError("key: Is not a AesCryptoKey")}}class id extends r2{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new tj("Unsupported algorithm name")}}set alg(e){}}(0,rQ.Cg)([tL({name:"k",converter:r0})],id.prototype,"data",void 0);class ip{static async generateKey(e,t,r){let i=new id;return i.algorithm=e,i.extractable=t,i.usages=r,i.data=rY().randomBytes(e.length>>3),i}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"raw":return new Uint8Array(t.data).buffer;default:throw new tV("format: Must be 'jwk' or 'raw'")}}static async importKey(e,t,r,i,n){let s;switch(e.toLowerCase()){case"jwk":s=tK.fromJSON(t,{targetSchema:id});break;case"raw":(s=new id).data=Buffer.from(t);break;default:throw new tV("format: Must be 'jwk' or 'raw'")}return s.algorithm=r,s.extractable=i,s.usages=n,s}static async encrypt(e,t,r){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new tV("algorithm: Is not recognized")}}static async decrypt(e,t,r){if(!(t instanceof id))throw Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,t,Buffer.from(r));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,t,Buffer.from(r));default:throw new tV("algorithm: Is not recognized")}}static async encryptDesCBC(e,t,r){let i=rY().createCipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async decryptDesCBC(e,t,r){let i=rY().createDecipheriv("des-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async encryptDesEDE3CBC(e,t,r){let i=rY().createCipheriv("des-ede3-cbc",t.data,Buffer.from(e.iv)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}static async decryptDesEDE3CBC(e,t,r){let i=rY().createDecipheriv("des-ede3-cbc",t.data,new Uint8Array(e.iv)),n=i.update(r);return new Uint8Array(n=Buffer.concat([n,i.final()])).buffer}}class im extends tY{constructor(){super(...arguments),this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,t,r){return r4(await ip.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return ip.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return ip.decrypt(e,r5(t),new Uint8Array(r))}async onExportKey(e,t){return ip.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){let s=await ip.importKey(e,t,{name:this.name,length:this.keySizeBits},i,n);if(s.data.length!==this.keySizeBits>>3)throw new tV("keyData: Wrong key size");return r4(s)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof id))throw TypeError("key: Is not a DesCryptoKey")}}class iy extends tY{constructor(){super(...arguments),this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,t,r){return r4(await ip.generateKey({name:this.name,length:this.keySizeBits},t,r))}async onEncrypt(e,t,r){return ip.encrypt(e,r5(t),new Uint8Array(r))}async onDecrypt(e,t,r){return ip.decrypt(e,r5(t),new Uint8Array(r))}async onExportKey(e,t){return ip.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){let s=await ip.importKey(e,t,{name:this.name,length:this.keySizeBits},i,n);if(s.data.length!==this.keySizeBits>>3)throw new tV("keyData: Wrong key size");return r4(s)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof id))throw TypeError("key: Is not a DesCryptoKey")}}function ig(e){switch(e.name.toUpperCase()){case"RSA-OAEP":{let t=/(\d+)$/.exec(e.hash.name)[1];return`RSA-OAEP${"1"!==t?`-${t}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(e.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new tV("algorithm: Is not recognized")}}class ib extends r8{constructor(){super(...arguments),this.type="private"}getKey(){let e=tp.parse(this.data,rL.PrivateKeyInfo);return tp.parse(e.privateKey,rL.RsaPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:ig(this.algorithm),key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){let t=tK.fromJSON(e,{targetSchema:rL.RsaPrivateKey}),r=new rL.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.privateKeyAlgorithm.parameters=null,r.privateKey=tm.serialize(t),this.data=Buffer.from(tm.serialize(r))}}class iv extends r8{constructor(){super(...arguments),this.type="public"}getKey(){let e=tp.parse(this.data,rL.PublicKeyInfo);return tp.parse(e.publicKey,rL.RsaPublicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"RSA",alg:ig(this.algorithm),key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){let t=tK.fromJSON(e,{targetSchema:rL.RsaPublicKey}),r=new rL.PublicKeyInfo;r.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",r.publicKeyAlgorithm.parameters=null,r.publicKey=tm.serialize(t),this.data=Buffer.from(tm.serialize(r))}}class iw{static async generateKey(e,t,r){let i=new ib;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iv;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let s=Buffer.concat([Buffer.alloc(4-e.publicExponent.byteLength,0),Buffer.from(e.publicExponent)]).readInt32BE(0),o=rY().generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:s,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=o.privateKey,n.data=o.publicKey,{privateKey:i,publicKey:n}}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;default:throw new tV("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tK.fromJSON(t,{targetSchema:rL.RsaPrivateKey});return this.importPrivateKey(e,r,i,n)}{let e=tK.fromJSON(t,{targetSchema:rL.RsaPublicKey});return this.importPublicKey(e,r,i,n)}case"spki":{let e=tp.parse(new Uint8Array(t),rL.PublicKeyInfo),s=tp.parse(e.publicKey,rL.RsaPublicKey);return this.importPublicKey(s,r,i,n)}case"pkcs8":{let e=tp.parse(new Uint8Array(t),rL.PrivateKeyInfo),s=tp.parse(e.privateKey,rL.RsaPrivateKey);return this.importPrivateKey(s,r,i,n)}default:throw new tV("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,t,r){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,t,r);default:throw new tV("algorithm: Is not recognized")}}static async verify(e,t,r,i){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,t,i,r);default:throw new tV("algorithm: Is not recognized")}}static async encrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.encryptOAEP(e,t,r);throw new tV("algorithm: Is not recognized")}static async decrypt(e,t,r){if("RSA-OAEP"===e.name.toUpperCase())return this.decryptOAEP(e,t,r);throw new tV("algorithm: Is not recognized")}static importPrivateKey(e,t,r,i){let n=new rL.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.privateKeyAlgorithm.parameters=null,n.privateKey=tm.serialize(e);let s=new ib;return s.data=Buffer.from(tm.serialize(n)),s.algorithm=Object.assign({},t),s.algorithm.publicExponent=new Uint8Array(e.publicExponent),s.algorithm.modulusLength=e.modulus.byteLength<<3,s.extractable=r,s.usages=i,s}static importPublicKey(e,t,r,i){let n=new rL.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.publicKeyAlgorithm.parameters=null,n.publicKey=tm.serialize(e);let s=new iv;return s.data=Buffer.from(tm.serialize(n)),s.algorithm=Object.assign({},t),s.algorithm.publicExponent=new Uint8Array(e.publicExponent),s.algorithm.modulusLength=e.modulus.byteLength<<3,s.extractable=r,s.usages=i,s}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";case"SHA3-256":return"RSA-SHA3-256";case"SHA3-384":return"RSA-SHA3-384";case"SHA3-512":return"RSA-SHA3-512";default:throw new tV("algorithm.hash: Is not recognized")}}static signRsa(e,t,r){let i=this.getCryptoAlgorithm(t.algorithm),n=rY().createSign(i);n.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let s={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(s.padding=rY().constants.RSA_PKCS1_PSS_PADDING,s.saltLength=e.saltLength),new Uint8Array(n.sign(s)).buffer}static verifySSA(e,t,r,i){let n=this.getCryptoAlgorithm(t.algorithm),s=rY().createVerify(n);s.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let o={key:t.pem};return"RSA-PSS"===e.name.toUpperCase()&&(o.padding=rY().constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength),s.verify(o,i)}static encryptOAEP(e,t,r){let i={key:`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:rY().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rY().publicEncrypt(i,r)).buffer}static decryptOAEP(e,t,r){let i={key:`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:rY().constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(rY().privateDecrypt(i,r)).buffer}}iw.publicKeyUsages=["verify","encrypt","wrapKey"],iw.privateKeyUsages=["sign","decrypt","unwrapKey"];class iS extends tQ{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iw.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iw.sign(e,r5(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iw.verify(e,r5(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iw.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iw.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r5(e);if(!(r instanceof ib||r instanceof iv))throw TypeError("key: Is not RSA CryptoKey")}}class iA extends t0{constructor(){super(...arguments),this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iw.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iw.sign(e,r5(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iw.verify(e,r5(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iw.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iw.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r5(e);if(!(r instanceof ib||r instanceof iv))throw TypeError("key: Is not RSA CryptoKey")}}class ik{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":case"SHA3-256":return 256;case"SHA-384":case"SHA3-384":return 384;case"SHA-512":case"SHA3-512":return 512;default:throw Error("Unrecognized name")}}static getAlgorithmName(e){switch(e.name.toUpperCase()){case"SHA-1":return"sha1";case"SHA-256":return"sha256";case"SHA-384":return"sha384";case"SHA-512":return"sha512";case"SHA3-256":return"sha3-256";case"SHA3-384":return"sha3-384";case"SHA3-512":return"sha3-512";default:throw Error("Unrecognized name")}}static digest(e,t){let r=this.getAlgorithmName(e);return new Uint8Array(rY().createHash(r).update(Buffer.from(t)).digest()).buffer}}class iE extends t1{async onGenerateKey(e,t,r){let i=await iw.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onEncrypt(e,t,r){let i=r5(t),n=new Uint8Array(r),s=Math.ceil(i.algorithm.modulusLength>>3),o=ik.size(i.algorithm.hash)>>3,a=n.byteLength,l=s-a-2*o-2;if(a>s-2*o-2)throw Error("Data too large");let c=new Uint8Array(s),h=c.subarray(1,o+1),d=c.subarray(o+1);d.set(n,o+l+1);let f=rY().createHash(i.algorithm.hash.name.replace("-","")).update(u.toUint8Array(e.label||new Uint8Array(0))).digest();d.set(f,0),d[o+l]=1,rY().randomFillSync(h);let p=this.mgf1(i.algorithm.hash,h,d.length);for(let e=0;e<d.length;e++)d[e]^=p[e];let m=this.mgf1(i.algorithm.hash,d,h.length);for(let e=0;e<h.length;e++)h[e]^=m[e];return i.pem||(i.pem=`-----BEGIN PUBLIC KEY-----
${i.data.toString("base64")}
-----END PUBLIC KEY-----`),new Uint8Array(rY().publicEncrypt({key:i.pem,padding:rY().constants.RSA_NO_PADDING},Buffer.from(c))).buffer}async onDecrypt(e,t,r){let i=r5(t),n=Math.ceil(i.algorithm.modulusLength>>3),s=ik.size(i.algorithm.hash)>>3;if(r.byteLength!==n)throw Error("Bad data");i.pem||(i.pem=`-----BEGIN PRIVATE KEY-----
${i.data.toString("base64")}
-----END PRIVATE KEY-----`);let o=rY().privateDecrypt({key:i.pem,padding:rY().constants.RSA_NO_PADDING},Buffer.from(r)),a=o[0],l=o.subarray(1,s+1),c=o.subarray(s+1);if(0!==a)throw Error("Decryption failed");let h=this.mgf1(i.algorithm.hash,c,l.length);for(let e=0;e<l.length;e++)l[e]^=h[e];let d=this.mgf1(i.algorithm.hash,l,c.length);for(let e=0;e<c.length;e++)c[e]^=d[e];let f=rY().createHash(i.algorithm.hash.name.replace("-","")).update(u.toUint8Array(e.label||new Uint8Array(0))).digest();for(let e=0;e<s;e++)if(f[e]!==c[e])throw Error("Decryption failed");let p=s;for(;p<c.length;p++){let e=c[p];if(1===e)break;if(0!==e)throw Error("Decryption failed")}if(p===c.length)throw Error("Decryption failed");return new Uint8Array(o=c.subarray(p+1)).buffer}async onExportKey(e,t){return iw.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iw.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r5(e);if(!(r instanceof ib||r instanceof iv))throw TypeError("key: Is not RSA CryptoKey")}mgf1(e,t,r=0){let i=ik.size(e)>>3,n=new Uint8Array(r),s=new Uint8Array(4),o=Math.ceil(r/i);for(let r=0;r<o;r++){s[0]=r>>>24,s[1]=r>>>16&255,s[2]=r>>>8&255,s[3]=255&r;let o=n.subarray(r*i),a=rY().createHash(e.name.replace("-","")).update(t).update(s).digest();a.length>o.length&&(a=a.subarray(0,o.length)),o.set(a)}return n}}class ix extends t${constructor(){super(...arguments),this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,t,r){let i=await iw.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw TypeError("publicExponent: Missing or not a Uint8Array");let t=y.ToBase64(e.publicExponent);if("Aw=="!==t&&"AQAB"!==t)throw TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,t,r){let i=this.toCryptoOptions(t),n=rX.publicEncrypt(i,new Uint8Array(r));return new Uint8Array(n).buffer}async onDecrypt(e,t,r){let i=this.toCryptoOptions(t),n=rX.privateDecrypt(i,new Uint8Array(r));return new Uint8Array(n).buffer}async onExportKey(e,t){return iw.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iw.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r5(e);if(!(r instanceof ib||r instanceof iv))throw TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let t=e.type.toUpperCase();return{key:`-----BEGIN ${t} KEY-----
${r5(e).data.toString("base64")}
-----END ${t} KEY-----`,padding:rX.constants.RSA_PKCS1_PADDING}}}let i_={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10",brainpoolP160r1:"1.3.36.3.3.2.8.1.1.1","1.3.36.3.3.2.8.1.1.1":"brainpoolP160r1",brainpoolP160t1:"1.3.36.3.3.2.8.1.1.2","1.3.36.3.3.2.8.1.1.2":"brainpoolP160t1",brainpoolP192r1:"1.3.36.3.3.2.8.1.1.3","1.3.36.3.3.2.8.1.1.3":"brainpoolP192r1",brainpoolP192t1:"1.3.36.3.3.2.8.1.1.4","1.3.36.3.3.2.8.1.1.4":"brainpoolP192t1",brainpoolP224r1:"1.3.36.3.3.2.8.1.1.5","1.3.36.3.3.2.8.1.1.5":"brainpoolP224r1",brainpoolP224t1:"1.3.36.3.3.2.8.1.1.6","1.3.36.3.3.2.8.1.1.6":"brainpoolP224t1",brainpoolP256r1:"1.3.36.3.3.2.8.1.1.7","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1",brainpoolP256t1:"1.3.36.3.3.2.8.1.1.8","1.3.36.3.3.2.8.1.1.8":"brainpoolP256t1",brainpoolP320r1:"1.3.36.3.3.2.8.1.1.9","1.3.36.3.3.2.8.1.1.9":"brainpoolP320r1",brainpoolP320t1:"1.3.36.3.3.2.8.1.1.10","1.3.36.3.3.2.8.1.1.10":"brainpoolP320t1",brainpoolP384r1:"1.3.36.3.3.2.8.1.1.11","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1",brainpoolP384t1:"1.3.36.3.3.2.8.1.1.12","1.3.36.3.3.2.8.1.1.12":"brainpoolP384t1",brainpoolP512r1:"1.3.36.3.3.2.8.1.1.13","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1",brainpoolP512t1:"1.3.36.3.3.2.8.1.1.14","1.3.36.3.3.2.8.1.1.14":"brainpoolP512t1"};function iP(e){let t=i_[e];if(!t)throw new tV(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iT extends r8{constructor(){super(...arguments),this.type="private"}getKey(){let e=tp.parse(this.data,rL.PrivateKeyInfo);return tp.parse(e.privateKey,rL.EcPrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){if(!e.crv)throw new tV("Cannot get named curve from JWK. Property 'crv' is required");let t=new rL.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",t.privateKeyAlgorithm.parameters=tm.serialize(new rL.ObjectIdentifier(iP(e.crv)));let r=tK.fromJSON(e,{targetSchema:rL.EcPrivateKey});return t.privateKey=tm.serialize(r),this.data=Buffer.from(tm.serialize(t)),this}}class iC extends r8{constructor(){super(...arguments),this.type="public"}getKey(){let e=tp.parse(this.data,rL.PublicKeyInfo);return new rL.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){if(!e.crv)throw new tV("Cannot get named curve from JWK. Property 'crv' is required");let t=tK.fromJSON(e,{targetSchema:rL.EcPublicKey}),r=new rL.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.publicKeyAlgorithm.parameters=tm.serialize(new rL.ObjectIdentifier(iP(e.crv))),r.publicKey=tm.toASN(t).valueHex,this.data=Buffer.from(tm.serialize(r)),this}}class iB extends t${constructor(){super(...arguments),this.name="SHA-1",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iR extends t${constructor(){super(...arguments),this.name="SHA-256",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iO extends t${constructor(){super(...arguments),this.name="SHA-384",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iN extends t${constructor(){super(...arguments),this.name="SHA-512",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iI extends t${constructor(){super(...arguments),this.name="SHA3-256",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iU extends t${constructor(){super(...arguments),this.name="SHA3-384",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iK extends t${constructor(){super(...arguments),this.name="SHA3-512",this.usages=[]}async onDigest(e,t){return ik.digest(e,t)}}class iL{static async generateKey(e,t,r){let i=new iT;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new iC;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let s=rY().generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=s.privateKey,n.data=s.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){let i=ik.getAlgorithmName(e.hash),n=rY().createSign(i);n.update(Buffer.from(r)),t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let s={key:t.pem},o=n.sign(s),a=tp.parse(o,rL.EcDsaSignature);return rh.encodeSignature(a,rM.get(t.algorithm.namedCurve).size).buffer}static async verify(e,t,r,i){let n=ik.getAlgorithmName(e.hash),s=rY().createVerify(n);s.update(Buffer.from(i)),t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let o={key:t.pem},a=new rL.EcDsaSignature,l=rM.get(t.algorithm.namedCurve),c=rh.decodeSignature(r,l.size);a.r=u.toArrayBuffer(c.r),a.s=u.toArrayBuffer(c.s);let h=Buffer.from(tm.serialize(a));return s.verify(o,h)}static async deriveBits(e,t,r){let i=this.getOpenSSLNamedCurve(t.algorithm.namedCurve),n=rY().createECDH(i),s=tp.parse(t.data,rL.PrivateKeyInfo),o=tp.parse(s.privateKey,rL.EcPrivateKey);n.setPrivateKey(Buffer.from(o.privateKey));let a=tp.parse(e.public.data,rL.PublicKeyInfo),l=n.computeSecret(Buffer.from(a.publicKey));return null===r?l:new Uint8Array(l).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return tp.parse(t.data,rL.PublicKeyInfo).publicKey;default:throw new tV("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tK.fromJSON(t,{targetSchema:rL.EcPrivateKey});return this.importPrivateKey(e,r,i,n)}{let e=tK.fromJSON(t,{targetSchema:rL.EcPublicKey});return this.importPublicKey(e,r,i,n)}case"raw":{let e=new rL.EcPublicKey(t);return this.importPublicKey(e,r,i,n)}case"spki":{let e=tp.parse(new Uint8Array(t),rL.PublicKeyInfo),s=new rL.EcPublicKey(e.publicKey);return this.assertKeyParameters(e.publicKeyAlgorithm.parameters,r.namedCurve),this.importPublicKey(s,r,i,n)}case"pkcs8":{let e=tp.parse(new Uint8Array(t),rL.PrivateKeyInfo),s=tp.parse(e.privateKey,rL.EcPrivateKey);return this.assertKeyParameters(e.privateKeyAlgorithm.parameters,r.namedCurve),this.importPrivateKey(s,r,i,n)}default:throw new tV("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,t){if(!e)throw new tM("Key info doesn't have required parameters");let r="";try{r=tp.parse(e,rL.ObjectIdentifier).value}catch(e){throw new tM("Cannot read key info parameters")}if(iP(t)!==r)throw new tM("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,t,r,i){let n=new rL.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",n.privateKeyAlgorithm.parameters=tm.serialize(new rL.ObjectIdentifier(iP(t.namedCurve))),n.privateKey=tm.serialize(e);let s=new iT;return s.data=Buffer.from(tm.serialize(n)),s.algorithm=Object.assign({},t),s.extractable=r,s.usages=i,s}static async importPublicKey(e,t,r,i){let n=new rL.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let s=iP(t.namedCurve);n.publicKeyAlgorithm.parameters=tm.serialize(new rL.ObjectIdentifier(s)),n.publicKey=e.value;let o=new iC;return o.data=Buffer.from(tm.serialize(n)),o.algorithm=Object.assign({},t),o.extractable=r,o.usages=i,o}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:return e}}}iL.publicKeyUsages=["verify"],iL.privateKeyUsages=["sign","deriveKey","deriveBits"];class iM extends t8{constructor(){super(...arguments),this.namedCurves=rM.names,this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512","shake128","shake256","SHA3-256","SHA3-384","SHA3-512"]}async onGenerateKey(e,t,r){let i=await iL.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iL.sign(e,r5(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iL.verify(e,r5(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iL.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iL.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r5(e);if(!(r instanceof iT||r instanceof iC))throw TypeError("key: Is not EC CryptoKey")}}class ij extends t5{constructor(){super(...arguments),this.namedCurves=rM.names}async onGenerateKey(e,t,r){let i=await iL.generateKey({...e,name:this.name},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onExportKey(e,t){return iL.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iL.importKey(e,t,{...r,name:this.name},i,n))}checkCryptoKey(e,t){super.checkCryptoKey(e,t);let r=r5(e);if(!(r instanceof iT||r instanceof iC))throw TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,t,r){return await iL.deriveBits({...e,public:r5(e.public)},r5(t),r)}}let iD={[rL.idEd448]:"Ed448",ed448:rL.idEd448,[rL.idX448]:"X448",x448:rL.idX448,[rL.idEd25519]:"Ed25519",ed25519:rL.idEd25519,[rL.idX25519]:"X25519",x25519:rL.idX25519};function iV(e){let t=iD[e.toLowerCase()];if(!t)throw new tV(`Cannot convert WebCrypto named curve '${e}' to OID`);return t}class iq extends r8{constructor(){super(...arguments),this.type="private"}getKey(){let e=tp.parse(this.data,rL.PrivateKeyInfo);return tp.parse(e.privateKey,rL.CurvePrivateKey)}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},tU.toJSON(e))}fromJSON(e){if(!e.crv)throw new tV("Cannot get named curve from JWK. Property 'crv' is required");let t=new rL.PrivateKeyInfo;t.privateKeyAlgorithm.algorithm=iV(e.crv);let r=tK.fromJSON(e,{targetSchema:rL.CurvePrivateKey});return t.privateKey=tm.serialize(r),this.data=Buffer.from(tm.serialize(t)),this}}class i$ extends r8{constructor(){super(...arguments),this.type="public"}getKey(){return tp.parse(this.data,rL.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey();return Object.assign({kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable},{x:y.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new tV("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new tV("Cannot get property from JWK. Property 'x' is required");let t=new rL.PublicKeyInfo;return t.publicKeyAlgorithm.algorithm=iV(e.crv),t.publicKey=y.FromBase64Url(e.x),this.data=Buffer.from(tm.serialize(t)),this}}class iH{static async generateKey(e,t,r){let i=new iq;i.algorithm=e,i.extractable=t,i.usages=r.filter(e=>-1!==this.privateKeyUsages.indexOf(e));let n=new i$;n.algorithm=e,n.extractable=!0,n.usages=r.filter(e=>-1!==this.publicKeyUsages.indexOf(e));let s=e.namedCurve.toLowerCase(),o=rY().generateKeyPairSync(s,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=o.privateKey,n.data=o.publicKey,{privateKey:i,publicKey:n}}static async sign(e,t,r){t.pem||(t.pem=`-----BEGIN PRIVATE KEY-----
${t.data.toString("base64")}
-----END PRIVATE KEY-----`);let i={key:t.pem},n=rY().sign(null,Buffer.from(r),i);return u.toArrayBuffer(n)}static async verify(e,t,r,i){t.pem||(t.pem=`-----BEGIN PUBLIC KEY-----
${t.data.toString("base64")}
-----END PUBLIC KEY-----`);let n={key:t.pem};return rY().verify(null,Buffer.from(i),n,Buffer.from(r))}static async deriveBits(e,t,r){let i=rY().createPublicKey({key:e.public.data,format:"der",type:"spki"}),n=rY().createPrivateKey({key:t.data,format:"der",type:"pkcs8"});return new Uint8Array(rY().diffieHellman({publicKey:i,privateKey:n})).buffer.slice(0,r>>3)}static async exportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(t);case"pkcs8":case"spki":return new Uint8Array(t.data).buffer;case"raw":return tp.parse(t.data,rL.PublicKeyInfo).publicKey;default:throw new tV("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,t,r,i,n){switch(e.toLowerCase()){case"jwk":if(t.d){let e=tK.fromJSON(t,{targetSchema:rL.CurvePrivateKey});return this.importPrivateKey(e,r,i,n)}if(!t.x)throw TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(y.FromBase64Url(t.x),r,i,n);case"raw":return this.importPublicKey(t,r,i,n);case"spki":{let e=tp.parse(new Uint8Array(t),rL.PublicKeyInfo);return this.importPublicKey(e.publicKey,r,i,n)}case"pkcs8":{let e=tp.parse(new Uint8Array(t),rL.PrivateKeyInfo),s=tp.parse(e.privateKey,rL.CurvePrivateKey);return this.importPrivateKey(s,r,i,n)}default:throw new tV("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,t,r,i){let n=new iq;return n.fromJSON({crv:t.namedCurve,d:y.ToBase64Url(e.d)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}static async importPublicKey(e,t,r,i){let n=new i$;return n.fromJSON({crv:t.namedCurve,x:y.ToBase64Url(e)}),n.algorithm=Object.assign({},t),n.extractable=r,n.usages=i,n}}iH.publicKeyUsages=["verify"],iH.privateKeyUsages=["sign","deriveKey","deriveBits"];class iF extends t9{async onGenerateKey(e,t,r){let i=await iH.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onSign(e,t,r){return iH.sign(e,r5(t),new Uint8Array(r))}async onVerify(e,t,r,i){return iH.verify(e,r5(t),new Uint8Array(r),new Uint8Array(i))}async onExportKey(e,t){return iH.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iH.importKey(e,t,{...r,name:this.name},i,n))}}class iz extends t4{async onGenerateKey(e,t,r){let i=await iH.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},t,r);return{privateKey:r4(i.privateKey),publicKey:r4(i.publicKey)}}async onDeriveBits(e,t,r){return await iH.deriveBits({...e,public:r5(e.public)},r5(t),r)}async onExportKey(e,t){return iH.exportKey(e,r5(t))}async onImportKey(e,t,r,i,n){return r4(await iH.importKey(e,t,{...r,name:this.name},i,n))}}class iW extends r1{}class iJ extends rD{async onDeriveBits(e,t,r){return new Promise((i,n)=>{let s=u.toArrayBuffer(e.salt),o=e.hash.name.replace("-","");rY().pbkdf2(r5(t).data,Buffer.from(s),e.iterations,r>>3,o,(e,t)=>{e?n(e):i(new Uint8Array(t).buffer)})})}async onImportKey(e,t,r,i,n){if("raw"===e){let e=new iW;return e.data=Buffer.from(t),e.algorithm={name:this.name},e.extractable=!1,e.usages=n,r4(e)}throw new tV("format: Must be 'raw'")}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof iW))throw TypeError("key: Is not PBKDF CryptoKey")}}class iG extends r1{get alg(){let e=this.algorithm.hash.name.toUpperCase();return`HS${e.replace("SHA-","")}`}set alg(e){}}(0,rQ.Cg)([tL({name:"k",converter:r0})],iG.prototype,"data",void 0);class iX extends rj{async onGenerateKey(e,t,r){let i=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,n=new iG;return n.algorithm={...e,length:i,name:this.name},n.extractable=t,n.usages=r,n.data=rY().randomBytes(i>>3),r4(n)}async onSign(e,t,r){let i=ik.getAlgorithmName(t.algorithm.hash);return new Uint8Array(rY().createHmac(i,r5(t).data).update(Buffer.from(r)).digest()).buffer}async onVerify(e,t,r,i){let n=ik.getAlgorithmName(t.algorithm.hash);return 0===rY().createHmac(n,r5(t).data).update(Buffer.from(i)).digest().compare(Buffer.from(r))}async onImportKey(e,t,r,i,n){let s;switch(e.toLowerCase()){case"jwk":s=tK.fromJSON(t,{targetSchema:iG});break;case"raw":(s=new iG).data=Buffer.from(t);break;default:throw new tV("format: Must be 'jwk' or 'raw'")}return s.algorithm={hash:{name:r.hash.name},name:this.name,length:s.data.length<<3},s.extractable=i,s.usages=n,r4(s)}async onExportKey(e,t){switch(e.toLowerCase()){case"jwk":return tU.toJSON(r5(t));case"raw":return new Uint8Array(r5(t).data).buffer;default:throw new tV("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof iG))throw TypeError("key: Is not HMAC CryptoKey")}}class iY extends r1{}class iZ extends rV{async onImportKey(e,t,r,i,n){if("raw"!==e.toLowerCase())throw new tV("Operation not supported");let s=new iY;return s.data=Buffer.from(t),s.algorithm={name:this.name},s.extractable=i,s.usages=n,r4(s)}async onDeriveBits(e,t,r){let i=e.hash.name.replace("-",""),n=rY().createHash(i).digest().length,s=r/8,o=u.toUint8Array(e.info),a=rY().createHmac(i,u.toUint8Array(e.salt)).update(u.toUint8Array(r5(t).data)).digest(),l=[Buffer.alloc(0)],c=Math.ceil(s/n)+1;for(let e=1;e<c;++e)l.push(rY().createHmac(i,a).update(Buffer.concat([l[e-1],o,Buffer.from([e])])).digest());return Buffer.concat(l).slice(0,s)}checkCryptoKey(e,t){if(super.checkCryptoKey(e,t),!(r5(e)instanceof iY))throw TypeError("key: Is not HKDF CryptoKey")}}class iQ{static digest(e,t){return new Uint8Array(rY().createHash(e.name.toLowerCase(),{outputLength:e.length}).update(Buffer.from(t)).digest()).buffer}}class i0 extends r${async onDigest(e,t){return iQ.digest(e,t)}}class i1 extends rH{async onDigest(e,t){return iQ.digest(e,t)}}class i2 extends rG{constructor(){var e;super(),this.providers.set(new r7),this.providers.set(new il),this.providers.set(new iu),this.providers.set(new ia),this.providers.set(new ic),this.providers.set(new ih),this.providers.set(new im),this.providers.set(new iy),this.providers.set(new iS),this.providers.set(new iA),this.providers.set(new iE),this.providers.set(new ix),this.providers.set(new iM),this.providers.set(new ij),this.providers.set(new iB),this.providers.set(new iR),this.providers.set(new iO),this.providers.set(new iN),this.providers.set(new iJ),this.providers.set(new iX),this.providers.set(new iZ);let t=null==(e=/^v(\d+)/.exec(rZ.version))?void 0:e[1];t&&parseInt(t,10)>=12&&(this.providers.set(new i0),this.providers.set(new i1));let r=rX.getHashes();r.includes("sha3-256")&&this.providers.set(new iI),r.includes("sha3-384")&&this.providers.set(new iU),r.includes("sha3-512")&&this.providers.set(new iK),t&&parseInt(t,10)>=14&&(this.providers.set(new iF),this.providers.set(new iz))}}class i8 extends rF{constructor(){super(...arguments),this.subtle=new i2}getRandomValues(e){if(!ArrayBuffer.isView(e))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let t=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return rY().randomFillSync(t),e}}},49625:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},51185:(e,t,r)=>{"use strict";let i=r(3064),{snakeCase:n}=r(34834);e.exports=function(e,t){return i(e,function(e,r){var i,s;return[(i=t.exclude,s=e,i.some(function(e){return"string"==typeof e?e===s:e.test(s)}))?e:n(e,t.parsingOptions),r]},t=Object.assign({deep:!0,exclude:[],parsingOptions:{}},t))}},54327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(61981),t)},54910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return u}});let i=r(29294),n=r(63033),s=r(54717),o=r(7797),a=r(18238),l=r(8681);function u(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E111",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type)return(0,a.makeHangingPromise)(t.renderSignal,"`connection()`");else"prerender-ppr"===t.type?(0,s.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,s.throwToInterruptStaticGeneration)("connection",e,t);(0,s.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},55697:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s={};function o(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),i=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?i:`${i}; ${r.join("; ")}`}function a(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[i,n]=[r.slice(0,e),r.slice(e+1)];try{t.set(i,decodeURIComponent(null!=n?n:"true"))}catch{}}return t}function l(e){if(!e)return;let[[t,r],...i]=a(e),{domain:n,expires:s,httponly:o,maxage:l,path:h,samesite:d,secure:f,partitioned:p,priority:m}=Object.fromEntries(i.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var y,g,b={name:t,value:decodeURIComponent(r),domain:n,...s&&{expires:new Date(s)},...o&&{httpOnly:!0},..."string"==typeof l&&{maxAge:Number(l)},path:h,...d&&{sameSite:u.includes(y=(y=d).toLowerCase())?y:void 0},...f&&{secure:!0},...m&&{priority:c.includes(g=(g=m).toLowerCase())?g:void 0},...p&&{partitioned:!0}};let e={};for(let t in b)b[t]&&(e[t]=b[t]);return e}}((e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})})(s,{RequestCookies:()=>h,ResponseCookies:()=>d,parseCookie:()=>a,parseSetCookie:()=>l,stringifyCookie:()=>o}),e.exports=((e,s,o,a)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let l of i(s))n.call(e,l)||l===o||t(e,l,{get:()=>s[l],enumerable:!(a=r(s,l))||a.enumerable});return e})(t({},"__esModule",{value:!0}),s);var u=["strict","lax","none"],c=["low","medium","high"],h=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of a(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===i).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,i=this._parsed;return i.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(i).map(([e,t])=>o(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>o(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},d=class{constructor(e){var t,r,i;this._parsed=new Map,this._headers=e;let n=null!=(i=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?i:[];for(let e of Array.isArray(n)?n:function(e){if(!e)return[];var t,r,i,n,s,o=[],a=0;function l(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,s=!1;l();)if(","===(r=e.charAt(a))){for(i=a,a+=1,l(),n=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(s=!0,a=n,o.push(e.substring(t,i)),t=a):a=i+1}else a+=1;(!s||a>=e.length)&&o.push(e.substring(t,e.length))}return o}(n)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let i="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===i)}has(e){return this._parsed.has(e)}set(...e){let[t,r,i]=1===e.length?[e[0].name,e[0].value,e[0]]:e,n=this._parsed;return n.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...i})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=o(r);t.append("set-cookie",e)}}(n,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}}},57731:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("SquareActivity",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]])},58887:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},60137:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},60831:(e,t,r)=>{var i;(()=>{var n={226:function(n,s){!function(o,a){"use strict";var l="function",u="undefined",c="object",h="string",d="major",f="model",p="name",m="type",y="vendor",g="version",b="architecture",v="console",w="mobile",S="tablet",A="smarttv",k="wearable",E="embedded",x="Amazon",_="Apple",P="ASUS",T="BlackBerry",C="Browser",B="Chrome",R="Firefox",O="Google",N="Huawei",I="Microsoft",U="Motorola",K="Opera",L="Samsung",M="Sharp",j="Sony",D="Xiaomi",V="Zebra",q="Facebook",$="Chromium OS",H="Mac OS",F=function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===h&&-1!==J(t).indexOf(J(e))},J=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===h)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},X=function(e,t){for(var r,i,n,s,o,u,h=0;h<t.length&&!o;){var d=t[h],f=t[h+1];for(r=i=0;r<d.length&&!o&&d[r];)if(o=d[r++].exec(e))for(n=0;n<f.length;n++)u=o[++i],typeof(s=f[n])===c&&s.length>0?2===s.length?typeof s[1]==l?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==l||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):void 0:this[s[0]]=u?s[1].call(this,u,s[2]):void 0:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):a):this[s]=u||a;h+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(W(t[r][i],e))return"?"===r?a:r}else if(W(t[r],e))return"?"===r?a:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[p,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],g],[/\bfocus\/([\w\.]+)/i],[g,[p,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[g,[p,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+C],g],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,q],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,B+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,g],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,J]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",J]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[y,L],[m,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[y,L],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[y,_],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[y,_],[m,S]],[/(macintosh);/i],[f,[y,_]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[y,M],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[y,N],[m,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[y,N],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[y,D],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[y,D],[m,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[y,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[y,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[y,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[y,U],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[y,U],[m,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[y,"LG"],[m,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[y,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[y,"Lenovo"],[m,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[y,"Nokia"],[m,w]],[/(pixel c)\b/i],[f,[y,O],[m,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[y,O],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[y,j],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[y,j],[m,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[y,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[y,x],[m,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[y,x],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,y,[m,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[y,T],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[y,P],[m,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[y,P],[m,w]],[/(nexus 9)/i],[f,[y,"HTC"],[m,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[f,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[y,"Acer"],[m,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[y,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,f,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,f,[m,S]],[/(surface duo)/i],[f,[y,I],[m,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[y,"Fairphone"],[m,w]],[/(u304aa)/i],[f,[y,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[f,[y,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[f,[y,"RCA"],[m,S]],[/\b(venue[\d ]{2,7}) b/i],[f,[y,"Dell"],[m,S]],[/\b(q(?:mv|ta)\w+) b/i],[f,[y,"Verizon"],[m,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[y,"Barnes & Noble"],[m,S]],[/\b(tm\d{3}\w+) b/i],[f,[y,"NuVision"],[m,S]],[/\b(k88) b/i],[f,[y,"ZTE"],[m,S]],[/\b(nx\d{3}j) b/i],[f,[y,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[f,[y,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[f,[y,"Swiss"],[m,S]],[/\b((zeki)?tb.*\b) b/i],[f,[y,"Zeki"],[m,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],f,[m,S]],[/\b(ns-?\w{0,9}) b/i],[f,[y,"Insignia"],[m,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[y,"NextBook"],[m,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],f,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],f,[m,w]],[/\b(ph-1) /i],[f,[y,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[y,"Envizen"],[m,S]],[/\b(trio[-\w\. ]+) b/i],[f,[y,"MachSpeed"],[m,S]],[/\btu_(1491) b/i],[f,[y,"Rotor"],[m,S]],[/(shield[\w ]+) b/i],[f,[y,"Nvidia"],[m,S]],[/(sprint) (\w+)/i],[y,f,[m,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,I],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[y,V],[m,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[y,V],[m,w]],[/smart-tv.+(samsung)/i],[y,[m,A]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,L],[m,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[m,A]],[/(apple) ?tv/i],[y,[f,_+" TV"],[m,A]],[/crkey/i],[[f,B+"cast"],[y,O],[m,A]],[/droid.+aft(\w)( bui|\))/i],[f,[y,x],[m,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[y,M],[m,A]],[/(bravia[\w ]+)( bui|\))/i],[f,[y,j],[m,A]],[/(mitv-\w{5}) bui/i],[f,[y,D],[m,A]],[/Hbbtv.*(technisat) (.*);/i],[y,f,[m,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,G],[f,G],[m,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,f,[m,v]],[/droid.+; (shield) bui/i],[f,[y,"Nvidia"],[m,v]],[/(playstation [345portablevi]+)/i],[f,[y,j],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[y,I],[m,v]],[/((pebble))app/i],[y,f,[m,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[y,_],[m,k]],[/droid.+; (glass) \d/i],[f,[y,O],[m,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[y,V],[m,k]],[/(quest( 2| pro)?)/i],[f,[y,q],[m,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[m,E]],[/(aeobc)\b/i],[f,[y,x],[m,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[g,Y,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[g,Y,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,H],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,B+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,$],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},ee=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==u&&o.navigator?o.navigator:a,i=e||(r&&r.userAgent?r.userAgent:""),n=r&&r.userAgentData?r.userAgentData:a,s=t?F(Q,t):Q,v=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[p]=a,t[g]=a,X.call(t,i,s.browser),t[d]=typeof(e=t[g])===h?e.replace(/[^\d\.]/g,"").split(".")[0]:a,v&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[b]=a,X.call(e,i,s.cpu),e},this.getDevice=function(){var e={};return e[y]=a,e[f]=a,e[m]=a,X.call(e,i,s.device),v&&!e[m]&&n&&n.mobile&&(e[m]=w),v&&"Macintosh"==e[f]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[m]=S),e},this.getEngine=function(){var e={};return e[p]=a,e[g]=a,X.call(e,i,s.engine),e},this.getOS=function(){var e={};return e[p]=a,e[g]=a,X.call(e,i,s.os),v&&!e[p]&&n&&"Unknown"!=n.platform&&(e[p]=n.platform.replace(/chrome os/i,$).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===h&&e.length>350?G(e,350):e,this},this.setUA(i),this};ee.VERSION="1.0.35",ee.BROWSER=z([p,g,d]),ee.CPU=z([b]),ee.DEVICE=z([f,y,m,v,w,A,S,k,E]),ee.ENGINE=ee.OS=z([p,g]),typeof s!==u?(n.exports&&(s=n.exports=ee),s.UAParser=ee):r.amdO?void 0===(i=(function(){return ee}).call(t,r,t,e))||(e.exports=i):typeof o!==u&&(o.UAParser=ee);var et=typeof o!==u&&(o.jQuery||o.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},i=!0;try{n[e].call(r.exports,r,r.exports,o),i=!1}finally{i&&delete s[e]}return r.exports}o.ab=__dirname+"/",e.exports=o(226)})()},61031:(e,t,r)=>{let{fetch:i,Blob:n,FormData:s,Headers:o,Request:a,Response:l,AbortController:u}=r(62634);e.exports=i,e.exports.RuntimeBlob=n,e.exports.RuntimeFormData=s,e.exports.RuntimeHeaders=o,e.exports.RuntimeRequest=a,e.exports.RuntimeResponse=l,e.exports.RuntimeAbortController=u,e.exports.RuntimeFetch=i},61813:(e,t,r)=>{"use strict";r.d(t,{iB:()=>rf,Bl:()=>rp});var i=r(43210),n=r.n(i),s=r(7344),o=r(67898),a=r(95486),l=r(59433);let u=()=>{if("undefined"==typeof window)return;let e=e=>{Object.keys(e).forEach(t=>{delete e[t]})};try{e(window.next.router.sdc),e(window.next.router.sbc)}catch(e){return}};var c=r(3870);(0,s.XB)({packageName:"@clerk/nextjs"});var h=r(5066),d=r(89213);async function f(e,t=1,r=5){try{return await e()}catch(n){var i;if(t>=r)throw n;return await (i=2**t*100,new Promise(e=>setTimeout(e,i))),f(e,t+1,r)}}r(92549);var p=r(3596),m=r(77681),y=r(72842),g=r.n(y),b=r(61031),v=r(47151),w=r.n(v),S=r(51185),A=r.n(S),k=r(83304),E=r(46091),x=class{constructor(e){this.request=e}requireId(e){if(!e)throw Error("A valid resource ID is required.")}},_=RegExp("(?<!:)/{1,}","g");function P(...e){return e.filter(e=>e).join("/").replace(_,"/")}var T="/allowlist_identifiers",C=class extends x{async getAllowlistIdentifierList(){return this.request({method:"GET",path:T})}async createAllowlistIdentifier(e){return this.request({method:"POST",path:T,bodyParams:e})}async deleteAllowlistIdentifier(e){return this.requireId(e),this.request({method:"DELETE",path:P(T,e)})}},B="/clients",R=class extends x{async getClientList(){return this.request({method:"GET",path:B})}async getClient(e){return this.requireId(e),this.request({method:"GET",path:P(B,e)})}verifyClient(e){return this.request({method:"POST",path:P(B,"verify"),bodyParams:{token:e}})}},O=class extends x{async deleteDomain(e){return this.request({method:"DELETE",path:P("/domains",e)})}},N="/email_addresses",I=class extends x{async getEmailAddress(e){return this.requireId(e),this.request({method:"GET",path:P(N,e)})}async createEmailAddress(e){return this.request({method:"POST",path:N,bodyParams:e})}async updateEmailAddress(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:P(N,e),bodyParams:t})}async deleteEmailAddress(e){return this.requireId(e),this.request({method:"DELETE",path:P(N,e)})}},U=class extends x{async createEmail(e){return(0,h.io)("EmailAPI.createEmail","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/emails",bodyParams:e})}},K=(0,m._r)({packageName:"@clerk/backend"}),{isDevOrStagingUrl:L}=(0,p.RZ)(),M=class extends x{async getInterstitial(){return(0,h.io)("getInterstitial()",'Switch to `Clerk(...).localInterstitial(...)` from `import { Clerk } from "@clerk/backend"`.'),this.request({path:"internal/interstitial",method:"GET",headerParams:{"Content-Type":"text/html"}})}},j="/invitations",D=class extends x{async getInvitationList(e={}){return this.request({method:"GET",path:j,queryParams:e})}async createInvitation(e){return this.request({method:"POST",path:j,bodyParams:e})}async revokeInvitation(e){return this.requireId(e),this.request({method:"POST",path:P(j,e,"revoke")})}},{RuntimeFetch:V,RuntimeAbortController:q,RuntimeBlob:$,RuntimeFormData:H,RuntimeHeaders:F,RuntimeRequest:z,RuntimeResponse:W}=b,J=V.bind(globalThis),G={crypto:g(),fetch:J,AbortController:q,Blob:$,FormData:H,Headers:F,Request:z,Response:W},X="/organizations",Y=class extends x{async getOrganizationList(e){return this.request({method:"GET",path:X,queryParams:e})}async createOrganization(e){return this.request({method:"POST",path:X,bodyParams:e})}async getOrganization(e){let t="organizationId"in e?e.organizationId:e.slug;return this.requireId(t),this.request({method:"GET",path:P(X,t)})}async updateOrganization(e,t){return this.requireId(e),this.request({method:"PATCH",path:P(X,e),bodyParams:t})}async updateOrganizationLogo(e,t){this.requireId(e);let r=new G.FormData;return r.append("file",t?.file),r.append("uploader_user_id",t?.uploaderUserId),this.request({method:"PUT",path:P(X,e,"logo"),formData:r})}async deleteOrganizationLogo(e){return this.requireId(e),this.request({method:"DELETE",path:P(X,e,"logo")})}async updateOrganizationMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:P(X,e,"metadata"),bodyParams:t})}async deleteOrganization(e){return this.request({method:"DELETE",path:P(X,e)})}async getOrganizationMembershipList(e){let{organizationId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:P(X,t,"memberships"),queryParams:{limit:r,offset:i}})}async createOrganizationMembership(e){let{organizationId:t,userId:r,role:i}=e;return this.requireId(t),this.request({method:"POST",path:P(X,t,"memberships"),bodyParams:{userId:r,role:i}})}async updateOrganizationMembership(e){let{organizationId:t,userId:r,role:i}=e;return this.requireId(t),this.request({method:"PATCH",path:P(X,t,"memberships",r),bodyParams:{role:i}})}async updateOrganizationMembershipMetadata(e){let{organizationId:t,userId:r,publicMetadata:i,privateMetadata:n}=e;return this.request({method:"PATCH",path:P(X,t,"memberships",r,"metadata"),bodyParams:{publicMetadata:i,privateMetadata:n}})}async deleteOrganizationMembership(e){let{organizationId:t,userId:r}=e;return this.requireId(t),this.request({method:"DELETE",path:P(X,t,"memberships",r)})}async getOrganizationInvitationList(e){let{organizationId:t,status:r,limit:i,offset:n}=e;return this.requireId(t),this.request({method:"GET",path:P(X,t,"invitations"),queryParams:{status:r,limit:i,offset:n}})}async getPendingOrganizationInvitationList(e){(0,h.io)("getPendingOrganizationInvitationList","Use `getOrganizationInvitationList` instead.");let{organizationId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:P(X,t,"invitations","pending"),queryParams:{limit:r,offset:i}})}async createOrganizationInvitation(e){let{organizationId:t,...r}=e;return this.requireId(t),this.request({method:"POST",path:P(X,t,"invitations"),bodyParams:{...r}})}async getOrganizationInvitation(e){let{organizationId:t,invitationId:r}=e;return this.requireId(t),this.requireId(r),this.request({method:"GET",path:P(X,t,"invitations",r)})}async revokeOrganizationInvitation(e){let{organizationId:t,invitationId:r,requestingUserId:i}=e;return this.requireId(t),this.request({method:"POST",path:P(X,t,"invitations",r,"revoke"),bodyParams:{requestingUserId:i}})}},Z="/phone_numbers",Q=class extends x{async getPhoneNumber(e){return this.requireId(e),this.request({method:"GET",path:P(Z,e)})}async createPhoneNumber(e){return this.request({method:"POST",path:Z,bodyParams:e})}async updatePhoneNumber(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:P(Z,e),bodyParams:t})}async deletePhoneNumber(e){return this.requireId(e),this.request({method:"DELETE",path:P(Z,e)})}},ee="/redirect_urls",et=class extends x{async getRedirectUrlList(){return this.request({method:"GET",path:ee})}async getRedirectUrl(e){return this.requireId(e),this.request({method:"GET",path:P(ee,e)})}async createRedirectUrl(e){return this.request({method:"POST",path:ee,bodyParams:e})}async deleteRedirectUrl(e){return this.requireId(e),this.request({method:"DELETE",path:P(ee,e)})}},er="/sessions",ei=class extends x{async getSessionList(e){return this.request({method:"GET",path:er,queryParams:e})}async getSession(e){return this.requireId(e),this.request({method:"GET",path:P(er,e)})}async revokeSession(e){return this.requireId(e),this.request({method:"POST",path:P(er,e,"revoke")})}async verifySession(e,t){return this.requireId(e),this.request({method:"POST",path:P(er,e,"verify"),bodyParams:{token:t}})}async getToken(e,t){return this.requireId(e),(await this.request({method:"POST",path:P(er,e,"tokens",t||"")})).jwt}},en="/sign_in_tokens",es=class extends x{async createSignInToken(e){return this.request({method:"POST",path:en,bodyParams:e})}async revokeSignInToken(e){return this.requireId(e),this.request({method:"POST",path:P(en,e,"revoke")})}},eo=class extends x{async createSMSMessage(e){return(0,h.io)("SMSMessageAPI.createSMSMessage","This endpoint is no longer available and the function will be removed in the next major version."),this.request({method:"POST",path:"/sms_messages",bodyParams:e})}},ea="/users",el=class extends x{async getUserList(e={}){return this.request({method:"GET",path:ea,queryParams:e})}async getUser(e){return this.requireId(e),this.request({method:"GET",path:P(ea,e)})}async createUser(e){return this.request({method:"POST",path:ea,bodyParams:e})}async updateUser(e,t={}){return this.requireId(e),this.request({method:"PATCH",path:P(ea,e),bodyParams:t})}async updateUserProfileImage(e,t){this.requireId(e);let r=new G.FormData;return r.append("file",t?.file),this.request({method:"POST",path:P(ea,e,"profile_image"),formData:r})}async updateUserMetadata(e,t){return this.requireId(e),this.request({method:"PATCH",path:P(ea,e,"metadata"),bodyParams:t})}async deleteUser(e){return this.requireId(e),this.request({method:"DELETE",path:P(ea,e)})}async getCount(e={}){return this.request({method:"GET",path:P(ea,"count"),queryParams:e})}async getUserOauthAccessToken(e,t){return this.requireId(e),this.request({method:"GET",path:P(ea,e,"oauth_access_tokens",t)})}async disableUserMFA(e){return this.requireId(e),this.request({method:"DELETE",path:P(ea,e,"mfa")})}async getOrganizationMembershipList(e){let{userId:t,limit:r,offset:i}=e;return this.requireId(t),this.request({method:"GET",path:P(ea,t,"organization_memberships"),queryParams:{limit:r,offset:i}})}async verifyPassword(e){let{userId:t,password:r}=e;return this.requireId(t),this.request({method:"POST",path:P(ea,t,"verify_password"),bodyParams:{password:r}})}async verifyTOTP(e){let{userId:t,code:r}=e;return this.requireId(t),this.request({method:"POST",path:P(ea,t,"verify_totp"),bodyParams:{code:r}})}},eu="https://api.clerk.dev",ec="@clerk/backend@0.38.15",eh={AuthToken:"x-clerk-auth-token",AuthStatus:"x-clerk-auth-status",AuthReason:"x-clerk-auth-reason",AuthMessage:"x-clerk-auth-message",EnableDebug:"x-clerk-debug",ClerkRedirectTo:"x-clerk-redirect-to",CloudFrontForwardedProto:"cloudfront-forwarded-proto",Authorization:"authorization",ForwardedPort:"x-forwarded-port",ForwardedProto:"x-forwarded-proto",ForwardedHost:"x-forwarded-host",Referrer:"referer",UserAgent:"user-agent",Origin:"origin",Host:"host",ContentType:"content-type"},ed={AuthStatus:eh.AuthStatus,AuthToken:eh.AuthToken},ef={Attributes:{AuthToken:"__clerkAuthToken",AuthStatus:"__clerkAuthStatus",AuthReason:"__clerkAuthReason",AuthMessage:"__clerkAuthMessage"},Cookies:{Session:"__session",ClientUat:"__client_uat"},Headers:eh,ContentTypes:{Json:"application/json"}};function ep(e){if(!e||"string"!=typeof e)throw Error("Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.")}var em=class e{constructor(e,t,r,i,n){this.id=e,this.identifier=t,this.createdAt=r,this.updatedAt=i,this.invitationId=n}static fromJSON(t){return new e(t.id,t.identifier,t.created_at,t.updated_at,t.invitation_id)}},ey=class e{constructor(e,t,r,i,n,s,o,a,l){this.id=e,this.clientId=t,this.userId=r,this.status=i,this.lastActiveAt=n,this.expireAt=s,this.abandonAt=o,this.createdAt=a,this.updatedAt=l}static fromJSON(t){return new e(t.id,t.client_id,t.user_id,t.status,t.last_active_at,t.expire_at,t.abandon_at,t.created_at,t.updated_at)}},eg=class e{constructor(e,t,r,i,n,s,o,a){this.id=e,this.sessionIds=t,this.sessions=r,this.signInId=i,this.signUpId=n,this.lastActiveSessionId=s,this.createdAt=o,this.updatedAt=a}static fromJSON(t){return new e(t.id,t.session_ids,t.sessions.map(e=>ey.fromJSON(e)),t.sign_in_id,t.sign_up_id,t.last_active_session_id,t.created_at,t.updated_at)}},eb=class e{constructor(e,t,r,i){this.object=e,this.id=t,this.slug=r,this.deleted=i}static fromJSON(t){return new e(t.object,t.id||null,t.slug||null,t.deleted)}},ev=class e{constructor(e,t,r,i,n,s,o,a,l,u,c){this.id=e,this.fromEmailName=t,this.emailAddressId=r,this.toEmailAddress=i,this.subject=n,this.body=s,this.bodyPlain=o,this.status=a,this.slug=l,this.data=u,this.deliveredByClerk=c}static fromJSON(t){return new e(t.id,t.from_email_name,t.email_address_id,t.to_email_address,t.subject,t.body,t.body_plain,t.status,t.slug,t.data,t.delivered_by_clerk)}},ew=class e{constructor(e,t){this.id=e,this.type=t}static fromJSON(t){return new e(t.id,t.type)}},eS=class e{constructor(e,t,r=null,i=null,n=null,s=null){this.status=e,this.strategy=t,this.externalVerificationRedirectURL=r,this.attempts=i,this.expireAt=n,this.nonce=s}static fromJSON(t){return new e(t.status,t.strategy,t.external_verification_redirect_url?new URL(t.external_verification_redirect_url):null,t.attempts,t.expire_at,t.nonce)}},eA=class e{constructor(e,t,r,i){this.id=e,this.emailAddress=t,this.verification=r,this.linkedTo=i}static fromJSON(t){return new e(t.id,t.email_address,t.verification&&eS.fromJSON(t.verification),t.linked_to.map(e=>ew.fromJSON(e)))}},ek=class e{constructor(e,t,r,i,n,s,o,a,l,u,c,h={},d,f){this.id=e,this.provider=t,this.identificationId=r,this.externalId=i,this.approvedScopes=n,this.emailAddress=s,this.firstName=o,this.lastName=a,this.picture=l,this.imageUrl=u,this.username=c,this.publicMetadata=h,this.label=d,this.verification=f}static fromJSON(t){return new e(t.id,t.provider,t.identification_id,t.provider_user_id,t.approved_scopes,t.email_address,t.first_name,t.last_name,t.avatar_url,t.image_url,t.username,t.public_metadata,t.label,t.verification&&eS.fromJSON(t.verification))}};(0,h.Lx)(ek,"picture","Use `imageUrl` instead.");var eE=class e{constructor(e,t,r,i,n,s,o){this.id=e,this.emailAddress=t,this.publicMetadata=r,this.createdAt=i,this.updatedAt=n,this.status=s,this.revoked=o}static fromJSON(t){return new e(t.id,t.email_address,t.public_metadata,t.created_at,t.updated_at,t.status,t.revoked)}},ex=(e=>(e.AllowlistIdentifier="allowlist_identifier",e.Client="client",e.Email="email",e.EmailAddress="email_address",e.ExternalAccount="external_account",e.FacebookAccount="facebook_account",e.GoogleAccount="google_account",e.Invitation="invitation",e.OauthAccessToken="oauth_access_token",e.Organization="organization",e.OrganizationInvitation="organization_invitation",e.OrganizationMembership="organization_membership",e.PhoneNumber="phone_number",e.RedirectUrl="redirect_url",e.Session="session",e.SignInAttempt="sign_in_attempt",e.SignInToken="sign_in_token",e.SignUpAttempt="sign_up_attempt",e.SmsMessage="sms_message",e.User="user",e.Web3Wallet="web3_wallet",e.Token="token",e.TotalCount="total_count",e))(ex||{}),e_=class e{constructor(e,t,r={},i,n,s){this.provider=e,this.token=t,this.publicMetadata=r,this.label=i,this.scopes=n,this.tokenSecret=s}static fromJSON(t){return new e(t.provider,t.token,t.public_metadata,t.label,t.scopes,t.token_secret)}},eP=class e{constructor(e,t,r,i,n,s,o,a,l,u={},c={},h,d,f,p){this.id=e,this.name=t,this.slug=r,this.logoUrl=i,this.imageUrl=n,this.hasImage=s,this.createdBy=o,this.createdAt=a,this.updatedAt=l,this.publicMetadata=u,this.privateMetadata=c,this.maxAllowedMemberships=h,this.adminDeleteEnabled=d,this.members_count=f,this.membersCount=p}static fromJSON(t){return new e(t.id,t.name,t.slug,t.logo_url,t.image_url,t.has_image,t.created_by,t.created_at,t.updated_at,t.public_metadata,t.private_metadata,t.max_allowed_memberships,t.admin_delete_enabled,t.members_count,t.members_count)}};(0,h.Lx)(eP,"logoUrl","Use `imageUrl` instead."),(0,h.Lx)(eP,"members_count","Use `membersCount` instead.");var eT=class e{constructor(e,t,r,i,n,s,o,a={},l={}){this.id=e,this.emailAddress=t,this.role=r,this.organizationId=i,this.createdAt=n,this.updatedAt=s,this.status=o,this.publicMetadata=a,this.privateMetadata=l}static fromJSON(t){return new e(t.id,t.email_address,t.role,t.organization_id,t.created_at,t.updated_at,t.status,t.public_metadata,t.private_metadata)}},eC=class e{constructor(e,t,r={},i={},n,s,o,a){this.id=e,this.role=t,this.publicMetadata=r,this.privateMetadata=i,this.createdAt=n,this.updatedAt=s,this.organization=o,this.publicUserData=a}static fromJSON(t){return new e(t.id,t.role,t.public_metadata,t.private_metadata,t.created_at,t.updated_at,eP.fromJSON(t.organization),eB.fromJSON(t.public_user_data))}},eB=class e{constructor(e,t,r,i,n,s,o){this.identifier=e,this.firstName=t,this.lastName=r,this.profileImageUrl=i,this.imageUrl=n,this.hasImage=s,this.userId=o}static fromJSON(t){return new e(t.identifier,t.first_name,t.last_name,t.profile_image_url,t.image_url,t.has_image,t.user_id)}};(0,h.Lx)(eB,"profileImageUrl","Use `imageUrl` instead.");var eR=class e{constructor(e,t,r,i,n,s){this.id=e,this.phoneNumber=t,this.reservedForSecondFactor=r,this.defaultSecondFactor=i,this.verification=n,this.linkedTo=s}static fromJSON(t){return new e(t.id,t.phone_number,t.reserved_for_second_factor,t.default_second_factor,t.verification&&eS.fromJSON(t.verification),t.linked_to.map(e=>ew.fromJSON(e)))}},eO=class e{constructor(e,t,r,i){this.id=e,this.url=t,this.createdAt=r,this.updatedAt=i}static fromJSON(t){return new e(t.id,t.url,t.created_at,t.updated_at)}},eN=class e{constructor(e,t,r,i,n,s,o){this.id=e,this.userId=t,this.token=r,this.status=i,this.url=n,this.createdAt=s,this.updatedAt=o}static fromJSON(t){return new e(t.id,t.user_id,t.token,t.status,t.url,t.created_at,t.updated_at)}},eI=class e{constructor(e,t,r,i,n,s,o){this.id=e,this.fromPhoneNumber=t,this.toPhoneNumber=r,this.message=i,this.status=n,this.phoneNumberId=s,this.data=o}static fromJSON(t){return new e(t.id,t.from_phone_number,t.to_phone_number,t.message,t.status,t.phone_number_id,t.data)}},eU=class e{constructor(e){this.jwt=e}static fromJSON(t){return new e(t.jwt)}},eK=class e{constructor(e,t,r){this.id=e,this.web3Wallet=t,this.verification=r}static fromJSON(t){return new e(t.id,t.web3_wallet,t.verification&&eS.fromJSON(t.verification))}},eL=class e{constructor(e,t,r,i,n,s,o,a,l,u,c,h,d,f,p,m,y,g,b,v,w,S={},A={},k={},E=[],x=[],_=[],P=[],T){this.id=e,this.passwordEnabled=t,this.totpEnabled=r,this.backupCodeEnabled=i,this.twoFactorEnabled=n,this.banned=s,this.createdAt=o,this.updatedAt=a,this.profileImageUrl=l,this.imageUrl=u,this.hasImage=c,this.gender=h,this.birthday=d,this.primaryEmailAddressId=f,this.primaryPhoneNumberId=p,this.primaryWeb3WalletId=m,this.lastSignInAt=y,this.externalId=g,this.username=b,this.firstName=v,this.lastName=w,this.publicMetadata=S,this.privateMetadata=A,this.unsafeMetadata=k,this.emailAddresses=E,this.phoneNumbers=x,this.web3Wallets=_,this.externalAccounts=P,this.createOrganizationEnabled=T}static fromJSON(t){return new e(t.id,t.password_enabled,t.totp_enabled,t.backup_code_enabled,t.two_factor_enabled,t.banned,t.created_at,t.updated_at,t.profile_image_url,t.image_url,t.has_image,t.gender,t.birthday,t.primary_email_address_id,t.primary_phone_number_id,t.primary_web3_wallet_id,t.last_sign_in_at,t.external_id,t.username,t.first_name,t.last_name,t.public_metadata,t.private_metadata,t.unsafe_metadata,(t.email_addresses||[]).map(e=>eA.fromJSON(e)),(t.phone_numbers||[]).map(e=>eR.fromJSON(e)),(t.web3_wallets||[]).map(e=>eK.fromJSON(e)),(t.external_accounts||[]).map(e=>ek.fromJSON(e)),t.create_organization_enabled)}};function eM(e){if("string"!=typeof e&&"object"in e&&"deleted"in e)return eb.fromJSON(e);switch(e.object){case"allowlist_identifier":return em.fromJSON(e);case"client":return eg.fromJSON(e);case"email_address":return eA.fromJSON(e);case"email":return ev.fromJSON(e);case"invitation":return eE.fromJSON(e);case"oauth_access_token":return e_.fromJSON(e);case"organization":return eP.fromJSON(e);case"organization_invitation":return eT.fromJSON(e);case"organization_membership":return eC.fromJSON(e);case"phone_number":return eR.fromJSON(e);case"redirect_url":return eO.fromJSON(e);case"sign_in_token":return eN.fromJSON(e);case"session":return ey.fromJSON(e);case"sms_message":return eI.fromJSON(e);case"token":return eU.fromJSON(e);case"total_count":return e.total_count;case"user":return eL.fromJSON(e);default:return e}}(0,h.Lx)(eL,"profileImageUrl","Use `imageUrl` instead.");var ej=e=>async(...t)=>{let r=await e(...t);if(null===r.errors)return r.data;{let{errors:e,clerkTraceId:t}=r,{status:i,statusText:n}=r,s=new m.LR(n||"",{data:[],status:i||"",clerkTraceId:t});throw s.errors=e,s}};function eD(e,t){return e&&"object"==typeof e&&"clerk_trace_id"in e&&"string"==typeof e.clerk_trace_id?e.clerk_trace_id:t?.get("cf-ray")||""}function eV(e){return{code:e.code,message:e.message,longMessage:e.long_message,meta:{paramName:e?.meta?.param_name,sessionId:e?.meta?.session_id}}}function eq(e){let t=ej(async t=>{let r,{apiKey:i,secretKey:n,httpOptions:s,apiUrl:o=eu,apiVersion:a="v1",userAgent:l=ec}=e;i&&(0,h.io)("apiKey","Use `secretKey` instead."),s&&(0,h.io)("httpOptions","This option has been deprecated and will be removed with the next major release.\nA RequestInit init object used by the `request` method.");let{path:u,method:c,queryParams:d,headerParams:f,bodyParams:p,formData:m}=t,y=n||i;ep(y);let g=new URL(P(o,a,u));if(d)for(let[e,t]of Object.entries(A()({...d})))t&&[t].flat().forEach(t=>g.searchParams.append(e,t));let b={Authorization:`Bearer ${y}`,"User-Agent":l,...f};try{var v;if(m)r=await G.fetch(g.href,{...s,method:c,headers:b,body:m});else{b["Content-Type"]="application/json";let e="GET"!==c&&p&&Object.keys(p).length>0?{body:JSON.stringify(A()(p,{deep:!1}))}:null;r=await G.fetch(g.href,w()(s||{},{method:c,headers:b,...e}))}let e=r?.headers&&r.headers?.get(ef.Headers.ContentType)===ef.ContentTypes.Json,t=await (e?r.json():r.text());if(!r.ok)throw t;return{data:Array.isArray(t)?t.map(e=>eM(e)):(v=t,Array.isArray(v.data)&&void 0!==v.data)?t.data.map(e=>eM(e)):eM(t),errors:null}}catch(e){if(e instanceof Error)return{data:null,errors:[{code:"unexpected_error",message:e.message||"Unexpected error"}],clerkTraceId:eD(e,r?.headers)};return{data:null,errors:function(e){if(e&&"object"==typeof e&&"errors"in e){let t=e.errors;return t.length>0?t.map(eV):[]}return[]}(e),status:r?.status,statusText:r?.statusText,clerkTraceId:eD(e,r?.headers)}}});return{allowlistIdentifiers:new C(t),clients:new R(t),emailAddresses:new I(t),emails:new U(t),interstitial:new M(t),invitations:new D(t),organizations:new Y(t),phoneNumbers:new Q(t),redirectUrls:new et(t),sessions:new ei(t),signInTokens:new es(t),smsMessages:new eo(t),users:new el(t),domains:new O(t)}}var e$=e=>()=>{let t={...e};return t.apiKey=(t.apiKey||"").substring(0,7),t.secretKey=(t.secretKey||"").substring(0,7),t.jwtKey=(t.jwtKey||"").substring(0,7),{...t}};function eH(e,t,r){let{act:i,sid:n,org_id:s,org_role:o,org_slug:a,org_permissions:l,sub:u}=e,{apiKey:c,secretKey:d,apiUrl:f,apiVersion:p,token:m,session:y,user:g,organization:b}=t;c&&(0,h.io)("apiKey","Use `secretKey` instead.");let{sessions:v}=eq({apiKey:c,secretKey:d,apiUrl:f,apiVersion:p}),w=ez({sessionId:n,sessionToken:m,fetcher:(...e)=>v.getToken(...e)});return{actor:i,sessionClaims:e,sessionId:n,session:y,userId:u,user:g,orgId:s,orgRole:o,orgSlug:a,orgPermissions:l,organization:b,getToken:w,has:eW({orgId:s,orgRole:o,orgPermissions:l,userId:u}),debug:e$({...t,...r})}}function eF(e){return e?.apiKey&&(0,h.io)("apiKey","Use `secretKey` instead."),{sessionClaims:null,sessionId:null,session:null,userId:null,user:null,actor:null,orgId:null,orgRole:null,orgSlug:null,orgPermissions:null,organization:null,getToken:()=>Promise.resolve(null),has:()=>!1,debug:e$(e)}}var ez=e=>{let{fetcher:t,sessionToken:r,sessionId:i}=e||{};return async(e={})=>i?e.template?t(i,e.template):r:null},eW=({orgId:e,orgRole:t,userId:r,orgPermissions:i})=>n=>{if(!n?.permission&&!n?.role)throw Error('Missing parameters. `has` from `auth` or `getAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!e&&!!r&&!!t&&!!i&&(n.permission?i.includes(n.permission):!!n.role&&t===n.role)},eJ=class e extends Error{constructor({action:t,message:r,reason:i}){super(r),Object.setPrototypeOf(this,e.prototype),this.reason=i,this.message=r,this.action=t}getFullMessage(){return`${[this.message,this.action].filter(e=>e).join(" ")} (reason=${this.reason}, token-carrier=${this.tokenCarrier})`}};async function eG(e){e.frontendApi&&(0,h.io)("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&(0,h.io)("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=(0,p.q5)(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=eX(e),r=await f(()=>G.fetch(eX(e),{method:"GET",headers:{"Clerk-Backend-SDK":e.userAgent||ec}}));if(!r.ok)throw new eJ({action:"Contact support@clerk.com",message:`Error loading Clerk Interstitial from ${t} with code=${r.status}`,reason:"interstitial-remote-failed-to-load"});return r.text()}function eX(e){e.frontendApi&&(0,h.io)("frontendApi","Use `publishableKey` instead."),e.frontendApi=(0,p.q5)(e.publishableKey)?.frontendApi||e.frontendApi||"";let{apiUrl:t,frontendApi:r,pkgVersion:i,clerkJSVersion:n,publishableKey:s,proxyUrl:o,isSatellite:a,domain:l,signInUrl:u}=e,c=new URL(t);return c.pathname=P(c.pathname,"v1","/public/interstitial"),c.searchParams.append("clerk_js_version",n||(0,d.lF)(r,i)),s?c.searchParams.append("publishable_key",s):c.searchParams.append("frontend_api",r),o&&c.searchParams.append("proxy_url",o),a&&c.searchParams.append("is_satellite","true"),c.searchParams.append("sign_in_url",u||""),L(e.frontendApi)||c.searchParams.append("use_domain_for_script","true"),l&&c.searchParams.append("domain",l),c.href}var eY=(e,t)=>e.headers.get(t),eZ=e=>e?.split(",")[0],eQ=({protocol:e,forwardedProto:t,forwardedHost:r,host:i})=>{let n=eZ(r)??i,s=eZ(t)??e?.replace(/[:/]/,"");return n&&s?`${s}://${n}`:""},e0=e=>{if(!e)return{};let t=e2(e);return{cookies:t,headers:e8(e),searchParams:e3(e)}},e1=e=>e?e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):e,e2=e=>{let t=e.headers&&e.headers?.get("cookie")?(0,k.q)(e.headers.get("cookie")):{};return e=>{let r=t?.[e];if(void 0!==r)return e1(r)}},e8=e=>t=>e?.headers?.get(t)||void 0,e3=e=>e?.url?new URL(e.url)?.searchParams:void 0,e6=e=>e?.replace("Bearer ",""),e5=(e=>(e.SignedIn="signed-in",e.SignedOut="signed-out",e.Interstitial="interstitial",e.Unknown="unknown",e))(e5||{});async function e4(e,t){let{apiKey:r,secretKey:i,apiUrl:n,apiVersion:s,cookieToken:o,frontendApi:a,proxyUrl:l,publishableKey:u,domain:c,isSatellite:h,headerToken:d,loadSession:f,loadUser:p,loadOrganization:m,signInUrl:y,signUpUrl:g,afterSignInUrl:b,afterSignUpUrl:v,token:w}=e,{sid:S,org_id:A,sub:k}=t,{sessions:E,users:x,organizations:_}=eq({apiKey:r,secretKey:i,apiUrl:n,apiVersion:s}),[P,T,C]=await Promise.all([f?E.getSession(S):Promise.resolve(void 0),p?x.getUser(k):Promise.resolve(void 0),m&&A?_.getOrganization({organizationId:A}):Promise.resolve(void 0)]),B=eH(t,{secretKey:i,apiKey:r,apiUrl:n,apiVersion:s,token:o||d||"",session:P,user:T,organization:C},{...e,status:"signed-in"});return{status:"signed-in",reason:null,message:null,frontendApi:a,proxyUrl:l,publishableKey:u,domain:c,isSatellite:h,signInUrl:y,signUpUrl:g,afterSignInUrl:b,afterSignUpUrl:v,isSignedIn:!0,isInterstitial:!1,isUnknown:!1,toAuth:()=>B,token:w}}function e9(e,t,r=""){let{frontendApi:i,publishableKey:n,proxyUrl:s,isSatellite:o,domain:a,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:h}=e;return{status:"signed-out",reason:t,message:r,frontendApi:i,proxyUrl:s,publishableKey:n,isSatellite:o,domain:a,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:h,isSignedIn:!1,isInterstitial:!1,isUnknown:!1,toAuth:()=>eF({...e,status:"signed-out",reason:t,message:r}),token:null}}function e7(e,t,r=""){let{frontendApi:i,publishableKey:n,proxyUrl:s,isSatellite:o,domain:a,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:h}=e;return{status:"interstitial",reason:t,message:r,frontendApi:i,publishableKey:n,isSatellite:o,domain:a,proxyUrl:s,signInUrl:l,signUpUrl:u,afterSignInUrl:c,afterSignUpUrl:h,isSignedIn:!1,isInterstitial:!0,isUnknown:!1,toAuth:()=>null,token:null}}function te({originURL:e,host:t,forwardedHost:r,forwardedProto:i}){let n=eQ({forwardedProto:i,forwardedHost:r,protocol:e.protocol,host:t});return n&&new URL(n).origin!==e.origin}var tt=(e,t)=>e?e.find(e=>e.code===t):null,tr={parse:(e,t)=>(function(e,t,r={}){if(!t.codes){t.codes={};for(let e=0;e<t.chars.length;++e)t.codes[t.chars[e]]=e}if(!r.loose&&e.length*t.bits&7)throw SyntaxError("Invalid padding");let i=e.length;for(;"="===e[i-1];)if(--i,!r.loose&&!((e.length-i)*t.bits&7))throw SyntaxError("Invalid padding");let n=new(r.out??Uint8Array)(i*t.bits/8|0),s=0,o=0,a=0;for(let r=0;r<i;++r){let i=t.codes[e[r]];if(void 0===i)throw SyntaxError("Invalid character "+e[r]);o=o<<t.bits|i,(s+=t.bits)>=8&&(s-=8,n[a++]=255&o>>s)}if(s>=t.bits||255&o<<8-s)throw SyntaxError("Unexpected end of data");return n})(e,ti,t),stringify:(e,t)=>(function(e,t,r={}){let{pad:i=!0}=r,n=(1<<t.bits)-1,s="",o=0,a=0;for(let r=0;r<e.length;++r)for(a=a<<8|255&e[r],o+=8;o>t.bits;)o-=t.bits,s+=t.chars[n&a>>o];if(o&&(s+=t.chars[n&a<<t.bits-o]),i)for(;s.length*t.bits&7;)s+="=";return s})(e,ti,t)},ti={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},tn={RS256:"SHA-256",RS384:"SHA-384",RS512:"SHA-512"},ts="RSASSA-PKCS1-v1_5",to={RS256:ts,RS384:ts,RS512:ts},ta=Object.keys(tn),tl=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"string"==typeof e),tu=(e,t)=>{let r=[t].flat().filter(e=>!!e),i=[e].flat().filter(e=>!!e);if(r.length>0&&i.length>0){if("string"==typeof e){if(!r.includes(e))throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}else if(tl(e)&&!e.some(e=>r.includes(e)))throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT audience claim array (aud) ${JSON.stringify(e)}. Is not included in "${JSON.stringify(r)}".`})}},tc=e=>{if(void 0!==e&&"JWT"!==e)throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid",message:`Invalid JWT type ${JSON.stringify(e)}. Expected "JWT".`})},th=e=>{if(!ta.includes(e))throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-invalid-algorithm",message:`Invalid JWT algorithm ${JSON.stringify(e)}. Supported: ${ta}.`})},td=e=>{if("string"!=typeof e)throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Subject claim (sub) is required and must be a string. Received ${JSON.stringify(e)}.`})},tf=(e,t)=>{if(e&&t&&0!==t.length&&!t.includes(e))throw new eJ({reason:"token-invalid-authorized-parties",message:`Invalid JWT Authorized party claim (azp) ${JSON.stringify(e)}. Expected "${t}".`})},tp=(e,t)=>{if("function"!=typeof t||t(e)){if("string"==typeof t&&e&&e!==t)throw new eJ({reason:"token-invalid-issuer",message:`Invalid JWT issuer claim (iss) ${JSON.stringify(e)}. Expected "${t}".`})}else throw new eJ({reason:"token-invalid-issuer",message:"Failed JWT issuer resolver. Make sure that the resolver returns a truthy value."})},tm=(e,t)=>{if("number"!=typeof e)throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT expiry date claim (exp) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()<=r.getTime()-t)throw new eJ({reason:"token-expired",message:`JWT is expired. Expiry date: ${i.toUTCString()}, Current date: ${r.toUTCString()}.`})},ty=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT not before date claim (nbf) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()>r.getTime()+t)throw new eJ({reason:"token-not-active-yet",message:`JWT cannot be used prior to not before date claim (nbf). Not before date: ${i.toUTCString()}; Current date: ${r.toUTCString()};`})},tg=(e,t)=>{if(void 0===e)return;if("number"!=typeof e)throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Invalid JWT issued at date claim (iat) ${JSON.stringify(e)}. Expected number.`});let r=new Date(Date.now()),i=new Date(0);if(i.setUTCSeconds(e),i.getTime()>r.getTime()+t)throw new eJ({reason:"token-not-active-yet",message:`JWT issued at date claim (iat) is in the future. Issued at date: ${i.toUTCString()}; Current date: ${r.toUTCString()};`})};async function tb(e,t){let{header:r,signature:i,raw:n}=e,s=new TextEncoder().encode([n.header,n.payload].join(".")),o=function(e){let t=tn[e],r=to[e];if(!t||!r)throw Error(`Unsupported algorithm ${e}, expected one of ${ta.join(",")}.`);return{hash:{name:tn[e]},name:to[e]}}(r.alg),a=await function(e,t,r){if("object"==typeof e)return G.crypto.subtle.importKey("jwk",e,t,!1,[r]);let i=function(e){let t=e.replace(/-----BEGIN.*?-----/g,"").replace(/-----END.*?-----/g,"").replace(/\s/g,""),r=(0,E.y)(t),i=new Uint8Array(new ArrayBuffer(r.length));for(let e=0,t=r.length;e<t;e++)i[e]=r.charCodeAt(e);return i}(e),n="sign"===r?"pkcs8":"spki";return G.crypto.subtle.importKey(n,i,t,!1,[r])}(t,o,"verify");return G.crypto.subtle.verify(o.name,a,i,s)}function tv(e){let t=(e||"").toString().split(".");if(3!==t.length)throw new eJ({reason:"token-invalid",message:"Invalid JWT form. A JWT consists of three parts separated by dots."});let[r,i,n]=t,s=new TextDecoder,o=JSON.parse(s.decode(tr.parse(r,{loose:!0}))),a=JSON.parse(s.decode(tr.parse(i,{loose:!0}))),l=tr.parse(n,{loose:!0});return(0,h.W1)(a,"orgs",'Add orgs to your session token using the "user.organizations" shortcode in JWT Templates instead.',"decodeJwt:orgs"),{header:o,payload:a,signature:l,raw:{header:r,payload:i,signature:n,text:e}}}async function tw(e,{audience:t,authorizedParties:r,clockSkewInSeconds:i,clockSkewInMs:n,issuer:s,key:o}){let a;i&&(0,h.io)("clockSkewInSeconds","Use `clockSkewInMs` instead.");let l=n||i||5e3,u=tv(e),{header:c,payload:d}=u,{typ:f,alg:p}=c;tc(f),th(p);let{azp:m,sub:y,aud:g,iss:b,iat:v,exp:w,nbf:S}=d;td(y),tu([g],[t]),tf(m,r),tp(b,s),tm(w,l),ty(S,l),tg(v,l);try{a=await tb(u,o)}catch(e){throw new eJ({action:"Make sure that this is a valid Clerk generate JWT.",reason:"token-verification-failed",message:`Error verifying JWT signature. ${e}`})}if(!a)throw new eJ({reason:"token-invalid-signature",message:"JWT signature is invalid."});return d}var tS={},tA=0;function tk(e,t=!0){tS[e.kid]=e,tA=t?Date.now():-1}var tE="local";async function tx({apiKey:e,secretKey:t,apiUrl:r=eu,apiVersion:i="v1",issuer:n,kid:s,skipJwksCache:o}){-1!==tA&&Date.now()-tA>=3e5&&(tS={});let a=!tS[s];if(o||a){let s,o=t||e;if(o)s=()=>tP(r,o,i);else if(n)s=()=>t_(n);else throw new eJ({action:"Contact support@clerk.com",message:"Failed to load JWKS from Clerk Backend or Frontend API.",reason:"jwk-remote-failed-to-load"});let{keys:a}=await f(s);if(!a||!a.length)throw new eJ({action:"Contact support@clerk.com",message:"The JWKS endpoint did not contain any signing keys. Contact support@clerk.com.",reason:"jwk-remote-failed-to-load"});a.forEach(e=>tk(e))}let l=tS[s];if(!l){let e=Object.values(tS).map(e=>e.kid).join(", ");throw new eJ({action:"Contact support@clerk.com",message:`Unable to find a signing key in JWKS that matches the kid='${s}' of the provided session token. Please make sure that the __session cookie or the HTTP authorization header contain a Clerk-generated session JWT.${e?` The following kid are available: ${e}`:""}`,reason:"jwk-remote-missing"})}return l}async function t_(e){let t=new URL(e);t.pathname=P(t.pathname,".well-known/jwks.json");let r=await G.fetch(t.href);if(!r.ok)throw new eJ({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${t.href} with code=${r.status}`,reason:"jwk-remote-failed-to-load"});return r.json()}async function tP(e,t,r){if(!t)throw new eJ({action:"Set the CLERK_SECRET_KEY or CLERK_API_KEY environment variable.",message:"Missing Clerk Secret Key or API Key. Go to https://dashboard.clerk.com and get your key for your instance.",reason:"jwk-remote-failed-to-load"});let i=new URL(e);i.pathname=P(i.pathname,r,"/jwks");let n=await G.fetch(i.href,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!n.ok){let e=await n.json(),t=tt(e?.errors,"clerk_key_invalid");if(t)throw new eJ({action:"Contact support@clerk.com",message:t.message,reason:"secret-key-invalid"});throw new eJ({action:"Contact support@clerk.com",message:`Error loading Clerk JWKS from ${i.href} with code=${n.status}`,reason:"jwk-remote-failed-to-load"})}return n.json()}async function tT(e,t){let r,{apiKey:i,secretKey:n,apiUrl:s,apiVersion:o,audience:a,authorizedParties:l,clockSkewInSeconds:u,clockSkewInMs:c,issuer:d,jwksCacheTtlInMs:f,jwtKey:p,skipJwksCache:m}=t;t.apiKey&&(0,h.io)("apiKey","Use `secretKey` instead.");let{header:y}=tv(e),{kid:g}=y;if(p)r=function(e){if(!tS[tE]){if(!e)throw new eJ({action:"Set the CLERK_JWT_KEY environment variable.",message:"Missing local JWK.",reason:"jwk-local-missing"});tk({kid:"local",kty:"RSA",alg:"RS256",n:e.replace(/(\r\n|\n|\r)/gm,"").replace("-----BEGIN PUBLIC KEY-----","").replace("-----END PUBLIC KEY-----","").replace("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA","").replace("IDAQAB","").replace(/\+/g,"-").replace(/\//g,"_"),e:"AQAB"},!1)}return tS[tE]}(p);else if("string"==typeof d)r=await tx({issuer:d,kid:g,jwksCacheTtlInMs:f,skipJwksCache:m});else if(i||n)r=await tx({apiKey:i,secretKey:n,apiUrl:s,apiVersion:o,kid:g,jwksCacheTtlInMs:f,skipJwksCache:m});else throw new eJ({action:"Set the CLERK_JWT_KEY environment variable.",message:"Failed to resolve JWK during verification.",reason:"jwk-failed-to-resolve"});return await tw(e,{audience:a,authorizedParties:l,clockSkewInSeconds:u,clockSkewInMs:c,key:r,issuer:d})}var tC=e=>!!e?.get("__clerk_satellite_url"),tB=e=>e?.get("__clerk_synced")==="true",tR=/^Mozilla\/|(Amazon CloudFront)/,tO=e=>tR.test(e||""),tN=e=>{let{apiKey:t,secretKey:r,userAgent:i}=e;if((0,p.f9)(r||t||"")&&!tO(i))return e9(e,"header-missing-non-browser")},tI=e=>{let{origin:t,host:r,forwardedHost:i,forwardedProto:n}=e;if(t&&te({originURL:new URL(t),host:r,forwardedHost:i,forwardedProto:n}))return e9(e,"header-missing-cors")},tU=e=>{let{apiKey:t,secretKey:r,isSatellite:i,searchParams:n}=e;if((0,p.f9)(r||t||"")&&!i&&tC(n))return e7(e,"primary-responds-to-syncing")},tK=e=>{let{apiKey:t,secretKey:r,clientUat:i}=e;if((0,p.f9)(r||t||"")&&!i)return e7(e,"uat-missing")},tL=e=>{let{apiKey:t,secretKey:r,referrer:i,host:n,forwardedHost:s,forwardedProto:o}=e,a=i&&te({originURL:new URL(i),host:n,forwardedHost:s,forwardedProto:o});if((0,p.f9)(r||t||"")&&a)return e7(e,"cross-origin-referrer")},tM=e=>{let{apiKey:t,secretKey:r,clientUat:i,cookieToken:n}=e;if((0,p.Be)(r||t||"")&&!i&&!n)return e9(e,"cookie-and-uat-missing")},tj=e=>{let{clientUat:t}=e;if("0"===t)return e9(e,"standard-signed-out")},tD=e=>{let{clientUat:t,cookieToken:r}=e;if(t&&Number.parseInt(t)>0&&!r)return e7(e,"cookie-missing")},tV=async e=>{let{headerToken:t}=e,r=await tH(e,t);return await e4({...e,token:t},r)},tq=async e=>{let{cookieToken:t,clientUat:r}=e,i=await tH(e,t),n=await e4({...e,token:t},i),s=n.toAuth().sessionClaims.iat<Number.parseInt(r);return!r||s?e7(e,"cookie-outdated"):n};async function t$(e,t){for(let r of t){let t=await r(e);if(t)return t}return e9(e,"unexpected-error")}async function tH(e,t){let r,{isSatellite:i,proxyUrl:n}=e;return r=i?null:n||(e=>e.startsWith("https://clerk.")||e.includes(".clerk.accounts")),tT(t,{...e,issuer:r})}var tF=e=>{let{clientUat:t,isSatellite:r,searchParams:i,userAgent:n}=e,s=!t||"0"===t;return r&&s&&!tO(n)?e9(e,"satellite-needs-syncing"):r&&s&&!tB(i)?e7(e,"satellite-needs-syncing"):void 0};async function tz(e){let{cookies:t,headers:r,searchParams:i}=e0(e?.request);if(e.frontendApi&&(0,h.io)("frontendApi","Use `publishableKey` instead."),e.apiKey&&(0,h.io)("apiKey","Use `secretKey` instead."),ep((e={...e,...tJ(e,r),frontendApi:(0,p.q5)(e.publishableKey)?.frontendApi||e.frontendApi,apiUrl:e.apiUrl||eu,apiVersion:e.apiVersion||"v1",cookieToken:e.cookieToken||t?.(ef.Cookies.Session),clientUat:e.clientUat||t?.(ef.Cookies.ClientUat),searchParams:e.searchParams||i||void 0}).secretKey||e.apiKey),e.isSatellite){var n=e.signInUrl,s=e.secretKey||e.apiKey;if(!n&&(0,p.f9)(s))throw Error("Missing signInUrl. Pass a signInUrl for dev instances if an app is satellite");if(e.signInUrl&&e.origin&&function(e,t){let r;try{r=new URL(e)}catch{throw Error("The signInUrl needs to have a absolute url format.")}if(r.origin===t)throw Error("The signInUrl needs to be on a different origin than your satellite application.")}(e.signInUrl,e.origin),!(e.proxyUrl||e.domain))throw Error("Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl")}async function o(){try{return await t$(e,[tV])}catch(e){return l(e,"header")}}async function a(){try{return await t$(e,[tI,tN,tF,tU,tM,tK,tL,tD,tj,tq])}catch(e){return l(e,"cookie")}}function l(t,r){if(t instanceof eJ)return(t.tokenCarrier=r,["token-expired","token-not-active-yet"].includes(t.reason))?"header"===r?function(e,t,r=""){let{frontendApi:i,publishableKey:n,isSatellite:s,domain:o,signInUrl:a,signUpUrl:l,afterSignInUrl:u,afterSignUpUrl:c}=e;return{status:"unknown",reason:t,message:r,frontendApi:i,publishableKey:n,isSatellite:s,domain:o,signInUrl:a,signUpUrl:l,afterSignInUrl:u,afterSignUpUrl:c,isSignedIn:!1,isInterstitial:!1,isUnknown:!0,toAuth:()=>null,token:null}}(e,t.reason,t.getFullMessage()):e7(e,t.reason,t.getFullMessage()):e9(e,t.reason,t.getFullMessage());return e9(e,"unexpected-error",t.message)}return e.headerToken?o():a()}var tW=e=>{let{frontendApi:t,isSignedIn:r,proxyUrl:i,isInterstitial:n,reason:s,message:o,publishableKey:a,isSatellite:l,domain:u}=e;return{frontendApi:t,isSignedIn:r,proxyUrl:i,isInterstitial:n,reason:s,message:o,publishableKey:a,isSatellite:l,domain:u}},tJ=(e,t)=>t?{headerToken:e6(e.headerToken||t(ef.Headers.Authorization)),origin:e.origin||t(ef.Headers.Origin),host:e.host||t(ef.Headers.Host),forwardedHost:e.forwardedHost||t(ef.Headers.ForwardedHost),forwardedPort:e.forwardedPort||t(ef.Headers.ForwardedPort),forwardedProto:e.forwardedProto||t(ef.Headers.CloudFrontForwardedProto)||t(ef.Headers.ForwardedProto),referrer:e.referrer||t(ef.Headers.Referrer),userAgent:e.userAgent||t(ef.Headers.UserAgent)}:{},tG=(e,t)=>{let r;if(e.startsWith("http"))r=new URL(e);else{if(!t||!t.startsWith("http"))throw Error("destination url or return back url should be an absolute path url!");let i=new URL(t);r=new URL(e,i.origin)}return t&&r.searchParams.set("redirect_url",t),r.toString()};let tX={rE:"15.3.4"},tY=e=>{if(!e||"string"!=typeof e)return e;try{return(e||"").replace(/^(sk_(live|test)_)(.+?)(.{3})$/,"$1*********$4")}catch(e){return""}},tZ=e=>(Array.isArray(e)?e:[e]).map(e=>"string"==typeof e?tY(e):JSON.stringify(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,tY(t)])),null,2)).join(", "),tQ=(e,t)=>()=>{let r=[],i=!1;return{enable:()=>{i=!0},debug:(...e)=>{i&&r.push(e.map(e=>"function"==typeof e?e():e))},commit:()=>{if(i){var n,s;for(let i of(console.log((n=e,`[clerk debug start: ${n}]`)),r)){let e=t(i);e=e.split("\n").map(e=>`  ${e}`).join("\n"),process.env.VERCEL&&(e=function(e,t){let r=new TextEncoder,i=new TextDecoder("utf-8"),n=r.encode(e).slice(0,4096);return i.decode(n).replace(/\uFFFD/g,"")}(e,4096)),console.log(e)}console.log((s=e,`[clerk debug end: ${s}] (@clerk/nextjs=4.31.8,next=${tX.rE})`))}}}},t0=(e,t)=>(...r)=>{let i=("string"==typeof e?tQ(e,tZ):e)(),n=t(i);try{let e=n(...r);if("object"==typeof e&&"then"in e&&"function"==typeof e.then)return e.then(e=>(i.commit(),e)).catch(e=>{throw i.commit(),e});return i.commit(),e}catch(e){throw i.commit(),e}};(process.env.CLERK_JS_VERSION||0)&&(0,h.io)("CLERK_JS_VERSION","Use `NEXT_PUBLIC_CLERK_JS_VERSION` environment variable instead."),process.env.NEXT_PUBLIC_CLERK_JS_VERSION,process.env.NEXT_PUBLIC_CLERK_JS;let t1=process.env.CLERK_API_URL||"https://api.clerk.dev",t2=process.env.CLERK_API_VERSION||"v1",t8=process.env.CLERK_API_KEY||"";t8&&(0,h.io)("CLERK_API_KEY","Use `CLERK_SECRET_KEY` environment variable instead.");let t3="sk_test_4jDSD6XhrQ2IyG1uq3XYqe11NI87BbYfJmjActwTV6",t6=process.env.NEXT_PUBLIC_CLERK_FRONTEND_API||"";t6&&(0,h.io)("NEXT_PUBLIC_CLERK_FRONTEND_API","Use `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` environment variable instead.");let t5=process.env.NEXT_PUBLIC_CLERK_DOMAIN||"",t4=process.env.NEXT_PUBLIC_CLERK_PROXY_URL||"",t9="true"===process.env.NEXT_PUBLIC_CLERK_IS_SATELLITE,t7=process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL||"",re=process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL||"",rt=(e="auth")=>`Clerk: ${e}() was called but Clerk can't detect usage of authMiddleware(). Please ensure the following:
- authMiddleware() is used in your Next.js Middleware.
- Your Middleware matcher is configured to match this route or page.
- If you are using the src directory, make sure the Middleware file is inside of it.

For more details, see https://clerk.com/docs/quickstarts/nextjs
`;r(40117),r(22527);var rr=r(26919);function ri(e,t){var r,i;let n=(r=e,((i=ef.Attributes[t])in r?r[i]:void 0)||rn(e,ef.Headers[t]));return n||("AuthStatus"===t||"AuthToken"===t)&&function(e,t){let r;return rs(e)?e.nextUrl.searchParams.get(t):("query"in e&&(r=e.query[t]),r||(r=new URLSearchParams((e.url||"").split("?")[1]).get(t)),r)}(e,t)||void 0}function rn(e,t){var r,i;return rs(e)?e.headers.get(t):e.headers[t]||e.headers[t.toLowerCase()]||(null==(i=null==(r=e.socket)?void 0:r._httpMessage)?void 0:i.getHeader(t))}function rs(e){try{let{headers:t,nextUrl:r,cookies:i}=e||{};return"function"==typeof(null==t?void 0:t.get)&&"function"==typeof(null==r?void 0:r.searchParams.get)&&"function"==typeof(null==i?void 0:i.get)}catch(e){return!1}}let ro="x-middleware-override-headers",ra="x-middleware-request",rl=({debugLoggerName:e,noAuthStatusMessage:t})=>t0(e,e=>(r,i)=>{"true"===rn(r,ef.Headers.EnableDebug)&&e.enable();let n=ri(r,"AuthToken"),s=ri(r,"AuthStatus"),o=ri(r,"AuthMessage"),a=ri(r,"AuthReason");if(e.debug("Debug",{authReason:a,authMessage:o,authStatus:s,authToken:n}),!s)throw Error(t);let l={apiKey:(null==i?void 0:i.apiKey)||t8,authStatus:s,authMessage:o,secretKey:(null==i?void 0:i.secretKey)||t3,authReason:a,authToken:n,apiUrl:t1,apiVersion:t2};if(e.debug("Options debug",l),s!==e5.SignedIn)return eF(l);let u=tv(n);e.debug("JWT debug",u.raw.text);let c=eH(u.payload,{...l,token:u.raw.text});return c&&(c.user&&(0,h.W1)(c,"user","Use `clerkClient.users.getUser` instead."),c.organization&&(0,h.W1)(c,"organization","Use `clerkClient.organizations.getOrganization` instead."),c.session&&(0,h.W1)(c,"session","Use `clerkClient.sessions.getSession` instead.")),c});rl({debugLoggerName:"getAuth()",noAuthStatusMessage:rt("getAuth")});let ru=()=>{try{let{headers:e}=r(9277);return new rr.NextRequest("https://placeholder.com",{headers:e()})}catch(e){if(e&&"message"in e&&"string"==typeof e.message&&e.message.toLowerCase().includes("dynamic server usage"))throw e;throw Error(`Clerk: auth() and currentUser() are only supported in App Router (/app directory).
If you're using /pages, try getAuth() instead.
Original error: ${e}`)}};(function(e){let t={...e},r=eq(t),i=function(e){let{apiClient:t}=e,{apiKey:r="",secretKey:i="",jwtKey:n="",apiUrl:s=eu,apiVersion:o="v1",frontendApi:a="",proxyUrl:l="",publishableKey:u="",isSatellite:c=!1,domain:f="",audience:m="",userAgent:y}=e.options;return{authenticateRequest:({apiKey:e,secretKey:t,audience:h,frontendApi:d,proxyUrl:p,publishableKey:y,jwtKey:g,isSatellite:b,domain:v,searchParams:w,...S})=>tz({...S,apiKey:e||r,secretKey:t||i,audience:h||m,apiUrl:s,apiVersion:o,frontendApi:d||a,proxyUrl:p||l,publishableKey:y||u,isSatellite:b||c,domain:v||f,jwtKey:g||n,searchParams:w}),localInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:i,domain:n,...s})=>(function(e){e.frontendApi&&(0,h.io)("frontendApi","Use `publishableKey` instead."),e.pkgVersion&&(0,h.io)("pkgVersion","Use `clerkJSVersion` instead."),e.frontendApi=(0,p.q5)(e.publishableKey)?.frontendApi||e.frontendApi||"";let t=L(e.frontendApi)?"":(0,d.TV)(e.domain),{debugData:r,frontendApi:i,pkgVersion:n,clerkJSUrl:s,clerkJSVersion:o,publishableKey:a,proxyUrl:l,isSatellite:u=!1,domain:c,signInUrl:f}=e;return`
    <head>
        <meta charset="UTF-8" />
        <style>
          @media (prefers-color-scheme: dark) {
            body {
              background-color: black;
            }
          }
        </style>
    </head>
    <body>
        <script>
            window.__clerk_frontend_api = '${i}';
            window.__clerk_debug = ${JSON.stringify(r||{})};
            ${l?`window.__clerk_proxy_url = '${l}'`:""}
            ${c?`window.__clerk_domain = '${c}'`:""}
            window.startClerk = async () => {
                function formRedirect(){
                    const form = '<form method="get" action="" name="redirect"></form>';
                    document.body.innerHTML = document.body.innerHTML + form;

                    const searchParams = new URLSearchParams(window.location.search);
                    for (let paramTuple of searchParams) {
                        const input = document.createElement("input");
                        input.type = "hidden";
                        input.name = paramTuple[0];
                        input.value = paramTuple[1];
                        document.forms.redirect.appendChild(input);
                    }
                    const url = new URL(window.location.origin + window.location.pathname + window.location.hash);
                    window.history.pushState({}, '', url);

                    document.forms.redirect.action = window.location.pathname + window.location.hash;
                    document.forms.redirect.submit();
                }

                const Clerk = window.Clerk;
                try {
                    await Clerk.load({
                        isSatellite: ${u},
                        isInterstitial: true,
                        signInUrl: ${f?`'${f}'`:void 0}
                    });
                    if(Clerk.loaded){
                      if(window.location.href.indexOf("#") === -1){
                        window.location.href = window.location.href;
                      } else if (window.navigator.userAgent.toLowerCase().includes("firefox/")){
                          formRedirect();
                      } else {
                          window.location.reload();
                      }
                    }
                } catch (err) {
                    console.error('Clerk: ', err);
                }
            };
            (() => {
                const script = document.createElement('script');
                ${a?`script.setAttribute('data-clerk-publishable-key', '${a}');`:`script.setAttribute('data-clerk-frontend-api', '${i}');`}

                ${c?`script.setAttribute('data-clerk-domain', '${c}');`:""}
                ${l?`script.setAttribute('data-clerk-proxy-url', '${l}')`:""};
                script.async = true;
                script.src = '${s||(0,d.jh)(l||t||i,{pkgVersion:n,clerkJSVersion:o})}';
                script.crossOrigin = 'anonymous';
                script.addEventListener('load', startClerk);
                document.body.appendChild(script);
            })();
        </script>
    </body>
`})({...s,frontendApi:e||a,proxyUrl:r||l,publishableKey:t||u,isSatellite:i||c,domain:n||f}),remotePublicInterstitial:({frontendApi:e,publishableKey:t,proxyUrl:r,isSatellite:i,domain:n,userAgent:o,...h})=>eG({...h,apiUrl:s,frontendApi:e||a,publishableKey:t||u,proxyUrl:r||l,isSatellite:i||c,domain:n||f,userAgent:o||y}),remotePrivateInterstitial:()=>t.interstitial.getInterstitial(),remotePublicInterstitialUrl:eX,debugRequestState:tW}}({options:t,apiClient:r}),n={...r,...i,__unstable_options:t};(0,h.W1)(n,"__unstable_options","Use `createClerkClient({...})` to create a new clerk instance instead.")})({apiKey:t8,secretKey:t3,apiUrl:t1,apiVersion:t2,userAgent:"@clerk/nextjs@4.31.8",proxyUrl:t4,domain:t5,isSatellite:t9});let rc=(e,t,r)=>(e.headers.set(t,r),e),{redirectToSignIn:rh,redirectToSignUp:rd}=function({redirectAdapter:e,signUpUrl:t,signInUrl:r,frontendApi:i,publishableKey:n}){i?(0,h.io)("frontendApi","Use `publishableKey` instead."):i=(0,p.q5)(n)?.frontendApi;let s=function(e){if(!e)return"";let t=e.replace(/(clerk\.accountsstage\.)/,"accountsstage.").replace(/(clerk\.accounts\.|clerk\.)/,"accounts.");return`https://${t}`}(i);return{redirectToSignUp:({returnBackUrl:r}={})=>{t||s||K.throwMissingPublishableKeyError();let i=`${s}/sign-up`;return e(tG(t||i,r))},redirectToSignIn:({returnBackUrl:t}={})=>{r||s||K.throwMissingPublishableKeyError();let i=`${s}/sign-in`;return e(tG(r||i,t))}}}({redirectAdapter:e=>rc(rr.NextResponse.redirect(e),ef.Headers.ClerkRedirectTo,"true"),signInUrl:t7,signUpUrl:re,publishableKey:"pk_test_ZXhhY3QtY2hhbW9pcy02NC5jbGVyay5hY2NvdW50cy5kZXYk",frontendApi:t6}),rf=s.iB,rp=s.Bl;s.EH},61981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return n}});let i=r(29294);function n(e){let t=i.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},62634:(e,t,r)=>{let i=r(35347);function n(e,t){return i.fetch(e,t)}for(let e in i)n[e]=i[e];e.exports=n},62688:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(43210);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,i.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:u,...c},h)=>(0,i.createElement)("svg",{ref:h,...o,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:s("lucide",a),...c},[...u.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,i.forwardRef)(({className:r,...o},l)=>(0,i.createElement)(a,{ref:l,iconNode:t,className:s(`lucide-${n(e)}`,r),...o}));return r.displayName=`${e}`,r}},71057:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},71257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rootParams",{enumerable:!0,get:function(){return c}});let i=r(75539),n=r(54717),s=r(29294),o=r(63033),a=r(18238),l=r(84627),u=new WeakMap;async function c(){let e=s.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new i.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let t=o.workUnitAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(t.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){let i=t.fallbackRouteParams;if(i){let d=!1;for(let t in e)if(i.has(t)){d=!0;break}if(d){if("prerender"===r.type){let t=u.get(e);if(t)return t;let i=(0,a.makeHangingPromise)(r.renderSignal,"`unstable_rootParams`");return u.set(e,i),i}var s=e,o=i,c=t,h=r;let d=u.get(s);if(d)return d;let f={...s},p=Promise.resolve(f);return u.set(s,p),Object.keys(s).forEach(e=>{l.wellKnownProperties.has(e)||(o.has(e)?Object.defineProperty(f,e,{get(){let t=(0,l.describeStringPropertyAccess)("unstable_rootParams",e);"prerender-ppr"===h.type?(0,n.postponeWithTracking)(c.route,t,h.dynamicTracking):(0,n.throwToInterruptStaticGeneration)(t,c,h)},enumerable:!0}):p[e]=s[e])}),p}}return Promise.resolve(e)}(t.rootParams,e,t);default:return Promise.resolve(t.rootParams)}}},72789:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var i=r(43210);function n(e){let t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}},72842:(e,t,r)=>{let i;try{(i=r(77598).webcrypto)||(i=new(r(48605)).Q)}catch(e){i=new(r(48605)).Q}e.exports=i},75704:(e,t)=>{"use strict";function r(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},78434:(e,t,r)=>{"use strict";let i=r(37067),n=r(44708),s=r(16141),o=r(57075),a=r(4573),l=r(57975),u=r(73136),c=r(77030);r(73024),r(76760);var h,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f={exports:{}};if(!globalThis.ReadableStream)try{let e=r(1708),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(37830)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,function(){return h?f.exports:(h=1,function(e){let t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}let i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==d?d:void 0;function n(e){return"object"==typeof e&&null!==e||"function"==typeof e}let s=Promise,o=Promise.prototype.then,a=Promise.resolve.bind(s),l=Promise.reject.bind(s);function u(e){return new s(e)}function c(e,t,r){return o.call(e,t,r)}function h(e,t,i){c(c(e,t,i),void 0,r)}function f(e,t){h(e,void 0,t)}function p(e){c(e,void 0,r)}let m=(()=>{let e=i&&i.queueMicrotask;if("function"==typeof e)return e;let t=a(void 0);return e=>c(t,e)})();function y(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function g(e,t,r){try{var i;return i=y(e,t,r),a(i)}catch(e){return l(e)}}class b{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,i=r+1,n=e._elements,s=n[r];return 16384===i&&(t=e._next,i=0),--this._size,this._cursor=i,e!==t&&(this._front=t),n[r]=void 0,s}forEach(e){let t=this._cursor,r=this._front,i=r._elements;for(;(t!==i.length||void 0!==r._next)&&(t!==i.length||(i=(r=r._next)._elements,t=0,0!==i.length));)e(i[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}function v(e,t){var r,i,n;e._ownerReadableStream=t,t._reader=e,"readable"===t._state?k(e):"closed"===t._state?(k(r=e),x(r)):(i=e,n=t._storedError,k(i),E(i,n))}function w(e,t){return t$(e._ownerReadableStream,t)}function S(e){"readable"===e._ownerReadableStream._state?E(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){k(e),E(e,t)}(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function A(e){return TypeError("Cannot "+e+" a stream using a released reader")}function k(e){e._closedPromise=u((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function E(e,t){void 0!==e._closedPromise_reject&&(p(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function x(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let _=t("[[AbortSteps]]"),P=t("[[ErrorSteps]]"),T=t("[[CancelSteps]]"),C=t("[[PullSteps]]"),B=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},R=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function O(e,t){if(void 0!==e&&"object"!=typeof e&&"function"!=typeof e)throw TypeError(`${t} is not an object.`)}function N(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function I(e,t){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw TypeError(`${t} is not an object.`)}function U(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function K(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function L(e){return Number(e)}function M(e,t){var r,i;let n=Number.MAX_SAFE_INTEGER,s=Number(e);if(!B(s=0===(r=s)?0:r))throw TypeError(`${t} is not a finite number`);if((s=0===(i=R(s))?0:i)<0||s>n)throw TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return B(s)&&0!==s?s:0}function j(e,t){if(!tV(e))throw TypeError(`${t} is not a ReadableStream.`)}function D(e){return new F(e)}function V(e,t){e._reader._readRequests.push(t)}function q(e,t,r){let i=e._reader._readRequests.shift();r?i._closeSteps():i._chunkSteps(t)}function $(e){return e._reader._readRequests.length}function H(e){let t=e._reader;return void 0!==t&&!!z(t)}class F{constructor(e){if(U(e,1,"ReadableStreamDefaultReader"),j(e,"First parameter"),tq(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");v(this,e),this._readRequests=new b}get closed(){return z(this)?this._closedPromise:l(J("closed"))}cancel(e){return z(this)?void 0===this._ownerReadableStream?l(A("cancel")):w(this,e):l(J("cancel"))}read(){let e,t;if(!z(this))return l(J("read"));if(void 0===this._ownerReadableStream)return l(A("read from"));let r=u((r,i)=>{e=r,t=i});return W(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!z(this))throw J("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function z(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof F}function W(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[C](t)}function J(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(F.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(F.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let G=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class X{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?c(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?c(this._ongoingPromise,t,t):t()}_nextSteps(){let e,t;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let r=this._reader;if(void 0===r._ownerReadableStream)return l(A("iterate"));let i=u((r,i)=>{e=r,t=i});return W(r,{_chunkSteps:t=>{this._ongoingPromise=void 0,m(()=>e({value:t,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),e({value:void 0,done:!0})},_errorSteps:e=>{this._ongoingPromise=void 0,this._isFinished=!0,S(r),t(e)}}),i}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t._ownerReadableStream)return l(A("finish iterating"));if(!this._preventCancel){let r=w(t,e);return S(t),c(r,()=>({value:e,done:!0}),void 0)}return S(t),a({value:e,done:!0})}}let Y={next(){return Z(this)?this._asyncIteratorImpl.next():l(Q("next"))},return(e){return Z(this)?this._asyncIteratorImpl.return(e):l(Q("return"))}};function Z(e){if(!n(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof X}catch(e){return!1}}function Q(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==G&&Object.setPrototypeOf(Y,G);let ee=Number.isNaN||function(e){return e!=e};function et(e){return e.slice()}function er(e,t,r,i,n){new Uint8Array(e).set(new Uint8Array(r,i,n),t)}function ei(e,t,r){if(e.slice)return e.slice(t,r);let i=r-t,n=new ArrayBuffer(i);return er(n,0,e,t,i),n}function en(e){return new Uint8Array(ei(e.buffer,e.byteOffset,e.byteOffset+e.byteLength))}function es(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function eo(e,t,r){if(!(!("number"!=typeof r||ee(r))&&!(r<0)&&1)||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ea(e){e._queue=new b,e._queueTotalSize=0}class el{constructor(){throw TypeError("Illegal constructor")}get view(){if(!eh(this))throw eN("view");return this._view}respond(e){var t;if(!eh(this))throw eN("respond");if(U(e,1,"respond"),e=M(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,eB(this._associatedReadableByteStreamController,e)}respondWithNewView(e){var t;if(!eh(this))throw eN("respondWithNewView");if(U(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");e.buffer,eR(this._associatedReadableByteStreamController,e)}}Object.defineProperties(el.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(el.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class eu{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!ec(this))throw eI("byobRequest");return eT(this)}get desiredSize(){if(!ec(this))throw eI("desiredSize");return eC(this)}close(){if(!ec(this))throw eI("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);ex(this)}enqueue(e){if(!ec(this))throw eI("enqueue");if(U(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);e_(this,e)}error(e){if(!ec(this))throw eI("error");eP(this,e)}[T](e){ef(this),ea(this);let t=this._cancelAlgorithm(e);return eE(this),t}[C](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){let t=this._queue.shift();this._queueTotalSize-=t.byteLength,ev(this);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(r);return}let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}let i={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}V(t,e),ed(this)}}function ec(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof eu}function eh(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof el}function ed(e){if(function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(H(t)&&$(t)>0||eL(t)&&eK(t)>0||eC(e)>0)}(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,h(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ed(e))},t=>{eP(e,t)})}}function ef(e){ew(e),e._pendingPullIntos=new b}function ep(e,t){let r=!1;"closed"===e._state&&(r=!0);let i=em(t);"default"===t.readerType?q(e,i,r):function(e,t,r){let i=e._reader._readIntoRequests.shift();r?i._closeSteps(t):i._chunkSteps(t)}(e,i,r)}function em(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ey(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function eg(e,t){let r=t.elementSize,i=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+n,o=s-s%r,a=n,l=!1;o>i&&(a=o-t.bytesFilled,l=!0);let u=e._queue;for(;a>0;){let r=u.peek(),i=Math.min(a,r.byteLength),n=t.byteOffset+t.bytesFilled;er(t.buffer,n,r.buffer,r.byteOffset,i),r.byteLength===i?u.shift():(r.byteOffset+=i,r.byteLength-=i),e._queueTotalSize-=i,eb(e,i,t),a-=i}return l}function eb(e,t,r){r.bytesFilled+=t}function ev(e){0===e._queueTotalSize&&e._closeRequested?(eE(e),tH(e._controlledReadableByteStream)):ed(e)}function ew(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function eS(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();eg(e,t)&&(ek(e),ep(e._controlledReadableByteStream,t))}}function eA(e,t){let r=e._pendingPullIntos.peek();if(ew(e),"closed"===e._controlledReadableByteStream._state){let t=e._controlledReadableByteStream;if(eL(t))for(;eK(t)>0;)ep(t,ek(e))}else!function(e,t,r){if(eb(e,t,r),r.bytesFilled<r.elementSize)return;ek(e);let i=r.bytesFilled%r.elementSize;if(i>0){let t=r.byteOffset+r.bytesFilled,n=ei(r.buffer,t-i,t);ey(e,n,0,n.byteLength)}r.bytesFilled-=i,ep(e._controlledReadableByteStream,r),eS(e)}(e,t,r);ed(e)}function ek(e){return e._pendingPullIntos.shift()}function eE(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ex(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw eP(e,t),t}eE(e),tH(t)}}function e_(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let i=t.buffer,n=t.byteOffset,s=t.byteLength;if(e._pendingPullIntos.length>0){var o;let t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}ew(e),H(r)?0===$(r)?ey(e,i,n,s):(e._pendingPullIntos.length>0&&ek(e),q(r,new Uint8Array(i,n,s),!1)):eL(r)?(ey(e,i,n,s),eS(e)):ey(e,i,n,s),ed(e)}function eP(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(ef(e),ea(e),eE(e),tF(r,t))}function eT(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t,r,i;let n=e._pendingPullIntos.peek(),s=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),o=Object.create(el.prototype);t=o,r=e,i=s,t._associatedReadableByteStreamController=r,t._view=i,e._byobRequest=o}return e._byobRequest}function eC(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function eB(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=r.buffer,eA(e,t)}function eR(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let i=t.byteLength;r.buffer=t.buffer,eA(e,i)}function eO(e,t,r,i,n,s,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ea(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=s,t._pullAlgorithm=i,t._cancelAlgorithm=n,t._autoAllocateChunkSize=o,t._pendingPullIntos=new b,e._readableStreamController=t,h(a(r()),()=>{t._started=!0,ed(t)},e=>{eP(t,e)})}function eN(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function eI(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}Object.defineProperties(eu.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eu.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function eU(e,t){e._reader._readIntoRequests.push(t)}function eK(e){return e._reader._readIntoRequests.length}function eL(e){let t=e._reader;return void 0!==t&&!!ej(t)}class eM{constructor(e){if(U(e,1,"ReadableStreamBYOBReader"),j(e,"First parameter"),tq(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!ec(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");v(this,e),this._readIntoRequests=new b}get closed(){return ej(this)?this._closedPromise:l(eV("closed"))}cancel(e){return ej(this)?void 0===this._ownerReadableStream?l(A("cancel")):w(this,e):l(eV("cancel"))}read(e){var t;let r,i;if(!ej(this))return l(eV("read"));if(!ArrayBuffer.isView(e))return l(TypeError("view must be an array buffer view"));if(0===e.byteLength)return l(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return l(TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return l(A("read from"));let n=u((e,t)=>{r=e,i=t});return eD(this,e,{_chunkSteps:e=>r({value:e,done:!1}),_closeSteps:e=>r({value:e,done:!0}),_errorSteps:e=>i(e)}),n}releaseLock(){if(!ej(this))throw eV("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}}}function ej(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof eM}function eD(e,t,r){let i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?r._errorSteps(i._storedError):function(e,t,r){let i=e._controlledReadableByteStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);let s=t.constructor,o=t.buffer,a={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,viewConstructor:s,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(a),eU(i,r);return}if("closed"===i._state){let e=new s(a.buffer,a.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(eg(e,a)){let t=em(a);ev(e),r._chunkSteps(t);return}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");eP(e,t),r._errorSteps(t);return}}e._pendingPullIntos.push(a),eU(i,r),ed(e)}(i._readableStreamController,t,r)}function eV(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function eq(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(ee(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function e$(e){let{size:t}=e;return t||(()=>1)}function eH(e,t){var r;O(e,t);let i=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===i?void 0:L(i),size:void 0===n?void 0:(N(r=n,`${t} has member 'size' that`),e=>L(r(e)))}}function eF(e,t){if(!eG(e))throw TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(eM.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eM.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let ez="function"==typeof AbortController;class eW{constructor(e={},t={}){void 0===e?e=null:I(e,"First parameter");let r=eH(t,"Second parameter"),i=function(e,t){var r,i,n,s,o,a,l,u;O(e,t);let c=null==e?void 0:e.abort,h=null==e?void 0:e.close,d=null==e?void 0:e.start,f=null==e?void 0:e.type,p=null==e?void 0:e.write;return{abort:void 0===c?void 0:(r=c,i=e,N(r,`${t} has member 'abort' that`),e=>g(r,i,[e])),close:void 0===h?void 0:(n=h,s=e,N(n,`${t} has member 'close' that`),()=>g(n,s,[])),start:void 0===d?void 0:(o=d,a=e,N(o,`${t} has member 'start' that`),e=>y(o,a,[e])),write:void 0===p?void 0:(l=p,u=e,N(l,`${t} has member 'write' that`),(e,t)=>g(l,u,[e,t])),type:f}}(e,"First parameter");if(eJ(this),void 0!==i.type)throw RangeError("Invalid type is specified");let n=e$(r);!function(e,t,r,i){let n=Object.create(tr.prototype),s=()=>void 0,o=()=>a(void 0),l=()=>a(void 0),u=()=>a(void 0);void 0!==t.start&&(s=()=>t.start(n)),void 0!==t.write&&(o=e=>t.write(e,n)),void 0!==t.close&&(l=()=>t.close()),void 0!==t.abort&&(u=e=>t.abort(e)),tn(e,n,s,o,l,u,r,i)}(this,i,eq(r,1),n)}get locked(){if(!eG(this))throw tc("locked");return eX(this)}abort(e){return eG(this)?eX(this)?l(TypeError("Cannot abort a stream that already has a writer")):eY(this,e):l(tc("abort"))}close(){return eG(this)?eX(this)?l(TypeError("Cannot close a stream that already has a writer")):e2(this)?l(TypeError("Cannot close an already-closing stream")):eZ(this):l(tc("close"))}getWriter(){var e;if(!eG(this))throw tc("getWriter");return e=this,new e6(e)}}function eJ(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new b,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function eG(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof eW}function eX(e){return void 0!==e._writer}function eY(e,t){var r;if("closed"===e._state||"errored"===e._state)return a(void 0);e._writableStreamController._abortReason=t,null==(r=e._writableStreamController._abortController)||r.abort();let i=e._state;if("closed"===i||"errored"===i)return a(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===i&&(n=!0,t=void 0);let s=u((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}});return e._pendingAbortRequest._promise=s,n||e0(e,t),s}function eZ(e){var t;let r=e._state;if("closed"===r||"errored"===r)return l(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let i=u((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),n=e._writer;return void 0!==n&&e._backpressure&&"writable"===r&&tw(n),eo(t=e._writableStreamController,tt,0),ta(t),i}function eQ(e,t){if("writable"===e._state)return void e0(e,t);e1(e)}function e0(e,t){var r;let i=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;void 0!==n&&e9(n,t),void 0===(r=e)._inFlightWriteRequest&&void 0===r._inFlightCloseRequest&&i._started&&e1(e)}function e1(e){e._state="errored",e._writableStreamController[P]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new b,void 0===e._pendingAbortRequest)return void e8(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),e8(e);return}h(e._writableStreamController[_](r._reason),()=>{r._resolve(),e8(e)},t=>{r._reject(t),e8(e)})}function e2(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function e8(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&tm(t,e._storedError)}function e3(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?tg(r):tw(r)),e._backpressure=t}Object.defineProperties(eW.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(eW.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class e6{constructor(e){var t,r,i,n,s;if(U(e,1,"WritableStreamDefaultWriter"),eF(e,"First parameter"),eX(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let o=e._state;if("writable"===o){!e2(e)&&e._backpressure?tg(this):(t=this,tg(t),tw(t)),tp(this)}else if("erroring"===o)tb(this,e._storedError),tp(this);else if("closed"===o){r=this,tg(r),tw(r),i=this,tp(i),ty(i)}else{let t=e._storedError;tb(this,t),n=this,s=t,tp(n),tm(n,s)}}get closed(){return e5(this)?this._closedPromise:l(td("closed"))}get desiredSize(){if(!e5(this))throw td("desiredSize");if(void 0===this._ownerWritableStream)throw tf("desiredSize");var e=this;let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:to(t._writableStreamController)}get ready(){return e5(this)?this._readyPromise:l(td("ready"))}abort(e){var t,r;if(!e5(this))return l(td("abort"));if(void 0===this._ownerWritableStream)return l(tf("abort"));return t=this,r=e,eY(t._ownerWritableStream,r)}close(){if(!e5(this))return l(td("close"));let e=this._ownerWritableStream;return void 0===e?l(tf("close")):e2(e)?l(TypeError("Cannot close an already-closing stream")):e4(this)}releaseLock(){if(!e5(this))throw td("releaseLock");void 0!==this._ownerWritableStream&&e7(this)}write(e){return e5(this)?void 0===this._ownerWritableStream?l(tf("write to")):te(this,e):l(td("write"))}}function e5(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof e6}function e4(e){return eZ(e._ownerWritableStream)}function e9(e,t){"pending"===e._readyPromiseState?tv(e,t):tb(e,t)}function e7(e){let t=e._ownerWritableStream,r=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");e9(e,r),"pending"===e._closedPromiseState?tm(e,r):function(e,t){tp(e),tm(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function te(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return tl(e,t),1}}(i,t);if(r!==e._ownerWritableStream)return l(tf("write to"));let s=r._state;if("errored"===s)return l(r._storedError);if(e2(r)||"closed"===s)return l(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return l(r._storedError);let o=u((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{eo(e,t,r)}catch(t){tl(e,t);return}let i=e._controlledWritableStream;e2(i)||"writable"!==i._state||e3(i,0>=to(e)),ta(e)}(i,t,n),o}Object.defineProperties(e6.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(e6.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let tt={};class tr{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!ti(this))throw th("abortReason");return this._abortReason}get signal(){if(!ti(this))throw th("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!ti(this))throw th("error");"writable"===this._controlledWritableStream._state&&tu(this,e)}[_](e){let t=this._abortAlgorithm(e);return ts(this),t}[P](){ea(this)}}function ti(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof tr}function tn(e,t,r,i,n,s,o,l){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ea(t),t._abortReason=void 0,t._abortController=function(){if(ez)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=l,t._strategyHWM=o,t._writeAlgorithm=i,t._closeAlgorithm=n,t._abortAlgorithm=s,e3(e,0>=to(t)),h(a(r()),()=>{t._started=!0,ta(t)},r=>{t._started=!0,eQ(e,r)})}function ts(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function to(e){return e._strategyHWM-e._queueTotalSize}function ta(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void e1(t);if(0===e._queue.length)return;let r=e._queue.peek().value;r===tt?function(e){let t=e._controlledWritableStream;t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,es(e);let r=e._closeAlgorithm();ts(e),h(r,()=>{t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";let e=t._writer;void 0!==e&&ty(e)},e=>{t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),eQ(t,e)})}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),h(e._writeAlgorithm(t),()=>{r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0;let t=r._state;es(e),e2(r)||"writable"!==t||e3(r,0>=to(e)),ta(e)},t=>{"writable"===r._state&&ts(e),r._inFlightWriteRequest._reject(t),r._inFlightWriteRequest=void 0,eQ(r,t)})}(e,r)}function tl(e,t){"writable"===e._controlledWritableStream._state&&tu(e,t)}Object.defineProperties(tr.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function tu(e,t){let r=e._controlledWritableStream;ts(e),e0(r,t)}function tc(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function th(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function td(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function tf(e){return TypeError("Cannot "+e+" a stream using a released writer")}function tp(e){e._closedPromise=u((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function tm(e,t){void 0!==e._closedPromise_reject&&(p(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ty(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function tg(e){e._readyPromise=u((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function tb(e,t){tg(e),tv(e,t)}function tv(e,t){void 0!==e._readyPromise_reject&&(p(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function tw(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let tS="undefined"!=typeof DOMException?DOMException:void 0,tA=!function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(tS)?function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}():tS;function tk(e,t,i,n,s,o){let d=D(e),m=new e6(t);e._disturbed=!0;let y=!1,g=a(void 0);return u((b,v)=>{var w,A,k;let E;if(void 0!==o){if(E=()=>{let r=new tA("Aborted","AbortError"),i=[];n||i.push(()=>"writable"===t._state?eY(t,r):a(void 0)),s||i.push(()=>"readable"===e._state?t$(e,r):a(void 0)),P(()=>Promise.all(i.map(e=>e())),!0,r)},o.aborted)return void E();o.addEventListener("abort",E)}if(_(e,d._closedPromise,e=>{n?T(!0,e):P(()=>eY(t,e),!0,e)}),_(t,m._closedPromise,t=>{s?T(!0,t):P(()=>t$(e,t),!0,t)}),w=e,A=d._closedPromise,k=()=>{i?T():P(()=>(function(e){let t=e._ownerWritableStream,r=t._state;return e2(t)||"closed"===r?a(void 0):"errored"===r?l(t._storedError):e4(e)})(m))},"closed"===w._state?k():h(A,k),e2(t)||"closed"===t._state){let t=TypeError("the destination writable stream closed before all data could be piped to it");s?T(!0,t):P(()=>t$(e,t),!0,t)}function x(){let e=g;return c(g,()=>e!==g?x():void 0)}function _(e,t,r){"errored"===e._state?r(e._storedError):f(t,r)}function P(e,r,i){if(!y)if(y=!0,"writable"!==t._state||e2(t))n();else h(x(),n);function n(){h(e(),()=>C(r,i),e=>C(!0,e))}}function T(e,r){if(!y)if(y=!0,"writable"!==t._state||e2(t))C(e,r);else h(x(),()=>C(e,r))}function C(e,t){e7(m),S(d),void 0!==o&&o.removeEventListener("abort",E),e?v(t):b(void 0)}p(u((e,t)=>{!function i(n){n?e():c(y?a(!0):c(m._readyPromise,()=>u((e,t)=>{W(d,{_chunkSteps:t=>{g=c(te(m,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})),i,t)}(!1)}))})}class tE{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!tx(this))throw tU("desiredSize");return tO(this)}close(){if(!tx(this))throw tU("close");if(!tN(this))throw TypeError("The stream is not in a state that permits close");tC(this)}enqueue(e){if(!tx(this))throw tU("enqueue");if(!tN(this))throw TypeError("The stream is not in a state that permits enqueue");return tB(this,e)}error(e){if(!tx(this))throw tU("error");tR(this,e)}[T](e){ea(this);let t=this._cancelAlgorithm(e);return tT(this),t}[C](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=es(this);this._closeRequested&&0===this._queue.length?(tT(this),tH(t)):t_(this),e._chunkSteps(r)}else V(t,e),t_(this)}}function tx(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof tE}function t_(e){if(tP(e)){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0,h(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,t_(e))},t=>{tR(e,t)})}}function tP(e){let t=e._controlledReadableStream;return!!tN(e)&&!!e._started&&!!(tq(t)&&$(t)>0||tO(e)>0)}function tT(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tC(e){if(!tN(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tT(e),tH(t))}function tB(e,t){if(!tN(e))return;let r=e._controlledReadableStream;if(tq(r)&&$(r)>0)q(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw tR(e,t),t}try{eo(e,t,r)}catch(t){throw tR(e,t),t}}t_(e)}function tR(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(ea(e),tT(e),tF(r,t))}function tO(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tN(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function tI(e,t,r,i,n,s,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ea(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._pullAlgorithm=i,t._cancelAlgorithm=n,e._readableStreamController=t,h(a(r()),()=>{t._started=!0,t_(t)},e=>{tR(t,e)})}function tU(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tK(e,t){O(e,t);let r=null==e?void 0:e.preventAbort,i=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,s=null==e?void 0:e.signal;return void 0!==s&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(s,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!i,preventClose:!!n,signal:s}}Object.defineProperties(tE.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tE.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class tL{constructor(e={},t={}){void 0===e?e=null:I(e,"First parameter");let r=eH(t,"Second parameter"),i=function(e,t){var r,i,n,s,o,a;O(e,t);let l=null==e?void 0:e.autoAllocateChunkSize,u=null==e?void 0:e.cancel,c=null==e?void 0:e.pull,h=null==e?void 0:e.start,d=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===l?void 0:M(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===u?void 0:(r=u,i=e,N(r,`${t} has member 'cancel' that`),e=>g(r,i,[e])),pull:void 0===c?void 0:(n=c,s=e,N(n,`${t} has member 'pull' that`),e=>g(n,s,[e])),start:void 0===h?void 0:(o=h,a=e,N(o,`${t} has member 'start' that`),e=>y(o,a,[e])),type:void 0===d?void 0:function(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}(d,`${t} has member 'type' that`)}}(e,"First parameter");if(tD(this),"bytes"===i.type){if(void 0!==r.size)throw RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){let i=Object.create(eu.prototype),n=()=>void 0,s=()=>a(void 0),o=()=>a(void 0);void 0!==t.start&&(n=()=>t.start(i)),void 0!==t.pull&&(s=()=>t.pull(i)),void 0!==t.cancel&&(o=e=>t.cancel(e));let l=t.autoAllocateChunkSize;if(0===l)throw TypeError("autoAllocateChunkSize must be greater than 0");eO(e,i,n,s,o,r,l)}(this,i,eq(r,0))}else{let e=e$(r);!function(e,t,r,i){let n=Object.create(tE.prototype),s=()=>void 0,o=()=>a(void 0),l=()=>a(void 0);void 0!==t.start&&(s=()=>t.start(n)),void 0!==t.pull&&(o=()=>t.pull(n)),void 0!==t.cancel&&(l=e=>t.cancel(e)),tI(e,n,s,o,l,r,i)}(this,i,eq(r,1),e)}}get locked(){if(!tV(this))throw tz("locked");return tq(this)}cancel(e){return tV(this)?tq(this)?l(TypeError("Cannot cancel a stream that already has a reader")):t$(this,e):l(tz("cancel"))}getReader(e){if(!tV(this))throw tz("getReader");return void 0===function(e,t){O(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:function(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?D(this):new eM(this)}pipeThrough(e,t={}){if(!tV(this))throw tz("pipeThrough");U(e,1,"pipeThrough");let r=function(e,t){O(e,t);let r=null==e?void 0:e.readable;K(r,"readable","ReadableWritablePair"),j(r,`${t} has member 'readable' that`);let i=null==e?void 0:e.writable;return K(i,"writable","ReadableWritablePair"),eF(i,`${t} has member 'writable' that`),{readable:r,writable:i}}(e,"First parameter"),i=tK(t,"Second parameter");if(tq(this))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(eX(r.writable))throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return p(tk(this,r.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),r.readable}pipeTo(e,t={}){let r;if(!tV(this))return l(tz("pipeTo"));if(void 0===e)return l("Parameter 1 is required in 'pipeTo'.");if(!eG(e))return l(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=tK(t,"Second parameter")}catch(e){return l(e)}return tq(this)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):eX(e)?l(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tk(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!tV(this))throw tz("tee");let e=ec(this._readableStreamController)?function(e){let t,r,i,n,s,o=D(e),l=!1,c=!1,h=!1,d=!1,p=!1,y=u(e=>{s=e});function g(e){f(e._closedPromise,t=>{e===o&&(eP(i._readableStreamController,t),eP(n._readableStreamController,t),d&&p||s(void 0))})}function b(){ej(o)&&(S(o),g(o=D(e))),W(o,{_chunkSteps:t=>{m(()=>{c=!1,h=!1;let r=t;if(!d&&!p)try{r=en(t)}catch(t){eP(i._readableStreamController,t),eP(n._readableStreamController,t),s(t$(e,t));return}d||e_(i._readableStreamController,t),p||e_(n._readableStreamController,r),l=!1,c?w():h&&A()})},_closeSteps:()=>{l=!1,d||ex(i._readableStreamController),p||ex(n._readableStreamController),i._readableStreamController._pendingPullIntos.length>0&&eB(i._readableStreamController,0),n._readableStreamController._pendingPullIntos.length>0&&eB(n._readableStreamController,0),d&&p||s(void 0)},_errorSteps:()=>{l=!1}})}function v(t,r){z(o)&&(S(o),g(o=new eM(e)));let a=r?n:i,u=r?i:n;eD(o,t,{_chunkSteps:t=>{m(()=>{c=!1,h=!1;let i=r?p:d;if(r?d:p)i||eR(a._readableStreamController,t);else{let r;try{r=en(t)}catch(t){eP(a._readableStreamController,t),eP(u._readableStreamController,t),s(t$(e,t));return}i||eR(a._readableStreamController,t),e_(u._readableStreamController,r)}l=!1,c?w():h&&A()})},_closeSteps:e=>{l=!1;let t=r?p:d,i=r?d:p;t||ex(a._readableStreamController),i||ex(u._readableStreamController),void 0!==e&&(t||eR(a._readableStreamController,e),!i&&u._readableStreamController._pendingPullIntos.length>0&&eB(u._readableStreamController,0)),t&&i||s(void 0)},_errorSteps:()=>{l=!1}})}function w(){if(l)return c=!0,a(void 0);l=!0;let e=eT(i._readableStreamController);return null===e?b():v(e._view,!1),a(void 0)}function A(){if(l)return h=!0,a(void 0);l=!0;let e=eT(n._readableStreamController);return null===e?b():v(e._view,!0),a(void 0)}function k(){}return i=tj(k,w,function(i){if(d=!0,t=i,p){let i=t$(e,et([t,r]));s(i)}return y}),n=tj(k,A,function(i){if(p=!0,r=i,d){let i=t$(e,et([t,r]));s(i)}return y}),g(o),[i,n]}(this):function(e,t){let r,i,n,s,o,l=D(e),c=!1,h=!1,d=!1,p=!1,y=u(e=>{o=e});function g(){return c?(h=!0,a(void 0)):(c=!0,W(l,{_chunkSteps:e=>{m(()=>{h=!1,d||tB(n._readableStreamController,e),p||tB(s._readableStreamController,e),c=!1,h&&g()})},_closeSteps:()=>{c=!1,d||tC(n._readableStreamController),p||tC(s._readableStreamController),d&&p||o(void 0)},_errorSteps:()=>{c=!1}}),a(void 0))}function b(){}return n=tM(b,g,function(t){if(d=!0,r=t,p){let t=t$(e,et([r,i]));o(t)}return y}),s=tM(b,g,function(t){if(p=!0,i=t,d){let t=t$(e,et([r,i]));o(t)}return y}),f(l._closedPromise,e=>{tR(n._readableStreamController,e),tR(s._readableStreamController,e),d&&p||o(void 0)}),[n,s]}(this);return et(e)}values(e){if(!tV(this))throw tz("values");return function(e,t){let r=new X(D(e),t),i=Object.create(Y);return i._asyncIteratorImpl=r,i}(this,(O(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}).preventCancel)}}function tM(e,t,r,i=1,n=()=>1){let s=Object.create(tL.prototype);return tD(s),tI(s,Object.create(tE.prototype),e,t,r,i,n),s}function tj(e,t,r){let i=Object.create(tL.prototype);return tD(i),eO(i,Object.create(eu.prototype),e,t,r,0,void 0),i}function tD(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function tV(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof tL}function tq(e){return void 0!==e._reader}function t$(e,t){if(e._disturbed=!0,"closed"===e._state)return a(void 0);if("errored"===e._state)return l(e._storedError);tH(e);let i=e._reader;return void 0!==i&&ej(i)&&(i._readIntoRequests.forEach(e=>{e._closeSteps(void 0)}),i._readIntoRequests=new b),c(e._readableStreamController[T](t),r,void 0)}function tH(e){e._state="closed";let t=e._reader;void 0!==t&&(x(t),z(t)&&(t._readRequests.forEach(e=>{e._closeSteps()}),t._readRequests=new b))}function tF(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(E(r,t),z(r)?(r._readRequests.forEach(e=>{e._errorSteps(t)}),r._readRequests=new b):(r._readIntoRequests.forEach(e=>{e._errorSteps(t)}),r._readIntoRequests=new b))}function tz(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function tW(e,t){O(e,t);let r=null==e?void 0:e.highWaterMark;return K(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:L(r)}}Object.defineProperties(tL.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tL.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(tL.prototype,t.asyncIterator,{value:tL.prototype.values,writable:!0,configurable:!0});let tJ=e=>e.byteLength;try{Object.defineProperty(tJ,"name",{value:"size",configurable:!0})}catch(e){}class tG{constructor(e){U(e,1,"ByteLengthQueuingStrategy"),e=tW(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!tY(this))throw tX("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!tY(this))throw tX("size");return tJ}}function tX(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function tY(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof tG}Object.defineProperties(tG.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tG.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let tZ=()=>1;try{Object.defineProperty(tZ,"name",{value:"size",configurable:!0})}catch(e){}class tQ{constructor(e){U(e,1,"CountQueuingStrategy"),e=tW(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!t1(this))throw t0("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!t1(this))throw t0("size");return tZ}}function t0(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function t1(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof tQ}Object.defineProperties(tQ.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(tQ.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class t2{constructor(e={},t={},r={}){let i;void 0===e&&(e=null);let n=eH(t,"Second parameter"),s=eH(r,"Third parameter"),o=function(e,t){var r,i,n,s,o,a;O(e,t);let l=null==e?void 0:e.flush,u=null==e?void 0:e.readableType,c=null==e?void 0:e.start,h=null==e?void 0:e.transform,d=null==e?void 0:e.writableType;return{flush:void 0===l?void 0:(r=l,i=e,N(r,`${t} has member 'flush' that`),e=>g(r,i,[e])),readableType:u,start:void 0===c?void 0:(n=c,s=e,N(n,`${t} has member 'start' that`),e=>y(n,s,[e])),transform:void 0===h?void 0:(o=h,a=e,N(o,`${t} has member 'transform' that`),(e,t)=>g(o,a,[e,t])),writableType:d}}(e,"First parameter");if(void 0!==o.readableType)throw RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw RangeError("Invalid writableType specified");let h=eq(s,0),d=e$(s),f=eq(n,1),p=e$(n);(function(e,t,r,i,n,s){function o(){return t}e._writable=function(e,t,r,i,n=1,s=()=>1){let o=Object.create(eW.prototype);return eJ(o),tn(o,Object.create(tr.prototype),e,t,r,i,n,s),o}(o,function(t){var r=e,i=t;let n=r._transformStreamController;return r._backpressure?c(r._backpressureChangePromise,()=>{let e=r._writable;if("erroring"===e._state)throw e._storedError;return rt(n,i)},void 0):rt(n,i)},function(){var t=e;let r=t._readable,i=t._transformStreamController,n=i._flushAlgorithm();return t7(i),c(n,()=>{if("errored"===r._state)throw r._storedError;tC(r._readableStreamController)},e=>{throw t3(t,e),r._storedError})},function(t){return t3(e,t),a(void 0)},r,i),e._readable=tM(o,function(){var t;return t5(t=e,!1),t._backpressureChangePromise},function(t){return t6(e,t),a(void 0)},n,s),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,t5(e,!0),e._transformStreamController=void 0})(this,u(e=>{i=e}),f,p,h,d),function(e,t){var r,i;let n=Object.create(t4.prototype),s=e=>{try{var t;return re(n,e),t=void 0,a(t)}catch(e){return l(e)}},o=()=>a(void 0);void 0!==t.transform&&(s=e=>t.transform(e,n)),void 0!==t.flush&&(o=()=>t.flush(n)),r=s,i=o,n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=r,n._flushAlgorithm=i}(this,o),void 0!==o.start?i(o.start(this._transformStreamController)):i(void 0)}get readable(){if(!t8(this))throw ri("readable");return this._readable}get writable(){if(!t8(this))throw ri("writable");return this._writable}}function t8(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof t2}function t3(e,t){tR(e._readable._readableStreamController,t),t6(e,t)}function t6(e,t){t7(e._transformStreamController),tl(e._writable._writableStreamController,t),e._backpressure&&t5(e,!1)}function t5(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(t2.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t2.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class t4{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!t9(this))throw rr("desiredSize");return tO(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!t9(this))throw rr("enqueue");re(this,e)}error(e){var t,r;if(!t9(this))throw rr("error");t=this,r=e,t3(t._controlledTransformStream,r)}terminate(){if(!t9(this))throw rr("terminate");var e=this;let t=e._controlledTransformStream;tC(t._readable._readableStreamController),t6(t,TypeError("TransformStream terminated"))}}function t9(e){return!!n(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof t4}function t7(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function re(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!tN(i))throw TypeError("Readable side is not in a state that permits enqueue");try{tB(i,t)}catch(e){throw t6(r,e),r._readable._storedError}!tP(i)!==r._backpressure&&t5(r,!0)}function rt(e,t){return c(e._transformAlgorithm(t),void 0,t=>{throw t3(e._controlledTransformStream,t),t})}function rr(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ri(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(t4.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(t4.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=tG,e.CountQueuingStrategy=tQ,e.ReadableByteStreamController=eu,e.ReadableStream=tL,e.ReadableStreamBYOBReader=eM,e.ReadableStreamBYOBRequest=el,e.ReadableStreamDefaultController=tE,e.ReadableStreamDefaultReader=F,e.TransformStream=t2,e.TransformStreamDefaultController=t4,e.WritableStream=eW,e.WritableStreamDefaultController=tr,e.WritableStreamDefaultWriter=e6,Object.defineProperty(e,"__esModule",{value:!0})}(f.exports),f.exports)}())}try{let{Blob:e}=r(79428);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(e){let i=r.slice(t,Math.min(r.size,t+65536)),n=await i.arrayBuffer();t+=n.byteLength,e.enqueue(new Uint8Array(n)),t===r.size&&e.close()}})})}catch(e){}async function*p(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset,t=r.byteOffset+r.byteLength;for(;e!==t;){let i=Math.min(t-e,65536),n=r.buffer.slice(e,e+i);e+=n.byteLength,yield new Uint8Array(n)}}else yield r;else{let e=0;for(;e!==r.size;){let t=r.slice(e,Math.min(r.size,e+65536)),i=await t.arrayBuffer();e+=i.byteLength,yield new Uint8Array(i)}}}let m=class e{#r=[];#i="";#n=0;#s="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});let i=new TextEncoder;for(let r of t){let t,n=ArrayBuffer.isView(t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:i.encode(`${r}`))?t.byteLength:t.size;n&&(this.#n+=n,this.#r.push(t))}this.#s=`${void 0===r.endings?"transparent":r.endings}`;let n=void 0===r.type?"":String(r.type);this.#i=/^[\x20-\x7E]*$/.test(n)?n:""}get size(){return this.#n}get type(){return this.#i}async text(){let e=new TextDecoder,t="";for await(let r of p(this.#r,!1))t+=e.decode(r,{stream:!0});return t+e.decode()}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let r of p(this.#r,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){let e=p(this.#r,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,i=""){let{size:n}=this,s=t<0?Math.max(n+t,0):Math.min(t,n),o=r<0?Math.max(n+r,0):Math.min(r,n),a=Math.max(o-s,0),l=this.#r,u=[],c=0;for(let e of l){if(c>=a)break;let t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(s&&t<=s)s-=t,o-=t;else{let r;ArrayBuffer.isView(e)?c+=(r=e.subarray(s,Math.min(t,o))).byteLength:c+=(r=e.slice(s,Math.min(t,o))).size,o-=t,u.push(r),s=0}}let h=new e([],{type:String(i).toLowerCase()});return h.#n=a,h.#r=u,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(m.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let y=m,g=class extends y{#o=0;#a="";constructor(e,t,r={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});let i=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(i)||(this.#o=i),this.#a=String(t)}get name(){return this.#a}get lastModified(){return this.#o}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof y&&/^(File)$/.test(e[Symbol.toStringTag])}};var{toStringTag:b,iterator:v,hasInstance:w}=Symbol,S=Math.random,A="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),k=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[b])?[(r=void 0!==r?r+"":"File"==t[b]?t.name:"blob",e),t.name!==r||"blob"==t[b]?new g([t],r,t):t]:[e,t+""]),E=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),x=(e,t,r)=>{if(t.length<r)throw TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};let _=class{#l=[];constructor(...e){if(e.length)throw TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[b](){return"FormData"}[v](){return this.entries()}static[w](e){return e&&"object"==typeof e&&"FormData"===e[b]&&!A.some(t=>"function"!=typeof e[t])}append(...e){x("append",arguments,2),this.#l.push(k(...e))}delete(e){x("delete",arguments,1),e+="",this.#l=this.#l.filter(([t])=>t!==e)}get(e){x("get",arguments,1),e+="";for(var t=this.#l,r=t.length,i=0;i<r;i++)if(t[i][0]===e)return t[i][1];return null}getAll(e,t){return x("getAll",arguments,1),t=[],e+="",this.#l.forEach(r=>r[0]===e&&t.push(r[1])),t}has(e){return x("has",arguments,1),e+="",this.#l.some(t=>t[0]===e)}forEach(e,t){for(var[r,i]of(x("forEach",arguments,1),this))e.call(t,i,r,this)}set(...e){x("set",arguments,2);var t=[],r=!0;e=k(...e),this.#l.forEach(i=>{i[0]===e[0]?r&&(r=!t.push(e)):t.push(i)}),r&&t.push(e),this.#l=t}*entries(){yield*this.#l}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};class P extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class T extends P{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}let C=Symbol.toStringTag,B=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[C],R=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[C]),O=e=>"object"==typeof e&&("AbortSignal"===e[C]||"EventTarget"===e[C]),N=(e,t)=>{let r=new URL(t).hostname,i=new URL(e).hostname;return r===i||r.endsWith(`.${i}`)},I=(e,t)=>new URL(t).protocol===new URL(e).protocol,U=l.promisify(o.pipeline),K=Symbol("Body internals");class L{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:B(e)?e=a.Buffer.from(e.toString()):R(e)||a.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=a.Buffer.from(e):ArrayBuffer.isView(e)?e=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof o||(e instanceof _?r=(e=function(e,t=y){var r=`${S()}${S()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],n=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((e,t)=>"string"==typeof e?i.push(n+E(t)+`"\r
\r
${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r
`):i.push(n+E(t)+`"; filename="${E(e.name,1)}"\r
Content-Type: ${e.type||"application/octet-stream"}\r
\r
`,e,"\r\n")),i.push(`--${r}--`),new t(i,{type:"multipart/form-data; boundary="+r})}(e)).type.split("=")[1]:e=a.Buffer.from(String(e))));let i=e;a.Buffer.isBuffer(e)?i=o.Readable.from(e):R(e)&&(i=o.Readable.from(e.stream())),this[K]={body:e,stream:i,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof o&&e.on("error",e=>{let t=e instanceof P?e:new T(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[K].error=t})}get body(){return this[K].stream}get bodyUsed(){return this[K].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:r}=await M(this);return e.slice(t,t+r)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let e=new _;for(let[t,r]of new URLSearchParams(await this.text()))e.append(t,r);return e}let{toFormData:t}=await r.e(906).then(r.t.bind(r,65906,19));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[K].body&&this[K].body.type||"";return new y([await this.arrayBuffer()],{type:e})}async json(){return JSON.parse(await this.text())}async text(){let e=await M(this);return new TextDecoder().decode(e)}buffer(){return M(this)}}async function M(e){if(e[K].disturbed)throw TypeError(`body used already for: ${e.url}`);if(e[K].disturbed=!0,e[K].error)throw e[K].error;let{body:t}=e;if(null===t||!(t instanceof o))return a.Buffer.alloc(0);let r=[],i=0;try{for await(let n of t){if(e.size>0&&i+n.length>e.size){let r=new T(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}i+=n.length,r.push(n)}}catch(t){throw t instanceof P?t:new T(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0===t.readableEnded||!0===t._readableState.ended)try{if(r.every(e=>"string"==typeof e))return a.Buffer.from(r.join(""));return a.Buffer.concat(r,i)}catch(t){throw new T(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}throw new T(`Premature close of server response while trying to fetch ${e.url}`)}L.prototype.buffer=l.deprecate(L.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(L.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:l.deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});let j=(e,t)=>{let r,i,{body:n}=e[K];if(e.bodyUsed)throw Error("cannot clone body after it is used");return n instanceof o&&"function"!=typeof n.getBoundary&&(r=new o.PassThrough({highWaterMark:t}),i=new o.PassThrough({highWaterMark:t}),n.pipe(r),n.pipe(i),e[K].stream=r,n=i),n},D=l.deprecate(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),V=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":B(e)?"application/x-www-form-urlencoded;charset=UTF-8":R(e)?e.type||null:a.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof _?`multipart/form-data; boundary=${t[K].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${D(e)}`:e instanceof o?null:"text/plain;charset=UTF-8",q=e=>{let{body:t}=e[K];return null===t?0:R(t)?t.size:a.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},$=async(e,{body:t})=>{null===t?e.end():await U(t,e)},H="function"==typeof i.validateHeaderName?i.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},F="function"==typeof i.validateHeaderValue?i.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class z extends URLSearchParams{constructor(e){let t=[];if(e instanceof z)for(let[r,i]of Object.entries(e.raw()))t.push(...i.map(e=>[r,e]));else if(null==e);else if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");else{let r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw TypeError("Header pairs must be iterable");t=[...e].map(e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw TypeError("Each header pair must be an iterable object");return[...e]}).map(e=>{if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");return[...e]})}}return super(t=t.length>0?t.map(([e,t])=>(H(e),F(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,i)=>(H(r),F(r,String(i)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(i)));case"delete":case"has":case"getAll":return r=>(H(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(let r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let r=this.getAll(t);return"host"===t?e[t]=r[0]:e[t]=r.length>1?r:r[0],e},{})}}Object.defineProperties(z.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));let W=new Set([301,302,303,307,308]),J=e=>W.has(e),G=Symbol("Response internals");class X extends L{constructor(e=null,t={}){super(e,t);let r=null!=t.status?t.status:200,i=new z(t.headers);if(null!==e&&!i.has("Content-Type")){let t=V(e,this);t&&i.append("Content-Type",t)}this[G]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:i,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[G].type}get url(){return this[G].url||""}get status(){return this[G].status}get ok(){return this[G].status>=200&&this[G].status<300}get redirected(){return this[G].counter>0}get statusText(){return this[G].statusText}get headers(){return this[G].headers}get highWaterMark(){return this[G].highWaterMark}clone(){return new X(j(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!J(t))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');return new X(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new X(null,{status:0,statusText:""});return e[G].type="error",e}static json(e,t={}){let r=JSON.stringify(e);if(void 0===r)throw TypeError("data is not JSON serializable");let i=new z(t&&t.headers);return i.has("content-type")||i.set("content-type","application/json"),new X(r,{...t,headers:i})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(X.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let Y=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""};function Z(e,t=!1){return null==e||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}let Q=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function ee(e){if(/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||/^(blob|filesystem):$/.test(e.protocol))return!0;if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=c.isIP(t);return!!(4===r&&/^127\./.test(t)||6===r&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||!("localhost"===e.host||e.host.endsWith(".localhost"))&&"file:"===e.protocol}let et=Symbol("Request internals"),er=e=>"object"==typeof e&&"object"==typeof e[et],ei=l.deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class en extends L{constructor(e,t={}){let r;if(er(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw TypeError(`${r} is an url with embedded credentials.`);let i=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!er(t)&&"data"in t&&ei(),(null!=t.body||er(e)&&null!==e.body)&&("GET"===i||"HEAD"===i))throw TypeError("Request with GET/HEAD method cannot have body");let n=t.body?t.body:er(e)&&null!==e.body?j(e):null;super(n,{size:t.size||e.size||0});let s=new z(t.headers||e.headers||{});if(null!==n&&!s.has("Content-Type")){let e=V(n,this);e&&s.set("Content-Type",e)}let o=er(e)?e.signal:null;if("signal"in t&&(o=t.signal),null!=o&&!O(o))throw TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let a=null==t.referrer?e.referrer:t.referrer;if(""===a)a="no-referrer";else if(a){let e=new URL(a);a=/^about:(\/\/)?client$/.test(e)?"client":e}else a=void 0;this[et]={method:i,redirect:t.redirect||e.redirect||"follow",headers:s,parsedURL:r,signal:o,referrer:a},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[et].method}get url(){return u.format(this[et].parsedURL)}get headers(){return this[et].headers}get redirect(){return this[et].redirect}get signal(){return this[et].signal}get referrer(){return"no-referrer"===this[et].referrer?"":"client"===this[et].referrer?"about:client":this[et].referrer?this[et].referrer.toString():void 0}get referrerPolicy(){return this[et].referrerPolicy}set referrerPolicy(e){this[et].referrerPolicy=function(e){if(!Q.has(e))throw TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new en(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(en.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let es=e=>{let{parsedURL:t}=e[et],r=new z(e[et].headers);r.has("Accept")||r.set("Accept","*/*");let i=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(i="0"),null!==e.body){let t=q(e);"number"!=typeof t||Number.isNaN(t)||(i=String(t))}i&&r.set("Content-Length",i),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[et].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;let i=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";let n=e.referrer,s=Z(n),o=Z(n,!0);s.toString().length>4096&&(s=o),t&&(s=t(s)),r&&(o=r(o));let a=new URL(e.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return s;case"strict-origin":if(ee(s)&&!ee(a))return"no-referrer";return o.toString();case"strict-origin-when-cross-origin":if(s.origin===a.origin)return s;if(ee(s)&&!ee(a))return"no-referrer";return o;case"same-origin":if(s.origin===a.origin)return s;return"no-referrer";case"origin-when-cross-origin":if(s.origin===a.origin)return s;return o;case"no-referrer-when-downgrade":if(ee(s)&&!ee(a))return"no-referrer";return s;default:throw TypeError(`Invalid referrerPolicy: ${i}`)}}(e):e[et].referrer="no-referrer",e[et].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=e;"function"==typeof n&&(n=n(t)),r.has("Connection")||n||r.set("Connection","close");let s=Y(t),o={path:t.pathname+s,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:n};return{parsedURL:t,options:o}};class eo extends P{constructor(e,t="aborted"){super(e,t)}}if(!globalThis.DOMException)try{let{MessageChannel:e}=r(73566),t=new e().port1,i=new ArrayBuffer;t.postMessage(i,[i,i])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}var ea=globalThis.DOMException;let el=new Set(["data:","http:","https:"]);async function eu(e,t){return new Promise((r,l)=>{let u=new en(e,t),{parsedURL:c,options:h}=es(u);if(!el.has(c.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${c.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===c.protocol){let e=function(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');let t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),i="",n=!1,s=r[0]||"text/plain",o=s;for(let e=1;e<r.length;e++)"base64"===r[e]?n=!0:(o+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(i=r[e].substring(8)));r[0]||i.length||(o+=";charset=US-ASCII",i="US-ASCII");let a=n?"base64":"ascii",l=unescape(e.substring(t+1)),u=Buffer.from(l,a);return u.type=s,u.typeFull=o,u.charset=i,u}(u.url);r(new X(e,{headers:{"Content-Type":e.typeFull}}));return}let d=("https:"===c.protocol?n:i).request,{signal:f}=u,p=null,m=()=>{let e=new eo("The operation was aborted.");l(e),u.body&&u.body instanceof o.Readable&&u.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(f&&f.aborted)return void m();let y=()=>{m(),b()},g=d(c.toString(),h);f&&f.addEventListener("abort",y);let b=()=>{g.abort(),f&&f.removeEventListener("abort",y)};g.on("error",e=>{l(new T(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),b()}),function(e,t){let r,i=a.Buffer.from("0\r\n\r\n"),n=!1,s=!1;e.on("response",e=>{let{headers:t}=e;n="chunked"===t["transfer-encoding"]&&!t["content-length"]}),e.on("socket",o=>{let l=()=>{if(n&&!s){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}},u=e=>{(s=0===a.Buffer.compare(e.slice(-5),i))||!r||(s=0===a.Buffer.compare(r.slice(-3),i.slice(0,3))&&0===a.Buffer.compare(e.slice(-2),i.slice(3))),r=e};o.prependListener("close",l),o.on("data",u),e.on("close",()=>{o.removeListener("close",l),o.removeListener("data",u)})})}(g,e=>{p&&p.body&&p.body.destroy(e)}),process.version<"v14"&&g.on("socket",e=>{let t;e.prependListener("end",()=>{t=e._eventsCount}),e.prependListener("close",r=>{if(p&&t<e._eventsCount&&!r){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",p.body.emit("error",e)}})}),g.on("response",e=>{g.setTimeout(0);let i=function(e=[]){return new z(e.reduce((e,t,r,i)=>(r%2==0&&e.push(i.slice(r,r+2)),e),[]).filter(([e,t])=>{try{return H(e),F(e,String(t)),!0}catch{return!1}}))}(e.rawHeaders);if(J(e.statusCode)){let n=i.get("Location"),s=null;try{s=null===n?null:new URL(n,u.url)}catch{if("manual"!==u.redirect){l(new T(`uri requested responds with an invalid redirect URL: ${n}`,"invalid-redirect")),b();return}}switch(u.redirect){case"error":l(new T(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),b();return;case"manual":break;case"follow":{if(null===s)break;if(u.counter>=u.follow){l(new T(`maximum redirect reached at: ${u.url}`,"max-redirect")),b();return}let n={headers:new z(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:j(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!N(u.url,s)||!I(u.url,s))for(let e of["authorization","www-authenticate","cookie","cookie2"])n.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof o.Readable){l(new T("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===u.method)&&(n.method="GET",n.body=void 0,n.headers.delete("content-length"));let a=function(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let e of t)e&&Q.has(e)&&(r=e);return r}(i);a&&(n.referrerPolicy=a),r(eu(new en(s,n))),b();return}default:return l(TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}f&&e.once("end",()=>{f.removeEventListener("abort",y)});let n=o.pipeline(e,new o.PassThrough,e=>{e&&l(e)});process.version<"v12.10"&&e.on("aborted",y);let a={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:i,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},c=i.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===c||204===e.statusCode||304===e.statusCode)return void r(p=new X(n,a));let h={flush:s.Z_SYNC_FLUSH,finishFlush:s.Z_SYNC_FLUSH};if("gzip"===c||"x-gzip"===c)return void r(p=new X(n=o.pipeline(n,s.createGunzip(h),e=>{e&&l(e)}),a));if("deflate"===c||"x-deflate"===c){let t=o.pipeline(e,new o.PassThrough,e=>{e&&l(e)});t.once("data",e=>{r(p=new X(n=(15&e[0])==8?o.pipeline(n,s.createInflate(),e=>{e&&l(e)}):o.pipeline(n,s.createInflateRaw(),e=>{e&&l(e)}),a))}),t.once("end",()=>{p||r(p=new X(n,a))});return}if("br"===c)return void r(p=new X(n=o.pipeline(n,s.createBrotliDecompress(),e=>{e&&l(e)}),a));r(p=new X(n,a))}),$(g,u).catch(l)})}let ec=new WeakMap,eh=new WeakMap;function ed(e){let t=ec.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function ef(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function ep(e,t){ec.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(t);for(let e=0;e<r.length;++e){let t=r[e];t in this||Object.defineProperty(this,t,em(t))}}function em(e){return{get(){return ed(this).event[e]},set(t){ed(this).event[e]=t},configurable:!0,enumerable:!0}}function ey(e,t){ed(e).passiveListener=t}ep.prototype={get type(){return ed(this).event.type},get target(){return ed(this).eventTarget},get currentTarget(){return ed(this).currentTarget},composedPath(){let e=ed(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return ed(this).eventPhase},stopPropagation(){let e=ed(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=ed(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!ed(this).event.bubbles},get cancelable(){return!!ed(this).event.cancelable},preventDefault(){ef(ed(this))},get defaultPrevented(){return ed(this).canceled},get composed(){return!!ed(this).event.composed},get timeStamp(){return ed(this).timeStamp},get srcElement(){return ed(this).eventTarget},get cancelBubble(){return ed(this).stopped},set cancelBubble(value){if(!value)return;let e=ed(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!ed(this).canceled},set returnValue(value){value||ef(ed(this))},initEvent(){}},Object.defineProperty(ep.prototype,"constructor",{value:ep,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(ep.prototype,window.Event.prototype),eh.set(window.Event.prototype,ep));let eg=new WeakMap;function eb(e){return null!==e&&"object"==typeof e}function ev(e){let t=eg.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function ew(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=ev(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||eb(e)||(e=null);let r=ev(this),i=null,n=r.get(t);for(;null!=n;)3===n.listenerType?null!==i?i.next=n.next:null!==n.next?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(null!==e){let n={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===i?r.set(t,n):i.next=n}},configurable:!0,enumerable:!0})}function eS(e){function t(){eA.call(this)}t.prototype=Object.create(eA.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)ew(t.prototype,e[r]);return t}function eA(){if(this instanceof eA)return void eg.set(this,new Map);if(1==arguments.length&&Array.isArray(arguments[0]))return eS(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return eS(e)}throw TypeError("Cannot call a class as a function")}eA.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!eb(t))throw TypeError("'listener' should be a function or an object.");let i=ev(this),n=eb(r),s=(n?r.capture:r)?1:2,o={listener:t,listenerType:s,passive:n&&!!r.passive,once:n&&!!r.once,next:null},a=i.get(e);if(void 0===a)return void i.set(e,o);let l=null;for(;null!=a;){if(a.listener===t&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(e,t,r){if(null==t)return;let i=ev(this),n=(eb(r)?r.capture:r)?1:2,s=null,o=i.get(e);for(;null!=o;){if(o.listener===t&&o.listenerType===n)return void(null!==s?s.next=o.next:null!==o.next?i.set(e,o.next):i.delete(e));s=o,o=o.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=ev(this),r=e.type,i=t.get(r);if(null==i)return!0;let n=new(function e(t){if(null==t||t===Object.prototype)return ep;let r=eh.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function i(t,r){e.call(this,t,r)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){let s=r[n];if(!(s in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,s).value;Object.defineProperty(i.prototype,s,e?function(e){return{value(){let t=ed(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(s):em(s))}}return i}(e(Object.getPrototypeOf(t)),t),eh.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),s=null;for(;null!=i;){if(i.once?null!==s?s.next=i.next:null!==i.next?t.set(r,i.next):t.delete(r):s=i,ey(n,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,n)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==i.listenerType&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(n);if(ed(n).immediateStopped)break;i=i.next}return ey(n,null),ed(n).eventPhase=0,ed(n).currentTarget=null,!n.defaultPrevented}},Object.defineProperty(eA.prototype,"constructor",{value:eA,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(eA.prototype,window.EventTarget.prototype);class AbortSignal extends eA{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=ek.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}ew(AbortSignal.prototype,"abort");let ek=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class eE{constructor(){ex.set(this,function(){let e=Object.create(AbortSignal.prototype);return eA.call(e),ek.set(e,!1),e}())}get signal(){return e_(this)}abort(){var e;e=e_(this),!1===ek.get(e)&&(ek.set(e,!0),e.dispatchEvent({type:"abort"}))}}let ex=new WeakMap;function e_(e){let t=ex.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(eE.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(eE.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=eE,t.AbortError=eo,t.FetchError=T,t.File=g,t.FormData=_,t.Headers=z,t.Request=en,t.Response=X,t._Blob=y,t.fetch=eu,t.isRedirect=J,t.nodeDomexception=ea},83304:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},i=(t||{}).decode||n,s=0;s<e.length;){var o=e.indexOf("=",s);if(-1===o)break;var a=e.indexOf(";",s);if(-1===a)a=e.length;else if(a<o){s=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(s,o).trim();if(void 0===r[l]){var u=e.slice(o+1,a).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),r[l]=function(e,t){try{return t(e)}catch(t){return e}}(u,i)}s=a+1}return r};var r=Object.prototype.toString,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function n(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function s(e){return encodeURIComponent(e)}},83753:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},86044:(e,t,r)=>{"use strict";r.d(t,{xQ:()=>s});var i=r(43210),n=r(21279);function s(e=!0){let t=(0,i.useContext)(n.t);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:o,register:a}=t,l=(0,i.useId)();(0,i.useEffect)(()=>{e&&a(l)},[e]);let u=(0,i.useCallback)(()=>e&&o&&o(l),[l,o,e]);return!r&&o?[!1,u]:[!0]}},88920:(e,t,r)=>{"use strict";r.d(t,{N:()=>g});var i=r(60687),n=r(43210),s=r(12157),o=r(72789),a=r(21279),l=r(32582);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){let r=(0,n.useId)(),s=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,n.useContext)(l.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:i,top:n,left:l}=o.current;if(t||!s.current||!e||!i)return;s.current.dataset.motionPopId=r;let u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${i}px !important;
            top: ${n}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),(0,i.jsx)(u,{isPresent:t,childRef:s,sizeRef:o,children:n.cloneElement(e,{ref:s})})}let h=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:l,presenceAffectsLayout:u,mode:h})=>{let f=(0,o.M)(d),p=(0,n.useId)(),m=(0,n.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;s&&s()},[f,s]),y=(0,n.useMemo)(()=>({id:p,initial:t,isPresent:r,custom:l,onExitComplete:m,register:e=>(f.set(e,!1),()=>f.delete(e))}),u?[Math.random(),m]:[r,m]);return(0,n.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[r]),n.useEffect(()=>{r||f.size||!s||s()},[r]),"popLayout"===h&&(e=(0,i.jsx)(c,{isPresent:r,children:e})),(0,i.jsx)(a.t.Provider,{value:y,children:e})};function d(){return new Map}var f=r(86044);let p=e=>e.key||"";function m(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var y=r(15124);let g=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1})=>{let[d,g]=(0,f.xQ)(c),b=(0,n.useMemo)(()=>m(e),[e]),v=c&&!d?[]:b.map(p),w=(0,n.useRef)(!0),S=(0,n.useRef)(b),A=(0,o.M)(()=>new Map),[k,E]=(0,n.useState)(b),[x,_]=(0,n.useState)(b);(0,y.E)(()=>{w.current=!1,S.current=b;for(let e=0;e<x.length;e++){let t=p(x[e]);v.includes(t)?A.delete(t):!0!==A.get(t)&&A.set(t,!1)}},[x,v.length,v.join("-")]);let P=[];if(b!==k){let e=[...b];for(let t=0;t<x.length;t++){let r=x[t],i=p(r);v.includes(i)||(e.splice(t,0,r),P.push(r))}"wait"===u&&P.length&&(e=P),_(m(e)),E(b);return}let{forceRender:T}=(0,n.useContext)(s.L);return(0,i.jsx)(i.Fragment,{children:x.map(e=>{let n=p(e),s=(!c||!!d)&&(b===x||v.includes(n));return(0,i.jsx)(h,{isPresent:s,initial:(!w.current||!!r)&&void 0,custom:s?void 0:t,presenceAffectsLayout:l,mode:u,onExitComplete:s?void 0:()=>{if(!A.has(n))return;A.set(n,!0);let e=!0;A.forEach(t=>{t||(e=!1)}),e&&(null==T||T(),_(S.current),c&&(null==g||g()),a&&a())},children:e},n)})})}},89992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return h}});let i=r(8568),n=r(45362),s=r(10818),o=r(83717),a=r(8568),l=Symbol("internal response"),u=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[i,n]of e.request.headers)t.set("x-middleware-request-"+i,n),r.push(i);t.set("x-middleware-override-headers",r.join(","))}}class h extends Response{constructor(e,t={}){super(e,t);let r=this.headers,u=new Proxy(new a.ResponseCookies(r),{get(e,n,s){switch(n){case"delete":case"set":return(...s)=>{let o=Reflect.apply(e[n],e,s),l=new Headers(r);return o instanceof a.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,i.stringifyCookie)(e)).join(",")),c(t,l),o};default:return o.ReflectAdapter.get(e,n,s)}}});this[l]={cookies:u,url:t.url?new n.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[l].cookies}static json(e,t){let r=Response.json(e,t);return new h(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let i="object"==typeof t?t:{},n=new Headers(null==i?void 0:i.headers);return n.set("Location",(0,s.validateURL)(e)),new h(null,{...i,headers:n,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),c(t,r),new h(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new h(null,{...e,headers:t})}}},95303:(e,t,r)=>{"use strict";Object.defineProperty(t,"B",{value:!0}),Object.defineProperty(t,"U",{enumerable:!0,get:function(){return d}});let i=r(8407),n=r(8568),s=r(29294),o=r(63033),a=r(54717),l=r(7797),u=r(18238),c=r(14768),h=(r(52825),r(8681));function d(){let e="cookies",t=s.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,h.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return p(i.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new l.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r)if("prerender"===r.type){var c=t.route,d=r;let e=f.get(d);if(e)return e;let i=(0,u.makeHangingPromise)(d.renderSignal,"`cookies()`");return f.set(d,i),Object.defineProperties(i,{[Symbol.iterator]:{value:function(){let e="`cookies()[Symbol.iterator]()`",t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},size:{get(){let e="`cookies().size`",t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},get:{value:function(){let e;e=0==arguments.length?"`cookies().get()`":`\`cookies().get(${m(arguments[0])})\``;let t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},getAll:{value:function(){let e;e=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${m(arguments[0])})\``;let t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},has:{value:function(){let e;e=0==arguments.length?"`cookies().has()`":`\`cookies().has(${m(arguments[0])})\``;let t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},set:{value:function(){let e;if(0==arguments.length)e="`cookies().set()`";else{let t=arguments[0];e=t?`\`cookies().set(${m(t)}, ...)\``:"`cookies().set(...)`"}let t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},delete:{value:function(){let e;e=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${m(arguments[0])})\``:`\`cookies().delete(${m(arguments[0])}, ...)\``;let t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},clear:{value:function(){let e="`cookies().clear()`",t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}},toString:{value:function(){let e="`cookies().toString()`",t=g(c,e);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(c,e,t,d)}}}),i}else"prerender-ppr"===r.type?(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,a.throwToInterruptStaticGeneration)(e,t,r);(0,a.trackDynamicDataInDynamicRender)(t,r)}let y=(0,o.getExpectedRequestStore)(e);return p((0,i.areCookiesMutableInCurrentPhase)(y)?y.userspaceMutableCookies:y.cookies)}let f=new WeakMap;function p(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):b.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):v.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function m(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}let y=(0,c.createDedupedByCallsiteServerErrorLoggerDev)(g);function g(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function b(){return this.getAll().map(e=>[e.name,e]).values()}function v(e){for(let e of this.getAll())this.delete(e.name);return e}},97905:(e,t,r)=>{"use strict";let i;function n(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}r.d(t,{P:()=>sm});let s=e=>Array.isArray(e);function o(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function a(e){return"string"==typeof e||Array.isArray(e)}function l(e){let t=[{},{}];return null==e||e.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function u(e,t,r,i){if("function"==typeof t){let[n,s]=l(i);t=t(void 0!==r?r:e.custom,n,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[n,s]=l(i);t=t(void 0!==r?r:e.custom,n,s)}return t}function c(e,t,r){let i=e.getProps();return u(i,t,void 0!==r?r:i.custom,e)}let h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d=["initial",...h];function f(e){let t;return()=>(void 0===t&&(t=e()),t)}let p=f(()=>void 0!==window.ScrollTimeline);class m{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){let r=this.animations.map(r=>p()&&r.attachTimeline?r.attachTimeline(e):"function"==typeof t?t(r):void 0);return()=>{r.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class y extends m{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function g(e,t){return e?e[t]||e.default||e:void 0}function b(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function v(e){return"function"==typeof e}function w(e,t){e.timeline=t,e.onfinish=null}let S=e=>Array.isArray(e)&&"number"==typeof e[0],A={linearEasing:void 0},k=function(e,t){let r=f(e);return()=>{var e;return null!=(e=A[t])?e:r()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),E=(e,t,r)=>{let i=t-e;return 0===i?1:(r-e)/i},x=(e,t,r=10)=>{let i="",n=Math.max(Math.round(t/r),2);for(let t=0;t<n;t++)i+=e(E(0,n-1,t))+", ";return`linear(${i.substring(0,i.length-2)})`},_=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,P={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_([0,.65,.55,1]),circOut:_([.55,0,1,.45]),backIn:_([.31,.01,.66,-.59]),backOut:_([.33,1.53,.69,.99])},T={x:!1,y:!1};function C(e,t){let r=function(e,t,r){if(e instanceof Element)return[e];if("string"==typeof e){let t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),i=new AbortController;return[r,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function B(e){return t=>{"touch"===t.pointerType||T.x||T.y||e(t)}}let R=(e,t)=>!!t&&(e===t||R(e,t.parentElement)),O=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,N=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),I=new WeakSet;function U(e){return t=>{"Enter"===t.key&&e(t)}}function K(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let L=(e,t)=>{let r=e.currentTarget;if(!r)return;let i=U(()=>{if(I.has(r))return;K(r,"down");let e=U(()=>{K(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>K(r,"cancel"),t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function M(e){return O(e)&&!(T.x||T.y)}let j=e=>1e3*e,D=e=>e/1e3,V=e=>e,q=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$=new Set(q),H=new Set(["width","height","top","left","right","bottom",...q]),F=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),z=e=>s(e)?e[e.length-1]||0:e,W={skipAnimations:!1,useManualTiming:!1},J=["read","resolveKeyframes","update","preRender","render","postRender"];function G(e,t){let r=!1,i=!0,n={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=J.reduce((e,t)=>(e[t]=function(e){let t=new Set,r=new Set,i=!1,n=!1,s=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}let l={schedule:(e,n=!1,o=!1)=>{let a=o&&i?t:r;return n&&s.add(e),a.has(e)||a.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{if(o=e,i){n=!0;return}i=!0,[t,r]=[r,t],t.forEach(a),t.clear(),i=!1,n&&(n=!1,l.process(e))}};return l}(s),e),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,f=()=>{let s=W.useManualTiming?n.timestamp:performance.now();r=!1,n.delta=i?1e3/60:Math.max(Math.min(s-n.timestamp,40),1),n.timestamp=s,n.isProcessing=!0,a.process(n),l.process(n),u.process(n),c.process(n),h.process(n),d.process(n),n.isProcessing=!1,r&&t&&(i=!1,e(f))},p=()=>{r=!0,i=!0,n.isProcessing||e(f)};return{schedule:J.reduce((e,t)=>{let i=o[t];return e[t]=(e,t=!1,n=!1)=>(r||p(),i.schedule(e,t,n)),e},{}),cancel:e=>{for(let t=0;t<J.length;t++)o[J[t]].cancel(e)},state:n,steps:o}}let{schedule:X,cancel:Y,state:Z,steps:Q}=G("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:V,!0);function ee(){i=void 0}let et={now:()=>(void 0===i&&et.set(Z.isProcessing||W.useManualTiming?Z.timestamp:performance.now()),i),set:e=>{i=e,queueMicrotask(ee)}};function er(e,t){-1===e.indexOf(t)&&e.push(t)}function ei(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class en{constructor(){this.subscriptions=[]}add(e){return er(this.subscriptions,e),()=>ei(this.subscriptions,e)}notify(e,t,r){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,r);else for(let n=0;n<i;n++){let i=this.subscriptions[n];i&&i(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let es=e=>!isNaN(parseFloat(e)),eo={current:void 0};class ea{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let r=et.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=et.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=es(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new en);let r=this.events[e].add(t);return"change"===e?()=>{r(),X.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return eo.current&&eo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=et.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(e,t){return new ea(e,t)}let eu=e=>!!(e&&e.getVelocity);function ec(e,t){let r=e.getValue("willChange");if(eu(r)&&r.add)return r.add(t)}let eh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ed="data-"+eh("framerAppearId"),ef={current:!1},ep=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function em(e,t,r,i){if(e===t&&r===i)return V;let n=t=>(function(e,t,r,i,n){let s,o,a=0;do(s=ep(o=t+(r-t)/2,i,n)-e)>0?r=o:t=o;while(Math.abs(s)>1e-7&&++a<12);return o})(t,0,1,e,r);return e=>0===e||1===e?e:ep(n(e),t,i)}let ey=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eg=e=>t=>1-e(1-t),eb=em(.33,1.53,.69,.99),ev=eg(eb),ew=ey(ev),eS=e=>(e*=2)<1?.5*ev(e):.5*(2-Math.pow(2,-10*(e-1))),eA=e=>1-Math.sin(Math.acos(e)),ek=eg(eA),eE=ey(eA),ex=e=>/^0[^.\s]+$/u.test(e),e_=(e,t,r)=>r>t?t:r<e?e:r,eP={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},eT={...eP,transform:e=>e_(0,1,e)},eC={...eP,default:1},eB=e=>Math.round(1e5*e)/1e5,eR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,eO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eN=(e,t)=>r=>!!("string"==typeof r&&eO.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),eI=(e,t,r)=>i=>{if("string"!=typeof i)return i;let[n,s,o,a]=i.match(eR);return{[e]:parseFloat(n),[t]:parseFloat(s),[r]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},eU=e=>e_(0,255,e),eK={...eP,transform:e=>Math.round(eU(e))},eL={test:eN("rgb","red"),parse:eI("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+eK.transform(e)+", "+eK.transform(t)+", "+eK.transform(r)+", "+eB(eT.transform(i))+")"},eM={test:eN("#"),parse:function(e){let t="",r="",i="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,i+=i,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}},transform:eL.transform},ej=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),eD=ej("deg"),eV=ej("%"),eq=ej("px"),e$=ej("vh"),eH=ej("vw"),eF={...eV,parse:e=>eV.parse(e)/100,transform:e=>eV.transform(100*e)},ez={test:eN("hsl","hue"),parse:eI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+eV.transform(eB(t))+", "+eV.transform(eB(r))+", "+eB(eT.transform(i))+")"},eW={test:e=>eL.test(e)||eM.test(e)||ez.test(e),parse:e=>eL.test(e)?eL.parse(e):ez.test(e)?ez.parse(e):eM.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eL.transform(e):ez.transform(e)},eJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eG="number",eX="color",eY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eZ(e){let t=e.toString(),r=[],i={color:[],number:[],var:[]},n=[],s=0,o=t.replace(eY,e=>(eW.test(e)?(i.color.push(s),n.push(eX),r.push(eW.parse(e))):e.startsWith("var(")?(i.var.push(s),n.push("var"),r.push(e)):(i.number.push(s),n.push(eG),r.push(parseFloat(e))),++s,"${}")).split("${}");return{values:r,split:o,indexes:i,types:n}}function eQ(e){return eZ(e).values}function e0(e){let{split:t,types:r}=eZ(e),i=t.length;return e=>{let n="";for(let s=0;s<i;s++)if(n+=t[s],void 0!==e[s]){let t=r[s];t===eG?n+=eB(e[s]):t===eX?n+=eW.transform(e[s]):n+=e[s]}return n}}let e1=e=>"number"==typeof e?0:e,e2={test:function(e){var t,r;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(eR))?void 0:t.length)||0)+((null==(r=e.match(eJ))?void 0:r.length)||0)>0},parse:eQ,createTransformer:e0,getAnimatableNone:function(e){let t=eQ(e);return e0(e)(t.map(e1))}},e8=new Set(["brightness","contrast","saturate","opacity"]);function e3(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=r.match(eR)||[];if(!i)return e;let n=r.replace(i,""),s=+!!e8.has(t);return i!==r&&(s*=100),t+"("+s+n+")"}let e6=/\b([a-z-]*)\(.*?\)/gu,e5={...e2,getAnimatableNone:e=>{let t=e.match(e6);return t?t.map(e3).join(" "):e}},e4={...eP,transform:Math.round},e9={borderWidth:eq,borderTopWidth:eq,borderRightWidth:eq,borderBottomWidth:eq,borderLeftWidth:eq,borderRadius:eq,radius:eq,borderTopLeftRadius:eq,borderTopRightRadius:eq,borderBottomRightRadius:eq,borderBottomLeftRadius:eq,width:eq,maxWidth:eq,height:eq,maxHeight:eq,top:eq,right:eq,bottom:eq,left:eq,padding:eq,paddingTop:eq,paddingRight:eq,paddingBottom:eq,paddingLeft:eq,margin:eq,marginTop:eq,marginRight:eq,marginBottom:eq,marginLeft:eq,backgroundPositionX:eq,backgroundPositionY:eq,rotate:eD,rotateX:eD,rotateY:eD,rotateZ:eD,scale:eC,scaleX:eC,scaleY:eC,scaleZ:eC,skew:eD,skewX:eD,skewY:eD,distance:eq,translateX:eq,translateY:eq,translateZ:eq,x:eq,y:eq,z:eq,perspective:eq,transformPerspective:eq,opacity:eT,originX:eF,originY:eF,originZ:eq,zIndex:e4,size:eq,fillOpacity:eT,strokeOpacity:eT,numOctaves:e4},e7={...e9,color:eW,backgroundColor:eW,outlineColor:eW,fill:eW,stroke:eW,borderColor:eW,borderTopColor:eW,borderRightColor:eW,borderBottomColor:eW,borderLeftColor:eW,filter:e5,WebkitFilter:e5},te=e=>e7[e];function tt(e,t){let r=te(e);return r!==e5&&(r=e2),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let tr=new Set(["auto","none","0"]),ti=e=>e===eP||e===eq,tn=(e,t)=>parseFloat(e.split(", ")[t]),ts=(e,t)=>(r,{transform:i})=>{if("none"===i||!i)return 0;let n=i.match(/^matrix3d\((.+)\)$/u);if(n)return tn(n[1],t);{let t=i.match(/^matrix\((.+)\)$/u);return t?tn(t[1],e):0}},to=new Set(["x","y","z"]),ta=q.filter(e=>!to.has(e)),tl={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ts(4,13),y:ts(5,14)};tl.translateX=tl.x,tl.translateY=tl.y;let tu=new Set,tc=!1,th=!1;function td(){if(th){let e=Array.from(tu).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t=function(e){let t=[];return ta.forEach(r=>{let i=e.getValue(r);void 0!==i&&(t.push([r,i.get()]),i.set(+!!r.startsWith("scale")))}),t}(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{var i;null==(i=e.getValue(t))||i.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}th=!1,tc=!1,tu.forEach(e=>e.complete()),tu.clear()}function tf(){tu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(th=!0)})}class tp{constructor(e,t,r,i,n,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=n,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tu.add(this),tc||(tc=!0,X.read(tf),X.resolveKeyframes(td))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let n=0;n<e.length;n++)if(null===e[n])if(0===n){let n=null==i?void 0:i.get(),s=e[e.length-1];if(void 0!==n)e[0]=n;else if(r&&t){let i=r.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===n&&i.set(e[0])}else e[n]=e[n-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let tm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ty=e=>t=>"string"==typeof t&&t.startsWith(e),tg=ty("--"),tb=ty("var(--"),tv=e=>!!tb(e)&&tw.test(e.split("/*")[0].trim()),tw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,tA=e=>t=>t.test(e),tk=[eP,eq,eV,eD,eH,e$,{test:e=>"auto"===e,parse:e=>e}],tE=e=>tk.find(tA(e));class tx extends tp{constructor(e,t,r,i,n){super(e,t,r,i,n,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let i=e[r];if("string"==typeof i&&tv(i=i.trim())){let n=function e(t,r,i=1){V(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,s]=function(e){let t=tS.exec(e);if(!t)return[,];let[,r,i,n]=t;return[`--${null!=r?r:i}`,n]}(t);if(!n)return;let o=window.getComputedStyle(r).getPropertyValue(n);if(o){let e=o.trim();return tm(e)?parseFloat(e):e}return tv(s)?e(s,r,i+1):s}(i,t.current);void 0!==n&&(e[r]=n),r===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!H.has(r)||2!==e.length)return;let[i,n]=e,s=tE(i),o=tE(n);if(s!==o)if(ti(s)&&ti(o))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++){var i;("number"==typeof(i=e[t])?0===i:null===i||"none"===i||"0"===i||ex(i))&&r.push(t)}r.length&&function(e,t,r){let i,n=0;for(;n<e.length&&!i;){let t=e[n];"string"==typeof t&&!tr.has(t)&&eZ(t).values.length&&(i=e[n]),n++}if(i&&r)for(let n of t)e[n]=tt(r,i)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;let{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;let n=t.getValue(r);n&&n.jump(this.measuredOrigin,!1);let s=i.length-1,o=i[s];i[s]=tl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(([e,r])=>{t.getValue(e).set(r)}),this.resolveNoneKeyframes()}}let t_=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(e2.test(e)||"0"===e)&&!e.startsWith("url(")),tP=e=>null!==e;function tT(e,{repeat:t,repeatType:r="loop"},i){let n=e.filter(tP),s=t&&"loop"!==r&&t%2==1?0:n.length-1;return s&&void 0!==i?i:n[s]}class tC{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=et.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:n,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(tf(),td()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=et.now(),this.hasAttemptedResolve=!0;let{name:r,type:i,velocity:n,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(e,t,r,i){let n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],o=t_(n,t),a=t_(s,t);return V(o===a,`You are trying to animate ${t} from "${n}" to "${s}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${s} via the \`style\` property.`),!!o&&!!a&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||v(r))&&i)}(e,r,i,n))if(ef.current||!s){a&&a(tT(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}else this.options.duration=0;let u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}let tB=(e,t,r)=>e+(t-e)*r;function tR(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function tO(e,t){return r=>r>0?t:e}let tN=(e,t,r)=>{let i=e*e,n=r*(t*t-i)+i;return n<0?0:Math.sqrt(n)},tI=[eM,eL,ez],tU=e=>tI.find(t=>t.test(e));function tK(e){let t=tU(e);if(V(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let r=t.parse(e);return t===ez&&(r=function({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,r/=100;let n=0,s=0,o=0;if(t/=100){let i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;n=tR(a,i,e+1/3),s=tR(a,i,e),o=tR(a,i,e-1/3)}else n=s=o=r;return{red:Math.round(255*n),green:Math.round(255*s),blue:Math.round(255*o),alpha:i}}(r)),r}let tL=(e,t)=>{let r=tK(e),i=tK(t);if(!r||!i)return tO(e,t);let n={...r};return e=>(n.red=tN(r.red,i.red,e),n.green=tN(r.green,i.green,e),n.blue=tN(r.blue,i.blue,e),n.alpha=tB(r.alpha,i.alpha,e),eL.transform(n))},tM=(e,t)=>r=>t(e(r)),tj=(...e)=>e.reduce(tM),tD=new Set(["none","hidden"]);function tV(e,t){return r=>tB(e,t,r)}function tq(e){return"number"==typeof e?tV:"string"==typeof e?tv(e)?tO:eW.test(e)?tL:tF:Array.isArray(e)?t$:"object"==typeof e?eW.test(e)?tL:tH:tO}function t$(e,t){let r=[...e],i=r.length,n=e.map((e,r)=>tq(e)(e,t[r]));return e=>{for(let t=0;t<i;t++)r[t]=n[t](e);return r}}function tH(e,t){let r={...e,...t},i={};for(let n in r)void 0!==e[n]&&void 0!==t[n]&&(i[n]=tq(e[n])(e[n],t[n]));return e=>{for(let t in i)r[t]=i[t](e);return r}}let tF=(e,t)=>{let r=e2.createTransformer(t),i=eZ(e),n=eZ(t);return i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length?tD.has(e)&&!n.values.length||tD.has(t)&&!i.values.length?function(e,t){return tD.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):tj(t$(function(e,t){var r;let i=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let o=t.types[s],a=e.indexes[o][n[o]],l=null!=(r=e.values[a])?r:0;i[s]=l,n[o]++}return i}(i,n),n.values),r):(V(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),tO(e,t))};function tz(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?tB(e,t,r):tq(e)(e,t)}function tW(e,t,r){var i,n;let s=Math.max(t-5,0);return i=r-e(s),(n=t-s)?1e3/n*i:0}let tJ={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function tG(e,t){return e*Math.sqrt(1-t*t)}let tX=["duration","bounce"],tY=["stiffness","damping","mass"];function tZ(e,t){return t.some(t=>void 0!==e[t])}function tQ(e=tJ.visualDuration,t=tJ.bounce){let r,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:n,restDelta:s}=i,o=i.keyframes[0],a=i.keyframes[i.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t={velocity:tJ.velocity,stiffness:tJ.stiffness,damping:tJ.damping,mass:tJ.mass,isResolvedFromDuration:!1,...e};if(!tZ(e,tY)&&tZ(e,tX))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),i=r*r,n=2*e_(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:tJ.mass,stiffness:i,damping:n}}else{let r=function({duration:e=tJ.duration,bounce:t=tJ.bounce,velocity:r=tJ.velocity,mass:i=tJ.mass}){let n,s;V(e<=j(tJ.maxDuration),"Spring duration must be 10 seconds or less");let o=1-t;o=e_(tJ.minDamping,tJ.maxDamping,o),e=e_(tJ.minDuration,tJ.maxDuration,D(e)),o<1?(n=t=>{let i=t*o,n=i*e;return .001-(i-r)/tG(t,o)*Math.exp(-n)},s=t=>{let i=t*o*e,s=Math.pow(o,2)*Math.pow(t,2)*e,a=Math.exp(-i),l=tG(Math.pow(t,2),o);return(i*r+r-s)*a*(-n(t)+.001>0?-1:1)/l}):(n=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),s=t=>e*e*(r-t)*Math.exp(-t*e));let a=function(e,t,r){let i=r;for(let r=1;r<12;r++)i-=e(i)/t(i);return i}(n,s,5/e);if(e=j(e),isNaN(a))return{stiffness:tJ.stiffness,damping:tJ.damping,duration:e};{let t=Math.pow(a,2)*i;return{stiffness:t,damping:2*o*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...r,mass:tJ.mass}).isResolvedFromDuration=!0}return t}({...i,velocity:-D(i.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(u*h)),g=a-o,v=D(Math.sqrt(u/h)),w=5>Math.abs(g);if(n||(n=w?tJ.restSpeed.granular:tJ.restSpeed.default),s||(s=w?tJ.restDelta.granular:tJ.restDelta.default),y<1){let e=tG(v,y);r=t=>a-Math.exp(-y*v*t)*((m+y*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(1===y)r=e=>a-Math.exp(-v*e)*(g+(m+v*g)*e);else{let e=v*Math.sqrt(y*y-1);r=t=>{let r=Math.exp(-y*v*t),i=Math.min(e*t,300);return a-r*((m+y*v*g)*Math.sinh(i)+e*g*Math.cosh(i))/e}}let S={calculatedDuration:p&&d||null,next:e=>{let t=r(e);if(p)l.done=e>=d;else{let i=0;y<1&&(i=0===e?j(m):tW(r,e,t));let o=Math.abs(a-t)<=s;l.done=Math.abs(i)<=n&&o}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(b(S),2e4),t=x(t=>S.next(e*t).value,e,30);return e+"ms "+t}};return S}function t0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){let h,d,f=e[0],p={done:!1,value:f},m=e=>void 0!==a&&e<a||void 0!==l&&e>l,y=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l,g=r*t,b=f+g,v=void 0===o?b:o(b);v!==b&&(g=v-f);let w=e=>-g*Math.exp(-e/i),S=e=>v+w(e),A=e=>{let t=w(e),r=S(e);p.done=Math.abs(t)<=u,p.value=p.done?v:r},k=e=>{m(p.value)&&(h=e,d=tQ({keyframes:[p.value,y(p.value)],velocity:tW(S,e,p.value),damping:n,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,A(e),k(e)),void 0!==h&&e>=h)?d.next(e-h):(t||A(e),p)}}}let t1=em(.42,0,1,1),t2=em(0,0,.58,1),t8=em(.42,0,.58,1),t3=e=>Array.isArray(e)&&"number"!=typeof e[0],t6={linear:V,easeIn:t1,easeInOut:t8,easeOut:t2,circIn:eA,circInOut:eE,circOut:ek,backIn:ev,backInOut:ew,backOut:eb,anticipate:eS},t5=e=>{if(S(e)){V(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,r,i,n]=e;return em(t,r,i,n)}return"string"==typeof e?(V(void 0!==t6[e],`Invalid easing type '${e}'`),t6[e]):e};function t4({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){var n;let s=t3(i)?i.map(t5):t5(i),o={done:!1,value:t[0]},a=function(e,t,{clamp:r=!0,ease:i,mixer:n}={}){let s=e.length;if(V(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,r){let i=[],n=r||tz,s=e.length-1;for(let r=0;r<s;r++){let s=n(e[r],e[r+1]);t&&(s=tj(Array.isArray(t)?t[r]||V:t,s)),i.push(s)}return i}(t,i,n),l=a.length,u=r=>{if(o&&r<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(r<e[i+1]);i++);let n=E(e[i],e[i+1],r);return a[i](n)};return r?t=>u(e_(e[0],e[s-1],t)):u}((n=r&&r.length===t.length?r:function(e){let t=[0];return!function(e,t){let r=e[e.length-1];for(let i=1;i<=t;i++){let n=E(0,t,i);e.push(tB(r,1,n))}}(t,e.length-1),t}(t),n.map(t=>t*e)),t,{ease:Array.isArray(s)?s:t.map(()=>s||t8).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=a(t),o.done=t>=e,o)}}let t9=e=>{let t=({timestamp:t})=>e(t);return{start:()=>X.update(t,!0),stop:()=>Y(t),now:()=>Z.isProcessing?Z.timestamp:et.now()}},t7={decay:t0,inertia:t0,tween:t4,keyframes:t4,spring:tQ},re=e=>e/100;class rt extends tC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:r,element:i,keyframes:n}=this.options,s=(null==i?void 0:i.KeyframeResolver)||tp;this.resolver=new s(n,(e,t)=>this.onKeyframesResolved(e,t),t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,r,{type:i="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=this.options,l=v(i)?i:t7[i]||t4;l!==t4&&"number"!=typeof e[0]&&(t=tj(re,tz(e[0],e[1])),e=[0,100]);let u=l({...this.options,keyframes:e});"mirror"===o&&(r=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===u.calculatedDuration&&(u.calculatedDuration=b(u));let{calculatedDuration:c}=u,h=c+s;return{generator:u,mirroredGenerator:r,mapPercentToKeyframes:t,calculatedDuration:c,resolvedDuration:h,totalDuration:h*(n+1)-s}}onPostResolved(){let{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:r}=this;if(!r){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:i,generator:n,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=r;if(null===this.startTime)return n.next(0);let{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let y=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let b=this.currentTime,v=n;if(d){let e=Math.min(this.currentTime,u)/c,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,d+1))%2&&("reverse"===f?(r=1-r,p&&(r-=p/c)):"mirror"===f&&(v=s)),b=e_(0,1,r)*c}let w=g?{done:!1,value:a[0]}:v.next(b);o&&(w.value=o(w.value));let{done:S}=w;g||null===l||(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);let A=null===this.holdTime&&("finished"===this.state||"running"===this.state&&S);return A&&void 0!==i&&(w.value=tT(a,this.options,i)),m&&m(w.value),A&&this.finish(),w}get duration(){let{resolved:e}=this;return e?D(e.calculatedDuration):0}get time(){return D(this.currentTime)}set time(e){e=j(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=D(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=t9,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=null!=r?r:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!=(e=this.currentTime)?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}let rr=new Set(["opacity","clipPath","filter","transform"]),ri=f(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rn={anticipate:eS,backInOut:ew,circInOut:eE};class rs extends tC{constructor(e){super(e);let{name:t,motionValue:r,element:i,keyframes:n}=this.options;this.resolver=new tx(n,(e,t)=>this.onKeyframesResolved(e,t),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:i=300,times:n,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof s&&k()&&s in rn&&(s=rn[s]),v((r=this.options).type)||"spring"===r.type||!function e(t){return!!("function"==typeof t&&k()||!t||"string"==typeof t&&(t in P||k())||S(t)||Array.isArray(t)&&t.every(e))}(r.ease)){let{onComplete:t,onUpdate:r,motionValue:a,element:l,...u}=this.options,c=function(e,t){let r=new rt({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),i={done:!1,value:e[0]},n=[],s=0;for(;!i.done&&s<2e4;)n.push((i=r.sample(s)).value),s+=10;return{times:void 0,keyframes:n,duration:s-10,ease:"linear"}}(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),i=c.duration,n=c.times,s=c.ease,o="keyframes"}let c=function(e,t,r,{delay:i=0,duration:n=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){let u={[t]:r};l&&(u.offset=l);let c=function e(t,r){if(t)return"function"==typeof t&&k()?x(t,r):S(t)?_(t):Array.isArray(t)?t.map(t=>e(t,r)||P.easeOut):P[t]}(a,n);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:i,duration:n,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(a.owner.current,l,e,{...this.options,duration:i,times:n,ease:s});return c.startTime=null!=u?u:this.calcStartTime(),this.pendingTimeline?(w(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{let{onComplete:r}=this.options;a.set(tT(e,this.options,t)),r&&r(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:n,type:o,ease:s,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return D(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return D(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:r}=t;r.currentTime=j(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:r}=t;r.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return V;let{animation:r}=t;w(r,e)}else this.pendingTimeline=e;return V}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:r,duration:i,type:n,ease:s,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:a,element:l,...u}=this.options,c=new rt({...u,keyframes:r,duration:i,type:n,ease:s,times:o,isGenerator:!0}),h=j(this.time);e.setWithVelocity(c.sample(h-10).value,c.sample(h).value,10)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:r,repeatDelay:i,repeatType:n,damping:s,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:l}=t.owner.getProps();return ri()&&r&&rr.has(r)&&!a&&!l&&!i&&"mirror"!==n&&0!==s&&"inertia"!==o}}let ro={type:"spring",stiffness:500,damping:25,restSpeed:10},ra=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),rl={type:"keyframes",duration:.8},ru={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rc=(e,{keyframes:t})=>t.length>2?rl:$.has(e)?e.startsWith("scale")?ra(t[1]):ro:ru,rh=(e,t,r,i={},n,s)=>o=>{let a=g(i,e)||{},l=a.delay||i.delay||0,{elapsed:u=0}=i;u-=j(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:n};!function({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(a)&&(c={...c,...rc(e,c)}),c.duration&&(c.duration=j(c.duration)),c.repeatDelay&&(c.repeatDelay=j(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(c.duration=0,0===c.delay&&(h=!0)),(ef.current||W.skipAnimations)&&(h=!0,c.duration=0,c.delay=0),h&&!s&&void 0!==t.get()){let e=tT(c.keyframes,a);if(void 0!==e)return X.update(()=>{c.onUpdate(e),c.onComplete()}),new y([])}return!s&&rs.supports(c)?new rs(c):new rt(c)};function rd(e,t,{delay:r=0,transitionOverride:i,type:n}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;i&&(o=i);let u=[],h=n&&e.animationState&&e.animationState.getState()[n];for(let t in l){let i=e.getValue(t,null!=(s=e.latestValues[t])?s:null),n=l[t];if(void 0===n||h&&function({protectedKeys:e,needsAnimating:t},r){let i=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,i}(h,t))continue;let a={delay:r,...g(o||{},t)},c=!1;if(window.MotionHandoffAnimation){let r=e.props[ed];if(r){let e=window.MotionHandoffAnimation(r,t,X);null!==e&&(a.startTime=e,c=!0)}}ec(e,t),i.start(rh(t,i,n,e.shouldReduceMotion&&H.has(t)?{type:!1}:a,e,c));let d=i.animation;d&&u.push(d)}return a&&Promise.all(u).then(()=>{X.update(()=>{a&&function(e,t){let{transitionEnd:r={},transition:i={},...n}=c(e,t)||{};for(let t in n={...n,...r}){let r=z(n[t]);e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,el(r))}}(e,a)})}),u}function rf(e,t,r={}){var i;let n=c(e,t,"exit"===r.type?null==(i=e.presenceContext)?void 0:i.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);let o=n?()=>Promise.all(rd(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:n=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t,r=0,i=0,n=1,s){let o=[],a=(e.variantChildren.size-1)*i,l=1===n?(e=0)=>e*i:(e=0)=>a-e*i;return Array.from(e.variantChildren).sort(rp).forEach((e,i)=>{e.notify("AnimationStart",t),o.push(rf(e,t,{...s,delay:r+l(i)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,n+i,o,a,r)}:()=>Promise.resolve(),{when:l}=s;if(!l)return Promise.all([o(),a(r.delay)]);{let[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then(()=>t())}}function rp(e,t){return e.sortNodePosition(t)}let rm=d.length,ry=[...h].reverse(),rg=h.length;function rb(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rv(){return{animate:rb(!0),whileInView:rb(),whileHover:rb(),whileTap:rb(),whileDrag:rb(),whileFocus:rb(),exit:rb()}}class rw{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rS extends rw{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>rf(e,t,r)));else if("string"==typeof t)i=rf(e,t,r);else{let n="function"==typeof t?c(e,t,r.custom):t;i=Promise.all(rd(e,n,r))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=rv(),i=!0,l=t=>(r,i)=>{var n;let s=c(e,i,"exit"===t?null==(n=e.presenceContext)?void 0:n.custom:void 0);if(s){let{transition:e,transitionEnd:t,...i}=s;r={...r,...i,...t}}return r};function u(u){let{props:c}=e,h=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<rm;e++){let i=d[e],n=t.props[i];(a(n)||!1===n)&&(r[i]=n)}return r}(e.parent)||{},f=[],p=new Set,m={},y=1/0;for(let t=0;t<rg;t++){var g,b;let d=ry[t],v=r[d],w=void 0!==c[d]?c[d]:h[d],S=a(w),A=d===u?v.isActive:null;!1===A&&(y=t);let k=w===h[d]&&w!==c[d]&&S;if(k&&i&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...m},!v.isActive&&null===A||!w&&!v.prevProp||n(w)||"boolean"==typeof w)continue;let E=(g=v.prevProp,"string"==typeof(b=w)?b!==g:!!Array.isArray(b)&&!o(b,g)),x=E||d===u&&v.isActive&&!k&&S||t>y&&S,_=!1,P=Array.isArray(w)?w:[w],T=P.reduce(l(d),{});!1===A&&(T={});let{prevResolvedValues:C={}}=v,B={...C,...T},R=t=>{x=!0,p.has(t)&&(_=!0,p.delete(t)),v.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in B){let t=T[e],r=C[e];if(m.hasOwnProperty(e))continue;let i=!1;(s(t)&&s(r)?o(t,r):t===r)?void 0!==t&&p.has(e)?R(e):v.protectedKeys[e]=!0:null!=t?R(e):p.add(e)}v.prevProp=w,v.prevResolvedValues=T,v.isActive&&(m={...m,...T}),i&&e.blockInitialAnimation&&(x=!1);let O=!(k&&E)||_;x&&O&&f.push(...P.map(e=>({animation:e,options:{type:d}})))}if(p.size){let t={};p.forEach(r=>{let i=e.getBaseTarget(r),n=e.getValue(r);n&&(n.liveStyle=!0),t[r]=null!=i?i:null}),f.push({animation:t})}let v=!!f.length;return i&&(!1===c.initial||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),i=!1,v?t(f):Promise.resolve()}return{animateChanges:u,setActive:function(t,i){var n;if(r[t].isActive===i)return Promise.resolve();null==(n=e.variantChildren)||n.forEach(e=>{var r;return null==(r=e.animationState)?void 0:r.setActive(t,i)}),r[t].isActive=i;let s=u(t);for(let e in r)r[e].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=rv(),i=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();n(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}let rA=0;class rk extends rw{constructor(){super(...arguments),this.id=rA++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}function rE(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}function rx(e){return{point:{x:e.pageX,y:e.pageY}}}let r_=e=>t=>O(t)&&e(t,rx(t));function rP(e,t,r,i){return rE(e,t,r_(r),i)}let rT=(e,t)=>Math.abs(e-t);class rC{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=rO(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){return Math.sqrt(rT(e.x,t.x)**2+rT(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;let{point:i}=e,{timestamp:n}=Z;this.history.push({...i,timestamp:n});let{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rB(t,this.transformPagePoint),X.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:i,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=rO("pointercancel"===e.type?this.lastMoveEventInfo:rB(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),i&&i(e,s)},!O(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;let s=rB(rx(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=Z;this.history=[{...o,timestamp:a}];let{onSessionStart:l}=t;l&&l(e,rO(s,this.history)),this.removeListeners=tj(rP(this.contextWindow,"pointermove",this.handlePointerMove),rP(this.contextWindow,"pointerup",this.handlePointerUp),rP(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Y(this.updatePoint)}}function rB(e,t){return t?{point:t(e.point)}:e}function rR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rO({point:e},t){return{point:e,delta:rR(e,rN(t)),offset:rR(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null,n=rN(e);for(;r>=0&&(i=e[r],!(n.timestamp-i.timestamp>j(.1)));)r--;if(!i)return{x:0,y:0};let s=D(n.timestamp-i.timestamp);if(0===s)return{x:0,y:0};let o={x:(n.x-i.x)/s,y:(n.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}(t,.1)}}function rN(e){return e[e.length-1]}function rI(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function rU(e){return e.max-e.min}function rK(e,t,r,i=.5){e.origin=i,e.originPoint=tB(t.min,t.max,e.origin),e.scale=rU(r)/rU(t),e.translate=tB(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function rL(e,t,r,i){rK(e.x,t.x,r.x,i?i.originX:void 0),rK(e.y,t.y,r.y,i?i.originY:void 0)}function rM(e,t,r){e.min=r.min+t.min,e.max=e.min+rU(t)}function rj(e,t,r){e.min=t.min-r.min,e.max=e.min+rU(t)}function rD(e,t,r){rj(e.x,t.x,r.x),rj(e.y,t.y,r.y)}function rV(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function rq(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function r$(e,t,r){return{min:rH(e,t),max:rH(e,r)}}function rH(e,t){return"number"==typeof e?e:e[t]||0}let rF=()=>({translate:0,scale:1,origin:0,originPoint:0}),rz=()=>({x:rF(),y:rF()}),rW=()=>({min:0,max:0}),rJ=()=>({x:rW(),y:rW()});function rG(e){return[e("x"),e("y")]}function rX({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function rY(e){return void 0===e||1===e}function rZ({scale:e,scaleX:t,scaleY:r}){return!rY(e)||!rY(t)||!rY(r)}function rQ(e){return rZ(e)||r0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function r0(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function r1(e,t,r,i,n){return void 0!==n&&(e=i+n*(e-i)),i+r*(e-i)+t}function r2(e,t=0,r=1,i,n){e.min=r1(e.min,t,r,i,n),e.max=r1(e.max,t,r,i,n)}function r8(e,{x:t,y:r}){r2(e.x,t.translate,t.scale,t.originPoint),r2(e.y,r.translate,r.scale,r.originPoint)}function r3(e,t){e.min=e.min+t,e.max=e.max+t}function r6(e,t,r,i,n=.5){let s=tB(e.min,e.max,n);r2(e,t,r,s,i)}function r5(e,t){r6(e.x,t.x,t.scaleX,t.scale,t.originX),r6(e.y,t.y,t.scaleY,t.scale,t.originY)}function r4(e,t){return rX(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}let r9=({current:e})=>e?e.ownerDocument.defaultView:null,r7=new WeakMap;class ie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rJ(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let{dragSnapToOrigin:i}=this.getProps();this.panSession=new rC(e,{onSessionStart:e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(rx(e).point)},onStart:(e,t)=>{let{drag:r,dragPropagation:i,onDragStart:n}=this.getProps();if(r&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(T[e])return null;else return T[e]=!0,()=>{T[e]=!1};return T.x||T.y?null:(T.x=T.y=!0,()=>{T.x=T.y=!1})}(r),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rG(e=>{let t=this.getAxisMotionValue(e).get()||0;if(eV.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let i=r.layout.layoutBox[e];i&&(t=rU(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),n&&X.postRender(()=>n(e,t)),ec(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:r,dragDirectionLock:i,onDirectionLock:n,onDrag:s}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:o}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(o),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>rG(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:r9(this.visualElement)})}stop(e,t){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:i}=t;this.startAnimation(i);let{onDragEnd:n}=this.getProps();n&&X.postRender(()=>n(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:i}=this.getProps();if(!r||!it(e,i,this.currentDirection))return;let n=this.getAxisMotionValue(e),s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:r},i){return void 0!==t&&e<t?e=i?tB(t,e,i.min):Math.max(e,t):void 0!==r&&e>r&&(e=i?tB(r,e,i.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),n.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,n=this.constraints;t&&rI(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=function(e,{top:t,left:r,bottom:i,right:n}){return{x:rV(e.x,r,n),y:rV(e.y,t,i)}}(i.layoutBox,t):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:r$(e,"left","right"),y:r$(e,"top","bottom")}}(r),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rG(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rI(t))return!1;let i=t.current;V(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let s=function(e,t,r){let i=r4(e,r),{scroll:n}=t;return n&&(r3(i.x,n.offset.x),r3(i.y,n.offset.y)),i}(i,n.root,this.visualElement.getTransformPagePoint()),o=(e=n.layout.layoutBox,{x:rq(e.x,s.x),y:rq(e.y,s.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=rX(e))}return o}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{};return Promise.all(rG(o=>{if(!it(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:r?e[o]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(o,u)})).then(o)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return ec(this.visualElement,e),r.start(rh(e,r,0,t,this.visualElement,!1))}stopAnimation(){rG(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rG(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rG(t=>{let{drag:r}=this.getProps();if(!it(t,r,this.currentDirection))return;let{projection:i}=this.visualElement,n=this.getAxisMotionValue(t);if(i&&i.layout){let{min:r,max:s}=i.layout.layoutBox[t];n.set(e[t]-tB(r,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!rI(t)||!r||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};rG(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let r=t.get();i[e]=function(e,t){let r=.5,i=rU(e),n=rU(t);return n>i?r=E(t.min,t.max-i,e.min):i>n&&(r=E(e.min,e.max-n,t.min)),e_(0,1,r)}({min:r,max:r},this.constraints[e])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rG(t=>{if(!it(t,e,null))return;let r=this.getAxisMotionValue(t),{min:n,max:s}=this.constraints[t];r.set(tB(n,s,i[t]))})}addListeners(){if(!this.visualElement.current)return;r7.set(this.visualElement,this);let e=rP(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();rI(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),X.read(t);let n=rE(window,"resize",()=>this.scalePositionWithinConstraints()),s=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(rG(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),e(),i(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:s=.35,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:s,dragMomentum:o}}}function it(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}class ir extends rw{constructor(e){super(e),this.removeGroupControls=V,this.removeListeners=V,this.controls=new ie(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||V}unmount(){this.removeGroupControls(),this.removeListeners()}}let ii=e=>(t,r)=>{e&&X.postRender(()=>e(t,r))};class is extends rw{constructor(){super(...arguments),this.removePointerDownListener=V}onPointerDown(e){this.session=new rC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r9(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ii(e),onStart:ii(t),onMove:r,onEnd:(e,t)=>{delete this.session,i&&X.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=rP(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var io,ia,il=r(60687),iu=r(43210),ic=r(86044),ih=r(12157);let id=(0,iu.createContext)({}),ip={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function im(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let iy={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!eq.test(e))return e;else e=parseFloat(e);let r=im(e,t.target.x),i=im(e,t.target.y);return`${r}% ${i}%`}},ig={},{schedule:ib,cancel:iv}=G(queueMicrotask,!1);class iw extends iu.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=e;Object.assign(ig,iA),n&&(t.group&&t.group.add(n),r&&r.register&&i&&r.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),ip.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:i,isPresent:n}=this.props,s=r.projection;return s&&(s.isPresent=n,i||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?s.promote():s.relegate()||X.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ib.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iS(e){let[t,r]=(0,ic.xQ)(),i=(0,iu.useContext)(ih.L);return(0,il.jsx)(iw,{...e,layoutGroup:i,switchLayoutGroup:(0,iu.useContext)(id),isPresent:t,safeToRemove:r})}let iA={borderRadius:{...iy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iy,borderTopRightRadius:iy,borderBottomLeftRadius:iy,borderBottomRightRadius:iy,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let i=e2.parse(e);if(i.length>5)return e;let n=e2.createTransformer(e),s=+("number"!=typeof i[0]),o=r.x.scale*t.x,a=r.y.scale*t.y;i[0+s]/=o,i[1+s]/=a;let l=tB(o,a,.5);return"number"==typeof i[2+s]&&(i[2+s]/=l),"number"==typeof i[3+s]&&(i[3+s]/=l),n(i)}}},ik=(e,t)=>e.depth-t.depth;class iE{constructor(){this.children=[],this.isDirty=!1}add(e){er(this.children,e),this.isDirty=!0}remove(e){ei(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ik),this.isDirty=!1,this.children.forEach(e)}}function ix(e){let t=eu(e)?e.get():e;return F(t)?t.toValue():t}let i_=["TopLeft","TopRight","BottomLeft","BottomRight"],iP=i_.length,iT=e=>"string"==typeof e?parseFloat(e):e,iC=e=>"number"==typeof e||eq.test(e);function iB(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let iR=iN(0,.5,ek),iO=iN(.5,.95,V);function iN(e,t,r){return i=>i<e?0:i>t?1:r(E(e,t,i))}function iI(e,t){e.min=t.min,e.max=t.max}function iU(e,t){iI(e.x,t.x),iI(e.y,t.y)}function iK(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iL(e,t,r,i,n){return e-=t,e=i+1/r*(e-i),void 0!==n&&(e=i+1/n*(e-i)),e}function iM(e,t,[r,i,n],s,o){!function(e,t=0,r=1,i=.5,n,s=e,o=e){if(eV.test(t)&&(t=parseFloat(t),t=tB(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let a=tB(s.min,s.max,i);e===s&&(a-=t),e.min=iL(e.min,t,r,a,n),e.max=iL(e.max,t,r,a,n)}(e,t[r],t[i],t[n],t.scale,s,o)}let ij=["x","scaleX","originX"],iD=["y","scaleY","originY"];function iV(e,t,r,i){iM(e.x,t,ij,r?r.x:void 0,i?i.x:void 0),iM(e.y,t,iD,r?r.y:void 0,i?i.y:void 0)}function iq(e){return 0===e.translate&&1===e.scale}function i$(e){return iq(e.x)&&iq(e.y)}function iH(e,t){return e.min===t.min&&e.max===t.max}function iF(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iz(e,t){return iF(e.x,t.x)&&iF(e.y,t.y)}function iW(e){return rU(e.x)/rU(e.y)}function iJ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iG{constructor(){this.members=[]}add(e){er(this.members,e),e.scheduleRender()}remove(e){if(ei(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let iX={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},iY="undefined"!=typeof window&&void 0!==window.MotionDebug,iZ=["","X","Y","Z"],iQ={visibility:"hidden"},i0=0;function i1(e,t,r,i){let{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),i&&(i[e]=0))}function i2({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(e={},r=null==t?void 0:t()){this.id=i0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,iY&&(iX.totalNodes=iX.resolvedTargetDeltas=iX.recalculatedProjection=0),this.nodes.forEach(i6),this.nodes.forEach(nr),this.nodes.forEach(ni),this.nodes.forEach(i5),iY&&window.MotionDebug.record(iX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new iE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new en),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:i,layout:n,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(n||i)&&(this.isLayoutDirty=!0),e){let r,i=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){let r=et.now(),i=({timestamp:n})=>{let s=n-r;s>=250&&(Y(i),e(s-t))};return X.read(i,!0),()=>Y(i)}(i,250),ip.hasAnimatedSinceResize&&(ip.hasAnimatedSinceResize=!1,this.nodes.forEach(nt))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||n)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:r,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||s.getDefaultTransition()||nu,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=s.getProps(),l=!this.targetLayout||!iz(this.targetLayout,i)||r,u=!t&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...g(n,"layout"),onPlay:o,onComplete:a};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||nt(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Y(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nn),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let i=r.props[ed];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",X,!(e||r))}let{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i9);return}this.isUpdating||this.nodes.forEach(i7),this.isUpdating=!1,this.nodes.forEach(ne),this.nodes.forEach(i8),this.nodes.forEach(i3),this.clearAllSnapshots();let e=et.now();Z.delta=e_(0,1e3/60,e-Z.timestamp),Z.timestamp=e,Z.isProcessing=!0,Q.update.process(Z),Q.preRender.process(Z),Q.render.process(Z),Z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ib.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i4),this.sharedNodes.forEach(ns)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,X.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){X.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rJ(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!n)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!i$(this.projectionDelta),r=this.getTransformTemplate(),i=r?r(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&(t||rQ(this.latestValues)||s)&&(n(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),i=this.removeElementScroll(r);return e&&(i=this.removeTransform(i)),nd((t=i).x),nd(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return rJ();let r=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(np))){let{scroll:e}=this.root;e&&(r3(r.x,e.offset.x),r3(r.y,e.offset.y))}return r}removeElementScroll(e){var t;let r=rJ();if(iU(r,e),null==(t=this.scroll)?void 0:t.wasRoot)return r;for(let t=0;t<this.path.length;t++){let i=this.path[t],{scroll:n,options:s}=i;i!==this.root&&n&&s.layoutScroll&&(n.wasRoot&&iU(r,e),r3(r.x,n.offset.x),r3(r.y,n.offset.y))}return r}applyTransform(e,t=!1){let r=rJ();iU(r,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&r5(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),rQ(i.latestValues)&&r5(r,i.latestValues)}return rQ(this.latestValues)&&r5(r,this.latestValues),r}removeTransform(e){let t=rJ();iU(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!rQ(r.latestValues))continue;rZ(r.latestValues)&&r.updateSnapshot();let i=rJ();iU(i,r.measurePageBox()),iV(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,i)}return rQ(this.latestValues)&&iV(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,r,i,n;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let o=!!this.resumingFrom||this!==s;if(!(e||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:l}=this.options;if(this.layout&&(a||l)){if(this.resolvedRelativeTargetAt=Z.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rJ(),this.relativeTargetOrigin=rJ(),rD(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),iU(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=rJ(),this.targetWithTransforms=rJ()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),r=this.target,i=this.relativeTarget,n=this.relativeParent.target,rM(r.x,i.x,n.x),rM(r.y,i.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):iU(this.target,this.layout.layoutBox),r8(this.target,this.targetDelta)):iU(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rJ(),this.relativeTargetOrigin=rJ(),rD(this.relativeTargetOrigin,this.target,e.target),iU(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}iY&&iX.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rZ(this.parent.latestValues)||r0(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),r=!!this.resumingFrom||this!==t,i=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(i=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===Z.timestamp&&(i=!1),i)return;let{layout:n,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||s))return;iU(this.layoutCorrected,this.layout.layoutBox);let o=this.treeScale.x,a=this.treeScale.y;!function(e,t,r,i=!1){let n,s,o=r.length;if(o){t.x=t.y=1;for(let a=0;a<o;a++){s=(n=r[a]).projectionDelta;let{visualElement:o}=n.options;(!o||!o.props.style||"contents"!==o.props.style.display)&&(i&&n.options.layoutScroll&&n.scroll&&n!==n.root&&r5(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,r8(e,s)),i&&rQ(n.latestValues)&&r5(e,n.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,r),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=rJ());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(iK(this.prevProjectionDelta.x,this.projectionDelta.x),iK(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),rL(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&iJ(this.projectionDelta.x,this.prevProjectionDelta.x)&&iJ(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),iY&&iX.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rz(),this.projectionDelta=rz(),this.projectionDeltaWithTransform=rz()}setAnimationOrigin(e,t=!1){let r,i=this.snapshot,n=i?i.latestValues:{},s={...this.latestValues},o=rz();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=rJ(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(nl));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(no(o.x,e.x,i),no(o.y,e.y,i),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,f,p,m,y;rD(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=a,y=i,na(f.x,p.x,m.x,y),na(f.y,p.y,m.y,y),r&&(u=this.relativeTarget,d=r,iH(u.x,d.x)&&iH(u.y,d.y))&&(this.isProjectionDirty=!1),r||(r=rJ()),iU(r,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,r,i,n,s){n?(e.opacity=tB(0,void 0!==r.opacity?r.opacity:1,iR(i)),e.opacityExit=tB(void 0!==t.opacity?t.opacity:1,0,iO(i))):s&&(e.opacity=tB(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,i));for(let n=0;n<iP;n++){let s=`border${i_[n]}Radius`,o=iB(t,s),a=iB(r,s);(void 0!==o||void 0!==a)&&(o||(o=0),a||(a=0),0===o||0===a||iC(o)===iC(a)?(e[s]=Math.max(tB(iT(o),iT(a),i),0),(eV.test(a)||eV.test(o))&&(e[s]+="%")):e[s]=a)}(t.rotate||r.rotate)&&(e.rotate=tB(t.rotate||0,r.rotate||0,i))}(s,n,this.latestValues,i,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Y(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=X.update(()=>{ip.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){let i=eu(0)?0:el(e);return i.start(rh("",i,1e3,r)),i.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:i,latestValues:n}=e;if(t&&r&&i){if(this!==e&&this.layout&&i&&nf(this.options.animationType,this.layout.layoutBox,i.layoutBox)){r=this.target||rJ();let t=rU(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let i=rU(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+i}iU(t,r),r5(t,n),rL(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new iG),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let i=this.getStack();i&&i.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let i={};r.z&&i1("z",e,i,this.animationValues);for(let t=0;t<iZ.length;t++)i1(`rotate${iZ[t]}`,e,i,this.animationValues),i1(`skew${iZ[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iQ;let i={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=ix(null==e?void 0:e.pointerEvents)||"",i.transform=n?n(this.latestValues,""):"none",i;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=ix(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!rQ(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}let o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),i.transform=function(e,t,r){let i="",n=e.x.translate/t.x,s=e.y.translate/t.y,o=(null==r?void 0:r.z)||0;if((n||s||o)&&(i=`translate3d(${n}px, ${s}px, ${o}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:n,rotateY:s,skewX:o,skewY:a}=r;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),n&&(i+=`rotateX(${n}deg) `),s&&(i+=`rotateY(${s}deg) `),o&&(i+=`skewX(${o}deg) `),a&&(i+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(i+=`scale(${a}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),n&&(i.transform=n(o,i.transform));let{x:a,y:l}=this.projectionDelta;for(let e in i.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?i.opacity=s===this?null!=(r=null!=(t=o.opacity)?t:this.latestValues.opacity)?r:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:i.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0,ig){if(void 0===o[e])continue;let{correct:t,applyTo:r}=ig[e],n="none"===i.transform?o[e]:t(o[e],s);if(r){let e=r.length;for(let t=0;t<e;t++)i[r[t]]=n}else i[e]=n}return this.options.layoutId&&(i.pointerEvents=s===this?ix(null==e?void 0:e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(i9),this.root.sharedNodes.clear()}}}function i8(e){e.updateLayout()}function i3(e){var t;let r=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:i}=e.layout,{animationType:n}=e.options,s=r.source!==e.layout.source;"size"===n?rG(e=>{let i=s?r.measuredBox[e]:r.layoutBox[e],n=rU(i);i.min=t[e].min,i.max=i.min+n}):nf(n,r.layoutBox,t)&&rG(i=>{let n=s?r.measuredBox[i]:r.layoutBox[i],o=rU(t[i]);n.max=n.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+o)});let o=rz();rL(o,t,r.layoutBox);let a=rz();s?rL(a,e.applyTransform(i,!0),r.measuredBox):rL(a,t,r.layoutBox);let l=!i$(o),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:n,layout:s}=i;if(n&&s){let o=rJ();rD(o,r.layoutBox,n.layoutBox);let a=rJ();rD(a,t,s.layoutBox),iz(o,a)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function i6(e){iY&&iX.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function i5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function i4(e){e.clearSnapshot()}function i9(e){e.clearMeasurements()}function i7(e){e.isLayoutDirty=!1}function ne(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nt(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nr(e){e.resolveTargetDelta()}function ni(e){e.calcProjection()}function nn(e){e.resetSkewAndRotation()}function ns(e){e.removeLeadSnapshot()}function no(e,t,r){e.translate=tB(t.translate,0,r),e.scale=tB(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function na(e,t,r,i){e.min=tB(t.min,r.min,i),e.max=tB(t.max,r.max,i)}function nl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nu={duration:.45,ease:[.4,0,.1,1]},nc=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nh=nc("applewebkit/")&&!nc("chrome/")?Math.round:V;function nd(e){e.min=nh(e.min),e.max=nh(e.max)}function nf(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(iW(t)-iW(r)))}function np(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}let nm=i2({attachResizeListener:(e,t)=>rE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ny={current:void 0},ng=i2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ny.current){let e=new nm({});e.mount(window),e.setOptions({layoutScroll:!0}),ny.current=e}return ny.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function nb(e,t,r){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===r);let n=i["onHover"+r];n&&X.postRender(()=>n(t,rx(t)))}class nv extends rw{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[i,n,s]=C(e,r),o=B(e=>{let{target:r}=e,i=t(e);if("function"!=typeof i||!r)return;let s=B(e=>{i(e),r.removeEventListener("pointerleave",s)});r.addEventListener("pointerleave",s,n)});return i.forEach(e=>{e.addEventListener("pointerenter",o,n)}),s}(e,e=>(nb(this.node,e,"Start"),e=>nb(this.node,e,"End"))))}unmount(){}}class nw extends rw{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tj(rE(this.node.current,"focus",()=>this.onFocus()),rE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nS(e,t,r){let{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===r);let n=i["onTap"+("End"===r?"":r)];n&&X.postRender(()=>n(t,rx(t)))}class nA extends rw{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[i,n,s]=C(e,r),o=e=>{let i=e.currentTarget;if(!M(e)||I.has(i))return;I.add(i);let s=t(e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),M(e)&&I.has(i)&&(I.delete(i),"function"==typeof s&&s(e,{success:t}))},a=e=>{o(e,r.useGlobalTarget||R(i,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,n),window.addEventListener("pointercancel",l,n)};return i.forEach(e=>{N.has(e.tagName)||-1!==e.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0),(r.useGlobalTarget?window:e).addEventListener("pointerdown",o,n),e.addEventListener("focus",e=>L(e,n),n)}),s}(e,e=>(nS(this.node,e,"Start"),(e,{success:t})=>nS(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let nk=new WeakMap,nE=new WeakMap,nx=e=>{let t=nk.get(e.target);t&&t(e)},n_=e=>{e.forEach(nx)},nP={some:0,all:1};class nT extends rw{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:n}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof i?i:nP[i]};return function(e,t,r){let i=function({root:e,...t}){let r=e||document;nE.has(r)||nE.set(r,{});let i=nE.get(r),n=JSON.stringify(t);return i[n]||(i[n]=new IntersectionObserver(n_,{root:e,...t})),i[n]}(t);return nk.set(e,r),i.observe(e),()=>{nk.delete(e),i.unobserve(e)}}(this.node.current,s,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,n&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:i}=this.node.getProps(),s=t?r:i;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}let nC=(0,iu.createContext)({strict:!1});var nB=r(32582);let nR=(0,iu.createContext)({});function nO(e){return n(e.animate)||d.some(t=>a(e[t]))}function nN(e){return!!(nO(e)||e.variants)}function nI(e){return Array.isArray(e)?e.join(" "):e}var nU=r(7044);let nK={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nL={};for(let e in nK)nL[e]={isEnabled:t=>nK[e].some(e=>!!t[e])};let nM=Symbol.for("motionComponentSymbol");var nj=r(21279),nD=r(15124);let nV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nq(e){if("string"!=typeof e||e.includes("-"));else if(nV.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}var n$=r(72789);let nH=e=>(t,r)=>{let i=(0,iu.useContext)(nR),s=(0,iu.useContext)(nj.t),o=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},i,s,o){let a={latestValues:function(e,t,r,i){let s={},o=i(e,{});for(let e in o)s[e]=ix(o[e]);let{initial:a,animate:l}=e,c=nO(e),h=nN(e);t&&h&&!c&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let d=!!r&&!1===r.initial,f=(d=d||!1===a)?l:a;if(f&&"boolean"!=typeof f&&!n(f)){let t=Array.isArray(f)?f:[f];for(let r=0;r<t.length;r++){let i=u(e,t[r]);if(i){let{transitionEnd:e,transition:t,...r}=i;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(i,s,o,e),renderState:t()};return r&&(a.onMount=e=>r({props:i,current:e,...a}),a.onUpdate=e=>r(e)),a})(e,t,i,s);return r?o():(0,n$.M)(o)},nF=(e,t)=>t&&"number"==typeof e?t.transform(e):e,nz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nW=q.length;function nJ(e,t,r){let{style:i,vars:n,transformOrigin:s}=e,o=!1,a=!1;for(let e in t){let r=t[e];if($.has(e)){o=!0;continue}if(tg(e)){n[e]=r;continue}{let t=nF(r,e9[e]);e.startsWith("origin")?(a=!0,s[e]=t):i[e]=t}}if(!t.transform&&(o||r?i.transform=function(e,t,r){let i="",n=!0;for(let s=0;s<nW;s++){let o=q[s],a=e[o];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===+!!o.startsWith("scale"):0===parseFloat(a))||r){let e=nF(a,e9[o]);if(!l){n=!1;let t=nz[o]||o;i+=`${t}(${e}) `}r&&(t[o]=e)}}return i=i.trim(),r?i=r(t,n?"":i):n&&(i="none"),i}(t,e.transform,r):i.transform&&(i.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:r=0}=s;i.transformOrigin=`${e} ${t} ${r}`}}let nG={offset:"stroke-dashoffset",array:"stroke-dasharray"},nX={offset:"strokeDashoffset",array:"strokeDasharray"};function nY(e,t,r){return"string"==typeof e?e:eq.transform(t+r*e)}function nZ(e,{attrX:t,attrY:r,attrScale:i,originX:n,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(nJ(e,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f,dimensions:p}=e;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(void 0!==n||void 0!==s||f.transform)&&(f.transformOrigin=function(e,t,r){let i=nY(t,e.x,e.width),n=nY(r,e.y,e.height);return`${i} ${n}`}(p,void 0!==n?n:.5,void 0!==s?s:.5)),void 0!==t&&(d.x=t),void 0!==r&&(d.y=r),void 0!==i&&(d.scale=i),void 0!==o&&function(e,t,r=1,i=0,n=!0){e.pathLength=1;let s=n?nG:nX;e[s.offset]=eq.transform(-i);let o=eq.transform(t),a=eq.transform(r);e[s.array]=`${o} ${a}`}(d,o,a,l,!1)}let nQ=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),n0=()=>({...nQ(),attrs:{}}),n1=e=>"string"==typeof e&&"svg"===e.toLowerCase();function n2(e,{style:t,vars:r},i,n){for(let s in Object.assign(e.style,t,n&&n.getProjectionStyles(i)),r)e.style.setProperty(s,r[s])}let n8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n3(e,t,r,i){for(let r in n2(e,t,void 0,i),t.attrs)e.setAttribute(n8.has(r)?r:eh(r),t.attrs[r])}function n6(e,{layout:t,layoutId:r}){return $.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!ig[e]||"opacity"===e)}function n5(e,t,r){var i;let{style:n}=e,s={};for(let o in n)(eu(n[o])||t.style&&eu(t.style[o])||n6(o,e)||(null==(i=null==r?void 0:r.getValue(o))?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}function n4(e,t,r){let i=n5(e,t,r);for(let r in e)(eu(e[r])||eu(t[r]))&&(i[-1!==q.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return i}let n9=["x","y","width","height","cx","cy","r"],n7={useVisualState:nH({scrapeMotionValuesFromProps:n4,createRenderState:n0,onUpdate:({props:e,prevProps:t,current:r,renderState:i,latestValues:n})=>{if(!r)return;let s=!!e.drag;if(!s){for(let e in n)if($.has(e)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let r=0;r<n9.length;r++){let i=n9[r];e[i]!==t[i]&&(o=!0)}o&&X.read(()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}(r,i),X.render(()=>{nZ(i,n,n1(r.tagName),e.transformTemplate),n3(r,i)})})}})},se={useVisualState:nH({scrapeMotionValuesFromProps:n5,createRenderState:nQ})};function st(e,t,r){for(let i in t)eu(t[i])||n6(i,r)||(e[i]=t[i])}let sr=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function si(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sr.has(e)}let sn=e=>!si(e);try{!function(e){e&&(sn=t=>t.startsWith("on")?!si(t):e(t))}(require("@emotion/is-prop-valid").default)}catch(e){}let ss={current:null},so={current:!1},sa=[...tk,eW,e2],sl=e=>sa.find(tA(e)),su=new WeakMap,sc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sh{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=et.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,X.render(this.render,!1,!0))};let{latestValues:a,renderState:l,onUpdate:u}=s;this.onUpdate=u,this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!n,this.isControllingVariants=nO(t),this.isVariantNode=nN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in h){let t=h[e];void 0!==a[e]&&eu(t)&&t.set(a[e],!1)}}mount(e){this.current=e,su.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),so.current||function(){if(so.current=!0,nU.B)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ss.current=e.matches;e.addListener(t),t()}else ss.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ss.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in su.delete(this.current),this.projection&&this.projection.unmount(),Y(this.notifyUpdate),Y(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let i=$.has(e),n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&X.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),s(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in nL){let t=nL[e];if(!t)continue;let{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rJ()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<sc.length;t++){let r=sc[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,r){for(let i in t){let n=t[i],s=r[i];if(eu(n))e.addValue(i,n);else if(eu(s))e.addValue(i,el(n,{owner:e}));else if(s!==n)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{let t=e.getStaticValue(i);e.addValue(i,el(void 0!==t?t:n,{owner:e}))}}for(let i in r)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=el(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=void 0===this.latestValues[e]&&this.current?null!=(r=this.getBaseTargetFromProps(this.props,e))?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=i&&("string"==typeof i&&(tm(i)||ex(i))?i=parseFloat(i):!sl(i)&&e2.test(t)&&(i=tt(e,t)),this.setBaseTarget(e,eu(i)?i.get():i)),eu(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let r,{initial:i}=this.props;if("string"==typeof i||"object"==typeof i){let n=u(this.props,i,null==(t=this.presenceContext)?void 0:t.custom);n&&(r=n[e])}if(i&&void 0!==r)return r;let n=this.getBaseTargetFromProps(this.props,e);return void 0===n||eu(n)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new en),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sd extends sh{constructor(){super(...arguments),this.KeyframeResolver=tx}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eu(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class sf extends sd{constructor(){super(...arguments),this.type="html",this.renderInstance=n2}readValueFromInstance(e,t){if($.has(t)){let e=te(t);return e&&e.default||0}{let r=window.getComputedStyle(e),i=(tg(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return r4(e,t)}build(e,t,r){nJ(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return n5(e,t,r)}}class sp extends sd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rJ}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($.has(t)){let e=te(t);return e&&e.default||0}return t=n8.has(t)?t:eh(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return n4(e,t,r)}build(e,t,r){nZ(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){n3(e,t,r,i)}mount(e){this.isSVGTag=n1(e.tagName),super.mount(e)}}let sm=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(r,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}((io={animation:{Feature:rS},exit:{Feature:rk},inView:{Feature:nT},tap:{Feature:nA},focus:{Feature:nw},hover:{Feature:nv},pan:{Feature:is},drag:{Feature:ir,ProjectionNode:ng,MeasureLayout:iS},layout:{ProjectionNode:ng,MeasureLayout:iS}},ia=(e,t)=>nq(e)?new sp(t):new sf(t,{allowProjection:e!==iu.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:i,Component:n}){var s,o;function l(e,s){var o,l,u;let c,h={...(0,iu.useContext)(nB.Q),...e,layoutId:function({layoutId:e}){let t=(0,iu.useContext)(ih.L).id;return t&&void 0!==e?t+"-"+e:e}(e)},{isStatic:d}=h,f=function(e){let{initial:t,animate:r}=function(e,t){if(nO(e)){let{initial:t,animate:r}=e;return{initial:!1===t||a(t)?t:void 0,animate:a(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,iu.useContext)(nR));return(0,iu.useMemo)(()=>({initial:t,animate:r}),[nI(t),nI(r)])}(e),p=i(e,d);if(!d&&nU.B){l=0,u=0,(0,iu.useContext)(nC).strict;let e=function(e){let{drag:t,layout:r}=nL;if(!t&&!r)return{};let i={...t,...r};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==r?void 0:r.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(h);c=e.MeasureLayout,f.visualElement=function(e,t,r,i,n){var s,o;let{visualElement:a}=(0,iu.useContext)(nR),l=(0,iu.useContext)(nC),u=(0,iu.useContext)(nj.t),c=(0,iu.useContext)(nB.Q).reducedMotion,h=(0,iu.useRef)(null);i=i||l.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));let d=h.current,f=(0,iu.useContext)(id);d&&!d.projection&&n&&("html"===d.type||"svg"===d.type)&&function(e,t,r,i){let{layoutId:n,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:n,layout:s,alwaysMeasureLayout:!!o||a&&rI(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}(h.current,r,n,f);let p=(0,iu.useRef)(!1);(0,iu.useInsertionEffect)(()=>{d&&p.current&&d.update(r,u)});let m=r[ed],y=(0,iu.useRef)(!!m&&!(null==(s=window.MotionHandoffIsComplete)?void 0:s.call(window,m))&&(null==(o=window.MotionHasOptimisedAnimation)?void 0:o.call(window,m)));return(0,nD.E)(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),ib.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),(0,iu.useEffect)(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,m)}),y.current=!1))}),d}(n,p,h,t,e.ProjectionNode)}return(0,il.jsxs)(nR.Provider,{value:f,children:[c&&f.visualElement?(0,il.jsx)(c,{visualElement:f.visualElement,...h}):null,r(n,e,(o=f.visualElement,(0,iu.useCallback)(e=>{e&&p.onMount&&p.onMount(e),o&&(e?o.mount(e):o.unmount()),s&&("function"==typeof s?s(e):rI(s)&&(s.current=e))},[o])),p,d,f.visualElement)]})}e&&function(e){for(let t in e)nL[t]={...nL[t],...e[t]}}(e),l.displayName=`motion.${"string"==typeof n?n:`create(${null!=(o=null!=(s=n.displayName)?s:n.name)?o:""})`}`;let u=(0,iu.forwardRef)(l);return u[nM]=n,u}({...nq(e)?n7:se,preloadedFeatures:io,useRender:function(e=!1){return(t,r,i,{latestValues:n},s)=>{let o=(nq(t)?function(e,t,r,i){let n=(0,iu.useMemo)(()=>{let r=n0();return nZ(r,t,n1(i),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};st(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let r={},i=function(e,t){let r=e.style||{},i={};return st(i,r,e),Object.assign(i,function({transformTemplate:e},t){return(0,iu.useMemo)(()=>{let r=nQ();return nJ(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),i}(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r})(r,n,s,t),a=function(e,t,r){let i={};for(let n in e)("values"!==n||"object"!=typeof e.values)&&(sn(n)||!0===r&&si(n)||!t&&!si(n)||e.draggable&&n.startsWith("onDrag"))&&(i[n]=e[n]);return i}(r,"string"==typeof t,e),l=t!==iu.Fragment?{...a,...o,ref:i}:{},{children:u}=r,c=(0,iu.useMemo)(()=>eu(u)?u.get():u,[u]);return(0,iu.createElement)(t,{...l,children:c})}}(t),createVisualElement:ia,Component:e})}))},98712:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},99090:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let s of(r&&(r=r.toLowerCase()),e)){var i,n;if(t===(null==(i=s.domain)?void 0:i.split(":",1)[0].toLowerCase())||r===s.defaultLocale.toLowerCase()||(null==(n=s.locales)?void 0:n.some(e=>e.toLowerCase()===r)))return s}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})}};