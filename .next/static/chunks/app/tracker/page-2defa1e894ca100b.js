(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{32752:(e,a,t)=>{"use strict";t.d(a,{PeriodTracker:()=>C});var r=t(95155),s=t(12115),i=t(2296),n=t(40714),o=t(35695),d=t(46078),l=t(99424),c=t(29468),g=t(67312),m=t(33461),u=t(93509),h=t(71539),x=t(47863),y=t(66474),p=t(25668),b=t(13052),k=t(95452),f=t(8053),v=t(53531);let j=[{name:"Happy",icon:l.A},{name:"Sad",icon:c.A},{name:"Calm",icon:g.A},{name:"Angry",icon:m.A},{name:"Tired",icon:u.A},{name:"Energized",icon:h.A}],w=[{name:"Low",value:"low"},{name:"Medium",value:"medium"},{name:"High",value:"high"}],N=["Lower Abdomen Cramps","Back Pain","Bloating","Fatigue","Headaches","Nausea","Sleep Disruption","Digestive Issues"],S=["None","Mild","Moderate","Severe"],D=["Poor","Fair","Good","Excellent"];function C(){let e=(0,o.useRouter)(),{isLoaded:a,isSignedIn:t}=(0,d.As)(),{user:l}=(0,d.Jd)(),{width:c}=(0,v.A)();(0,s.useEffect)(()=>{a&&!t&&e.push("/login")},[a,t,e]);let[g,m]=(0,s.useState)(!0),[u,h]=(0,s.useState)(""),[C,A]=(0,s.useState)(""),[P,T]=(0,s.useState)(""),[M,E]=(0,s.useState)([]),[F,L]=(0,s.useState)(""),[I,R]=(0,s.useState)((0,i.GP)(new Date,"yyyy-MM-dd")),[q,U]=(0,s.useState)([]),[_,Y]=(0,s.useState)({}),[z,B]=(0,s.useState)((0,i.GP)(new Date,"yyyy-MM-dd")),[G,H]=(0,s.useState)(""),[O,V]=(0,s.useState)(""),[K,Q]=(0,s.useState)(""),[Z,J]=(0,s.useState)({cycleInfo:!0,moodTracking:!0,symptomTracking:!0,sleepTracking:!0,healthTips:!0}),[X,W]=(0,s.useState)(!1),[$,ee]=(0,s.useState)(0),ea=e=>{let{name:a,value:t}=e.target;switch(a){case"cycleDuration":h(t);break;case"lastPeriodStart":A(t);break;case"lastPeriodDuration":T(t);break;case"moodDate":R(t);break;case"symptomDate":B(t);break;case"sleepDuration":H(t);break;case"sleepQuality":V(t)}},et=e=>{E(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},er=e=>{U(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},es=(e,a)=>{Y(t=>({...t,[e]:a}))},ei=async a=>{if(a&&a.preventDefault(),!t||!l){alert("You must be logged in to submit data"),e.push("/login");return}let r={userId:l.id,cycleDuration:u,lastPeriodStart:C,lastPeriodDuration:P,moodTypes:M,moodSeverity:F,moodDate:I,symptoms:q,symptomSeverities:_,symptomDate:z,sleepDuration:G,sleepQuality:O,nextPeriodPrediction:K};try{await (0,k.ZU)("/api/period/trackerdata",{method:"POST",data:r}),console.log("Data submitted successfully"),W(!0),alert("Data submitted successfully!")}catch(e){console.error("Error submitting data:",e),alert("Error submitting data. Please try again.")}},en=e=>{J(a=>({...a,[e]:!a[e]}))},eo=(e,a,t)=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>en(t),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:e}),Z[t]?(0,r.jsx)(x.A,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}):(0,r.jsx)(y.A,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})]}),Z[t]&&(0,r.jsx)("div",{className:"mt-4",children:a})]}),ed=(0,s.useMemo)(()=>{let e=[];if(u){let a=parseInt(u);a<21?e.push("Your cycle is shorter than average. Consider consulting with a healthcare professional to ensure everything is normal."):a>35?e.push("Your cycle is longer than average. This can be normal, but you may want to discuss it with your doctor."):e.push("Your cycle length is within the normal range. Keep tracking to notice any changes.")}if(P){let a=parseInt(P);a>7?e.push("Your period duration is longer than average. If this is consistent, consider discussing it with your healthcare provider."):a<3?e.push("Your period duration is shorter than average. This can be normal, but tracking consistently will help identify any patterns."):e.push("Your period duration is within the normal range. Continue tracking to maintain awareness of your cycle.")}return q.includes("Lower Abdomen Cramps")&&("Severe"===(_["Lower Abdomen Cramps"]||"Not specified")?e.push("For severe cramps, consider over-the-counter pain relievers, a heating pad, and gentle exercise. If pain is debilitating, consult your doctor."):e.push("For menstrual cramps, try using a heating pad, gentle yoga, or over-the-counter pain relievers if needed.")),q.includes("Fatigue")&&e.push("Combat period fatigue by ensuring adequate iron intake, staying hydrated, and getting enough rest. Consider iron-rich foods like spinach, beans, and lean meats."),q.includes("Bloating")&&e.push("To reduce bloating, try limiting salt intake, avoiding carbonated drinks, and eating smaller, more frequent meals. Gentle exercise can also help."),("Poor"===O||"Fair"===O)&&e.push("Improve sleep quality by maintaining a regular sleep schedule, creating a comfortable sleep environment, and avoiding caffeine and screens before bedtime."),(M.includes("Sad")||M.includes("Angry"))&&e.push("Mood changes during your cycle are normal. Regular exercise, mindfulness practices, and adequate sleep can help manage mood fluctuations."),0===e.length&&e.push("Keep tracking your cycle regularly to receive personalized health insights."),e},[u,P,q,_,O,M]),el=(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cycleDuration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Average Cycle Duration (days)"}),(0,r.jsx)("input",{type:"number",id:"cycleDuration",name:"cycleDuration",value:u,onChange:ea,min:"1",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastPeriodStart",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Period Start Date"}),(0,r.jsx)("input",{type:"date",id:"lastPeriodStart",name:"lastPeriodStart",value:C,onChange:ea,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastPeriodDuration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Period Duration (days)"}),(0,r.jsx)("input",{type:"number",id:"lastPeriodDuration",name:"lastPeriodDuration",value:P,onChange:ea,min:"1",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),(0,r.jsx)("button",{onClick:()=>{if(C&&u){let e=(0,n.f)(new Date(C),parseInt(u));Q((0,i.GP)(e,"yyyy-MM-dd"))}},className:"mt-4 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600",children:"Predict Next Period"}),K&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-indigo-50 dark:bg-indigo-900 rounded-md",children:(0,r.jsxs)("p",{className:"text-indigo-700 dark:text-indigo-200",children:["Your next period is predicted to start around:"," ",(0,r.jsx)("span",{className:"font-semibold",children:K})]})})]}),ec=(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"moodDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),(0,r.jsx)("input",{type:"date",id:"moodDate",name:"moodDate",value:I,onChange:ea,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mood Types (select all that apply)"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map(e=>{let a=e.icon,t=M.includes(e.name);return(0,r.jsxs)("button",{type:"button",onClick:()=>et(e.name),className:"flex items-center space-x-2 p-3 rounded-md transition-colors ".concat(t?"bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,r.jsx)(a,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:e.name})]},e.name)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mood Intensity"}),(0,r.jsx)("div",{className:"flex space-x-3",children:w.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>L(e.value),className:"px-4 py-2 rounded-md transition-colors ".concat(F===e.value?"bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e.name},e.value))})]})]}),eg=(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"symptomDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),(0,r.jsx)("input",{type:"date",id:"symptomDate",name:"symptomDate",value:z,onChange:ea,className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Symptoms"}),(0,r.jsx)("div",{className:"space-y-3",children:N.map(e=>{let a=q.includes(e);return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"symptom-".concat(e),checked:a,onChange:()=>er(e),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"}),(0,r.jsx)("label",{htmlFor:"symptom-".concat(e),className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:e})]}),a&&(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Severity"}),(0,r.jsx)("div",{className:"flex space-x-2",children:S.map(a=>(0,r.jsx)("button",{type:"button",onClick:()=>es(e,a),className:"px-2 py-1 text-xs rounded-md transition-colors ".concat(_[e]===a?"bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:a},"".concat(e,"-").concat(a)))})]})]},e)})})]})]}),em=(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sleepDuration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sleep Duration (hours)"}),(0,r.jsx)("input",{type:"number",id:"sleepDuration",name:"sleepDuration",value:G,onChange:ea,min:"0",max:"24",step:"0.5",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sleep Quality"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>V(e),className:"px-4 py-2 rounded-md transition-colors ".concat(O===e?"bg-indigo-100 dark:bg-indigo-800 text-indigo-700 dark:text-indigo-200":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e},e))})]})]}),eu=(0,r.jsx)("div",{className:"space-y-4",children:X?(0,r.jsx)("div",{children:(0,r.jsx)("ul",{className:"space-y-2",children:ed.map((e,a)=>(0,r.jsxs)("li",{className:"flex items-start space-x-2 text-gray-700 dark:text-gray-300",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 text-pink-500 flex-shrink-0 mt-0.5"}),(0,r.jsx)("span",{children:e})]},a))})}):(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Submit your tracking data to receive personalized health tips based on your cycle information."})});return(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[(0,r.jsx)(f.A,{sidebarVisible:g,setSidebarVisible:m,activeLink:4}),(0,r.jsx)("div",{className:"flex-1 p-6 lg:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Period Tracker"}),(0,r.jsx)("button",{onClick:()=>{m(!g)},className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",children:(0,r.jsx)(b.A,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your menstrual cycle, symptoms, mood, and sleep patterns to gain insights into your reproductive health."})}),eo("Cycle Information",el,"cycleInfo"),eo("Mood Tracking",ec,"moodTracking"),eo("Symptom Tracking",eg,"symptomTracking"),eo("Sleep Tracking",em,"sleepTracking"),eo("Health Tips",eu,"healthTips"),(0,r.jsx)("div",{className:"mt-8 flex justify-center",children:(0,r.jsx)("button",{onClick:ei,className:"inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 transition-colors",children:"Submit Tracking Data"})})]})})]})}},33461:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("Angry",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["path",{d:"M7.5 8 10 9",key:"olxxln"}],["path",{d:"m14 9 2.5-1",key:"1j6cij"}],["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}]])},47863:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},59306:(e,a,t)=>{Promise.resolve().then(t.bind(t,95028)),Promise.resolve().then(t.bind(t,32752))},66474:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},95028:(e,a,t)=>{"use strict";t.d(a,{default:()=>d});var r=t(95155);t(12115);var s=t(35695),i=t(46078),n=t(51154);let o=e=>{let{size:a="md",text:t="Loading...",className:s="",fullScreen:i=!1}=e,o=(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3 ".concat(s),children:[(0,r.jsx)(n.A,{className:"".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[a]," text-pink-600 animate-spin")}),t&&(0,r.jsx)("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[a]," text-gray-600 dark:text-gray-400 font-medium"),children:t})]});return i?(0,r.jsx)("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 bg-opacity-80 dark:bg-opacity-80 flex items-center justify-center z-50",children:o}):o},d=e=>{let{children:a,redirectTo:t="/login"}=e,{isLoaded:n,isSignedIn:d}=(0,i.As)(),l=(0,s.useRouter)();return n?d?(0,r.jsx)(r.Fragment,{children:a}):(l.push(t),(0,r.jsx)(o,{fullScreen:!0,text:"Redirecting to login..."})):(0,r.jsx)(o,{fullScreen:!0,text:"Checking authentication..."})}},95452:(e,a,t)=>{"use strict";t.d(a,{ZU:()=>l});var r=t(23464);let s={server:t(49509).env.NEXT_PUBLIC_SERVER_URL||"https://shesync.onrender.com/",local:"http://localhost:3000/",render:"https://shesync.onrender.com/"},i=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return r.A.create({baseURL:e,timeout:a,headers:{"Content-Type":"application/json"}})},n=i(s.server,8e3),o=i(s.render,3e4),d=i(s.local,5e3);[n,o,d].forEach(e=>{e.interceptors.request.use(async e=>{var a;if(null==(a=window.Clerk)?void 0:a.user)try{let a=await window.Clerk.user.getToken();a&&(e.headers.Authorization="Bearer ".concat(a))}catch(e){console.warn("Failed to get auth token:",e)}return e},e=>Promise.reject(e))}),[n,o,d].forEach(e=>{e.interceptors.response.use(e=>e,e=>{var a;return(null==(a=e.response)?void 0:a.status)===401&&(console.warn("Unauthorized access - redirecting to login"),window.location.href="/login"),Promise.reject(e)})});let l=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[];for(let s of[n,o,d])try{console.log("Attempting request to ".concat(s.defaults.baseURL).concat(e));let t=await s.request({url:e,...a});return console.log("Request successful to ".concat(s.defaults.baseURL)),t}catch(e){var r;console.warn("Request failed to ".concat(s.defaults.baseURL,":"),e.message),t.push({baseURL:s.defaults.baseURL,error:e.message,status:null==(r=e.response)?void 0:r.status})}throw Error("All API endpoints failed:\n".concat(t.map(e=>{let{baseURL:a,error:t,status:r}=e;return"".concat(a,": ").concat(t," (").concat(r||"Network Error",")")}).join("\n")))}}},e=>{var a=a=>e(e.s=a);e.O(0,[477,155,457,654,657,722,441,684,358],()=>a(59306)),_N_E=e.O()}]);